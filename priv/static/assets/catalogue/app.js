(()=>{var Yt=Object.create;var Pe=Object.defineProperty;var Zt=Object.getOwnPropertyDescriptor;var Qt=Object.getOwnPropertyNames,ut=Object.getOwnPropertySymbols,ei=Object.getPrototypeOf,ft=Object.prototype.hasOwnProperty,ti=Object.prototype.propertyIsEnumerable;var pt=(e,t,i)=>t in e?Pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,ge=(e,t)=>{for(var i in t||(t={}))ft.call(t,i)&&pt(e,i,t[i]);if(ut)for(var i of ut(t))ti.call(t,i)&&pt(e,i,t[i]);return e};var ii=e=>Pe(e,"__esModule",{value:!0});var ni=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var si=(e,t,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Qt(t))!ft.call(e,n)&&n!=="default"&&Pe(e,n,{get:()=>t[n],enumerable:!(i=Zt(t,n))||i.enumerable});return e},ri=e=>si(ii(Pe(e!=null?Yt(ei(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var Wt=ni((wn,Be)=>{var sn=typeof window!="undefined"?window:typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope?self:{},w=function(e){var t=/\blang(?:uage)?-([\w-]+)\b/i,i=0,n={},s={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function d(u){return u instanceof r?new r(u.type,d(u.content),u.alias):Array.isArray(u)?u.map(d):u.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(d){return Object.prototype.toString.call(d).slice(8,-1)},objId:function(d){return d.__id||Object.defineProperty(d,"__id",{value:++i}),d.__id},clone:function d(u,f){var b,y;switch(f=f||{},s.util.type(u)){case"Object":if(y=s.util.objId(u),f[y])return f[y];for(var A in b={},f[y]=b,u)u.hasOwnProperty(A)&&(b[A]=d(u[A],f));return b;case"Array":return y=s.util.objId(u),f[y]?f[y]:(b=[],f[y]=b,u.forEach(function(h,k){b[k]=d(h,f)}),b);default:return u}},getLanguage:function(d){for(;d&&!t.test(d.className);)d=d.parentElement;return d?(d.className.match(t)||[,"none"])[1].toLowerCase():"none"},currentScript:function(){if(typeof document=="undefined")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(b){var d=(/at [^(\r\n]*\((.*):.+:.+\)$/i.exec(b.stack)||[])[1];if(d){var u=document.getElementsByTagName("script");for(var f in u)if(u[f].src==d)return u[f]}return null}},isActive:function(d,u,f){for(var b="no-"+u;d;){var y=d.classList;if(y.contains(u))return!0;if(y.contains(b))return!1;d=d.parentElement}return!!f}},languages:{plain:n,plaintext:n,text:n,txt:n,extend:function(d,u){var f=s.util.clone(s.languages[d]);for(var b in u)f[b]=u[b];return f},insertBefore:function(d,u,f,b){var y=(b=b||s.languages)[d],A={};for(var h in y)if(y.hasOwnProperty(h)){if(h==u)for(var k in f)f.hasOwnProperty(k)&&(A[k]=f[k]);f.hasOwnProperty(h)||(A[h]=y[h])}var x=b[d];return b[d]=A,s.languages.DFS(s.languages,function(H,q){q===x&&H!=d&&(this[H]=A)}),A},DFS:function d(u,f,b,y){y=y||{};var A=s.util.objId;for(var h in u)if(u.hasOwnProperty(h)){f.call(u,h,u[h],b||h);var k=u[h],x=s.util.type(k);x!=="Object"||y[A(k)]?x!=="Array"||y[A(k)]||(y[A(k)]=!0,d(k,f,h,y)):(y[A(k)]=!0,d(k,f,null,y))}}},plugins:{},highlightAll:function(d,u){s.highlightAllUnder(document,d,u)},highlightAllUnder:function(d,u,f){var b={callback:f,container:d,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};s.hooks.run("before-highlightall",b),b.elements=Array.prototype.slice.apply(b.container.querySelectorAll(b.selector)),s.hooks.run("before-all-elements-highlight",b);for(var y,A=0;y=b.elements[A++];)s.highlightElement(y,u===!0,b.callback)},highlightElement:function(d,u,f){var b=s.util.getLanguage(d),y=s.languages[b];d.className=d.className.replace(t,"").replace(/\s+/g," ")+" language-"+b;var A=d.parentElement;A&&A.nodeName.toLowerCase()==="pre"&&(A.className=A.className.replace(t,"").replace(/\s+/g," ")+" language-"+b);var h={element:d,language:b,grammar:y,code:d.textContent};function k(H){h.highlightedCode=H,s.hooks.run("before-insert",h),h.element.innerHTML=h.highlightedCode,s.hooks.run("after-highlight",h),s.hooks.run("complete",h),f&&f.call(h.element)}if(s.hooks.run("before-sanity-check",h),!h.code)return s.hooks.run("complete",h),void(f&&f.call(h.element));if(s.hooks.run("before-highlight",h),h.grammar)if(u&&e.Worker){var x=new Worker(s.filename);x.onmessage=function(H){k(H.data)},x.postMessage(JSON.stringify({language:h.language,code:h.code,immediateClose:!0}))}else k(s.highlight(h.code,h.grammar,h.language));else k(s.util.encode(h.code))},highlight:function(d,u,f){var b={code:d,grammar:u,language:f};return s.hooks.run("before-tokenize",b),b.tokens=s.tokenize(b.code,b.grammar),s.hooks.run("after-tokenize",b),r.stringify(s.util.encode(b.tokens),b.language)},tokenize:function(d,u){var f=u.rest;if(f){for(var b in f)u[b]=f[b];delete u.rest}var y=new o;return l(y,y.head,d),function A(h,k,x,H,q,M){for(var T in x)if(x.hasOwnProperty(T)&&x[T]){var R=x[T];R=Array.isArray(R)?R:[R];for(var I=0;I<R.length;++I){if(M&&M.cause==T+","+I)return;var L=R[I],D=L.inside,U=!!L.lookbehind,E=!!L.greedy,C=L.alias;if(E&&!L.pattern.global){var S=L.pattern.toString().match(/[imsuy]*$/)[0];L.pattern=RegExp(L.pattern.source,S+"g")}for(var _=L.pattern||L,P=H.next,O=q;P!==k.tail&&!(M&&O>=M.reach);O+=P.value.length,P=P.next){var B=P.value;if(k.length>h.length)return;if(!(B instanceof r)){var J,z=1;if(E){if(!(J=a(_,O,h,U)))break;var oe=J.index,ce=J.index+J[0].length,F=O;for(F+=P.value.length;F<=oe;)P=P.next,F+=P.value.length;if(F-=P.value.length,O=F,P.value instanceof r)continue;for(var te=P;te!==k.tail&&(F<ce||typeof te.value=="string");te=te.next)z++,F+=te.value.length;z--,B=h.slice(O,F),J.index-=O}else if(!(J=a(_,0,B,U)))continue;var oe=J.index,Te=J[0],ze=B.slice(0,oe),ct=B.slice(oe+Te.length),Ve=O+B.length;M&&Ve>M.reach&&(M.reach=Ve);var xe=P.prev;ze&&(xe=l(k,xe,ze),O+=ze.length),c(k,xe,z);var Gt=new r(T,D?s.tokenize(Te,D):Te,C,Te);if(P=l(k,xe,Gt),ct&&l(k,P,ct),1<z){var We={cause:T+","+I,reach:Ve};A(h,k,x,P.prev,O,We),M&&We.reach>M.reach&&(M.reach=We.reach)}}}}}}(d,y,u,y.head,0),function(A){for(var h=[],k=A.head.next;k!==A.tail;)h.push(k.value),k=k.next;return h}(y)},hooks:{all:{},add:function(d,u){var f=s.hooks.all;f[d]=f[d]||[],f[d].push(u)},run:function(d,u){var f=s.hooks.all[d];if(f&&f.length)for(var b,y=0;b=f[y++];)b(u)}},Token:r};function r(d,u,f,b){this.type=d,this.content=u,this.alias=f,this.length=0|(b||"").length}function a(d,u,f,b){d.lastIndex=u;var y=d.exec(f);if(y&&b&&y[1]){var A=y[1].length;y.index+=A,y[0]=y[0].slice(A)}return y}function o(){var d={value:null,prev:null,next:null},u={value:null,prev:d,next:null};d.next=u,this.head=d,this.tail=u,this.length=0}function l(d,u,f){var b=u.next,y={value:f,prev:u,next:b};return u.next=y,b.prev=y,d.length++,y}function c(d,u,f){for(var b=u.next,y=0;y<f&&b!==d.tail;y++)b=b.next;(u.next=b).prev=u,d.length-=y}if(e.Prism=s,r.stringify=function d(u,f){if(typeof u=="string")return u;if(Array.isArray(u)){var b="";return u.forEach(function(x){b+=d(x,f)}),b}var y={type:u.type,content:d(u.content,f),tag:"span",classes:["token",u.type],attributes:{},language:f},A=u.alias;A&&(Array.isArray(A)?Array.prototype.push.apply(y.classes,A):y.classes.push(A)),s.hooks.run("wrap",y);var h="";for(var k in y.attributes)h+=" "+k+'="'+(y.attributes[k]||"").replace(/"/g,"&quot;")+'"';return"<"+y.tag+' class="'+y.classes.join(" ")+'"'+h+">"+y.content+"</"+y.tag+">"},!e.document)return e.addEventListener&&(s.disableWorkerMessageHandler||e.addEventListener("message",function(d){var u=JSON.parse(d.data),f=u.language,b=u.code,y=u.immediateClose;e.postMessage(s.highlight(b,s.languages[f],f)),y&&e.close()},!1)),s;var p=s.util.currentScript();function m(){s.manual||s.highlightAll()}if(p&&(s.filename=p.src,p.hasAttribute("data-manual")&&(s.manual=!0)),!s.manual){var g=document.readyState;g==="loading"||g==="interactive"&&p&&p.defer?document.addEventListener("DOMContentLoaded",m):window.requestAnimationFrame?window.requestAnimationFrame(m):window.setTimeout(m,16)}return s}(sn);typeof Be!="undefined"&&Be.exports&&(Be.exports=w),typeof global!="undefined"&&(global.Prism=w);w.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/,name:/[^\s<>'"]+/}},cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},w.languages.markup.tag.inside["attr-value"].inside.entity=w.languages.markup.entity,w.languages.markup.doctype.inside["internal-subset"].inside=w.languages.markup,w.hooks.add("wrap",function(e){e.type==="entity"&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),Object.defineProperty(w.languages.markup.tag,"addInlined",{value:function(e,t){var i={};i["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:w.languages[t]},i.cdata=/^<!\[CDATA\[|\]\]>$/i;var n={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:i}};n["language-"+t]={pattern:/[\s\S]+/,inside:w.languages[t]};var s={};s[e]={pattern:RegExp("(<__[^>]*>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[^])*?(?=</__>)".replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:n},w.languages.insertBefore("markup","cdata",s)}}),Object.defineProperty(w.languages.markup.tag,"addAttribute",{value:function(e,t){w.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(`(^|["'\\s])(?:`+e+`)\\s*=\\s*(?:"[^"]*"|'[^']*'|[^\\s'">=]+(?=[\\s>]))`,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:w.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),w.languages.html=w.languages.markup,w.languages.mathml=w.languages.markup,w.languages.svg=w.languages.markup,w.languages.xml=w.languages.extend("markup",{}),w.languages.ssml=w.languages.xml,w.languages.atom=w.languages.xml,w.languages.rss=w.languages.xml;(function(e){var t=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+`|(?:[^\\\\\r
()"']|\\\\[^])*)\\)`,"i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:RegExp(`[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+t.source+")*(?=\\s*\\{)"),string:{pattern:t,greedy:!0},property:/(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var i=e.languages.markup;i&&(i.tag.addInlined("style","css"),i.tag.addAttribute("style","css"))})(w);w.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};w.languages.javascript=w.languages.extend("clike",{"class-name":[w.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),w.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,w.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:w.languages.regex},"regex-flags":/[a-z]+$/,"regex-delimiter":/^\/|\/$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:w.languages.javascript},{pattern:/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,inside:w.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:w.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:w.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),w.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\${)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:w.languages.javascript}},string:/[\s\S]+/}}}),w.languages.markup&&(w.languages.markup.tag.addInlined("script","javascript"),w.languages.markup.tag.addAttribute("on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)","javascript")),w.languages.js=w.languages.javascript;w.languages.elixir={doc:{pattern:/@(?:doc|moduledoc)\s+(?:("""|''')[\s\S]*?\1|("|')(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2)/,inside:{attribute:/^@\w+/,string:/['"][\s\S]+/}},comment:{pattern:/#.*/m,greedy:!0},regex:{pattern:/~[rR](?:("""|''')(?:\\[\s\S]|(?!\1)[^\\])+\1|([\/|"'])(?:\\.|(?!\2)[^\\\r\n])+\2|\((?:\\.|[^\\)\r\n])+\)|\[(?:\\.|[^\\\]\r\n])+\]|\{(?:\\.|[^\\}\r\n])+\}|<(?:\\.|[^\\>\r\n])+>)[uismxfr]*/,greedy:!0},string:[{pattern:/~[cCsSwW](?:("""|''')(?:\\[\s\S]|(?!\1)[^\\])+\1|([\/|"'])(?:\\.|(?!\2)[^\\\r\n])+\2|\((?:\\.|[^\\)\r\n])+\)|\[(?:\\.|[^\\\]\r\n])+\]|\{(?:\\.|#\{[^}]+\}|#(?!\{)|[^#\\}\r\n])+\}|<(?:\\.|[^\\>\r\n])+>)[csa]?/,greedy:!0,inside:{}},{pattern:/("""|''')[\s\S]*?\1/,greedy:!0,inside:{}},{pattern:/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0,inside:{}}],atom:{pattern:/(^|[^:]):\w+/,lookbehind:!0,alias:"symbol"},module:{pattern:/\b[A-Z]\w*\b/,alias:"class-name"},"attr-name":/\w+\??:(?!:)/,argument:{pattern:/(^|[^&])&\d+/,lookbehind:!0,alias:"variable"},attribute:{pattern:/@\w+/,alias:"variable"},function:/\b[_a-zA-Z]\w*[?!]?(?:(?=\s*(?:\.\s*)?\()|(?=\/\d+))/,number:/\b(?:0[box][a-f\d_]+|\d[\d_]*)(?:\.[\d_]+)?(?:e[+-]?[\d_]+)?\b/i,keyword:/\b(?:after|alias|and|case|catch|cond|def(?:callback|exception|impl|module|p|protocol|struct|delegate)?|do|else|end|fn|for|if|import|not|or|raise|require|rescue|try|unless|use|when)\b/,boolean:/\b(?:true|false|nil)\b/,operator:[/\bin\b|&&?|\|[|>]?|\\\\|::|\.\.\.?|\+\+?|-[->]?|<[-=>]|>=|!==?|\B!|=(?:==?|[>~])?|[*\/^]/,{pattern:/([^<])<(?!<)/,lookbehind:!0},{pattern:/([^>])>(?!>)/,lookbehind:!0}],punctuation:/<<|>>|[.,%\[\]{}()]/},w.languages.elixir.string.forEach(function(e){e.inside={interpolation:{pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"},rest:w.languages.elixir}}}});(function(e){var t=e.util.clone(e.languages.elixir),i="(?:\\{<S>*\\.{3}(?:[^{}]|<BRACES>)*\\})";function n(a,o){return a=a.replace(/<S>/g,function(){return"(?:\\s|//.*(?!.)|/\\*(?:[^*]|\\*(?!/))\\*/)"}).replace(/<BRACES>/g,function(){return"(?:\\{(?:\\{(?:\\{[^{}]*\\}|[^{}])*\\}|[^{}])*\\})"}).replace(/<SPREAD>/g,function(){return i}),RegExp(a,o)}i=n(i).source,e.languages.surface=e.languages.extend("markup",t),e.languages.surface.tag.pattern=n(`</?(?:[\\w.:-]+(?:<S>+(?:[\\w.:$-]+(?:=(?:"(?:\\\\[^]|[^\\\\"])*"|'(?:\\\\[^]|[^\\\\'])*'|[^\\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*/?)?>`),e.languages.surface.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/i,e.languages.surface.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[^]|[^\\"])*"|'(?:\\[^]|[^\\'])*'|[^\s'">]+)/i,e.languages.surface.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,e.languages.surface.tag.inside.tag.inside["tag-name"]=/^[a-z]\w*(?:\.[a-z]\w*)*$/,e.languages.surface.tag.inside.comment=t.comment,e.languages.insertBefore("inside","attr-name",{spread:{pattern:n("<SPREAD>"),inside:e.languages.surface}},e.languages.surface.tag),e.languages.insertBefore("inside","special-attr",{script:{pattern:n("=<BRACES>"),inside:{"script-punctuation":{pattern:/^=(?={)/,alias:"punctuation"},rest:e.languages.surface},alias:"language-elixir"}},e.languages.surface.tag),e.languages.insertBefore("elixir","atom",{"embedded-surface":{pattern:/~H(""")[\s\S]*?\1/,greedy:!0,inside:{"embedded-surface-open":{pattern:/^~H"""/,alias:"punctuation"},"embedded-surface-close":{pattern:/"""$/,alias:"punctuation"},surface:{pattern:/[\s\S]+/,inside:e.languages.surface}}},"surface-api":{pattern:/^\s+\b(?:prop|data|slot)\b\s+/,alias:"class-name"}});var s=function(a){return a?typeof a=="string"?a:typeof a.content=="string"?a.content:a.content.map(s).join(""):""},r=function(a,o){o==="surface"&&a.unshift(new e.Token("tag",[new e.Token("tag",[new e.Token("punctuation","<")]),new e.Token("punctuation",">")]));for(var l=[],c=0;c<a.length;c++){var p=a[c],m=!1;if(typeof p!="string"&&(p.type==="tag"&&p.content[0]&&p.content[0].type==="tag"?p.content[0].content[0].content==="</"?0<l.length&&l[l.length-1].tagName===s(p.content[0].content[1])&&l.pop():p.content[p.content.length-1].content==="/>"||l.push({tagName:s(p.content[0].content[1]),openedBraces:0}):0<l.length&&p.type==="punctuation"&&p.content==="{"?l[l.length-1].openedBraces++:0<l.length&&0<l[l.length-1].openedBraces&&p.type==="punctuation"&&p.content==="}"?l[l.length-1].openedBraces--:m=!0),(m||typeof p=="string")&&0<l.length&&l[l.length-1].openedBraces===0){var g=s(p);c<a.length-1&&(typeof a[c+1]=="string"||a[c+1].type==="plain-text")&&(g+=s(a[c+1]),a.splice(c+1,1)),0<c&&(typeof a[c-1]=="string"||a[c-1].type==="plain-text")&&(g=s(a[c-1])+g,a.splice(c-1,1),c--),a[c]=new e.Token("plain-text",g,null,g)}p.content&&typeof p.content!="string"&&r(p.content,p.type)}o==="surface"&&a.shift()};e.hooks.add("after-tokenize",function(a){a.language!=="surface"&&a.language!=="elixir"||r(a.tokens,a.language)})})(w);(function(){if(typeof self!="undefined"&&self.Prism&&self.document&&document.querySelector){var e,t="line-numbers",i="linkable-line-numbers",n=function(){if(e===void 0){var g=document.createElement("div");g.style.fontSize="13px",g.style.lineHeight="1.5",g.style.padding="0",g.style.border="0",g.innerHTML="&nbsp;<br />&nbsp;",document.body.appendChild(g),e=g.offsetHeight===38,document.body.removeChild(g)}return e},s=!0,r=0;w.hooks.add("before-sanity-check",function(g){var d=g.element.parentElement;if(c(d)){var u=0;a(".line-highlight",d).forEach(function(f){u+=f.textContent.length,f.parentNode.removeChild(f)}),u&&/^( \n)+$/.test(g.code.slice(-u))&&(g.code=g.code.slice(0,-u))}}),w.hooks.add("complete",function g(d){var u=d.element.parentElement;if(c(u)){clearTimeout(r);var f=w.plugins.lineNumbers,b=d.plugins&&d.plugins.lineNumbers;o(u,t)&&f&&!b?w.hooks.add("line-numbers",g):(p(u)(),r=setTimeout(m,1))}}),window.addEventListener("hashchange",m),window.addEventListener("resize",function(){a("pre").filter(c).map(function(g){return p(g)}).forEach(l)})}function a(g,d){return Array.prototype.slice.call((d||document).querySelectorAll(g))}function o(g,d){return g.classList.contains(d)}function l(g){g()}function c(g){return!(!g||!/pre/i.test(g.nodeName))&&(!!g.hasAttribute("data-line")||!(!g.id||!w.util.isActive(g,i)))}function p(g,d,u){var f=(d=typeof d=="string"?d:g.getAttribute("data-line")||"").replace(/\s+/g,"").split(",").filter(Boolean),b=+g.getAttribute("data-line-offset")||0,y=(n()?parseInt:parseFloat)(getComputedStyle(g).lineHeight),A=w.util.isActive(g,t),h=g.querySelector("code"),k=A?g:h||g,x=[],H=h&&k!=h?function(T,R){var I=getComputedStyle(T),L=getComputedStyle(R);function D(U){return+U.substr(0,U.length-2)}return R.offsetTop+D(L.borderTopWidth)+D(L.paddingTop)-D(I.paddingTop)}(g,h):0;f.forEach(function(T){var R=T.split("-"),I=+R[0],L=+R[1]||I,D=g.querySelector('.line-highlight[data-range="'+T+'"]')||document.createElement("div");if(x.push(function(){D.setAttribute("aria-hidden","true"),D.setAttribute("data-range",T),D.className=(u||"")+" line-highlight"}),A&&w.plugins.lineNumbers){var U=w.plugins.lineNumbers.getLine(g,I),E=w.plugins.lineNumbers.getLine(g,L);if(U){var C=U.offsetTop+H+"px";x.push(function(){D.style.top=C})}if(E){var S=E.offsetTop-U.offsetTop+E.offsetHeight+"px";x.push(function(){D.style.height=S})}}else x.push(function(){D.setAttribute("data-start",String(I)),I<L&&D.setAttribute("data-end",String(L)),D.style.top=(I-b-1)*y+H+"px",D.textContent=new Array(L-I+2).join(` 
`)});x.push(function(){k.appendChild(D)})});var q=g.id;if(A&&w.util.isActive(g,i)&&q){o(g,i)||x.push(function(){g.classList.add(i)});var M=parseInt(g.getAttribute("data-start")||"1");a(".line-numbers-rows > span",g).forEach(function(T,R){var I=R+M;T.onclick=function(){var L=q+"."+I;s=!1,location.hash=L,setTimeout(function(){s=!0},1)}})}return function(){x.forEach(l)}}function m(){var g=location.hash.slice(1);a(".temporary.line-highlight").forEach(function(b){b.parentNode.removeChild(b)});var d=(g.match(/\.([\d,-]+)$/)||[,""])[1];if(d&&!document.getElementById(g)){var u=g.slice(0,g.lastIndexOf(".")),f=document.getElementById(u);f&&(f.hasAttribute("data-line")||f.setAttribute("data-line",""),p(f,d,"temporary ")(),s&&document.querySelector(".temporary.line-highlight").scrollIntoView())}}})();(function(){if(typeof self!="undefined"&&self.Prism&&self.document){var e="line-numbers",t=/\n(?!$)/g,i=w.plugins.lineNumbers={getLine:function(a,o){if(a.tagName==="PRE"&&a.classList.contains(e)){var l=a.querySelector(".line-numbers-rows");if(l){var c=parseInt(a.getAttribute("data-start"),10)||1,p=c+(l.children.length-1);o<c&&(o=c),p<o&&(o=p);var m=o-c;return l.children[m]}}},resize:function(a){r([a])},assumeViewportIndependence:!0},n=function(a){return a?window.getComputedStyle?getComputedStyle(a):a.currentStyle||null:null},s=void 0;window.addEventListener("resize",function(){i.assumeViewportIndependence&&s===window.innerWidth||(s=window.innerWidth,r(Array.prototype.slice.call(document.querySelectorAll("pre."+e))))}),w.hooks.add("complete",function(a){if(a.code){var o=a.element,l=o.parentNode;if(l&&/pre/i.test(l.nodeName)&&!o.querySelector(".line-numbers-rows")&&w.util.isActive(o,e)){o.classList.remove(e),l.classList.add(e);var c,p=a.code.match(t),m=p?p.length+1:1,g=new Array(m+1).join("<span></span>");(c=document.createElement("span")).setAttribute("aria-hidden","true"),c.className="line-numbers-rows",c.innerHTML=g,l.hasAttribute("data-start")&&(l.style.counterReset="linenumber "+(parseInt(l.getAttribute("data-start"),10)-1)),a.element.appendChild(c),r([l]),w.hooks.run("line-numbers",a)}}}),w.hooks.add("line-numbers",function(a){a.plugins=a.plugins||{},a.plugins.lineNumbers=!0})}function r(a){if((a=a.filter(function(l){var c=n(l)["white-space"];return c==="pre-wrap"||c==="pre-line"})).length!=0){var o=a.map(function(l){var c=l.querySelector("code"),p=l.querySelector(".line-numbers-rows");if(c&&p){var m=l.querySelector(".line-numbers-sizer"),g=c.textContent.split(t);m||((m=document.createElement("span")).className="line-numbers-sizer",c.appendChild(m)),m.innerHTML="0",m.style.display="block";var d=m.getBoundingClientRect().height;return m.innerHTML="",{element:l,lines:g,lineHeights:[],oneLinerHeight:d,sizer:m}}}).filter(Boolean);o.forEach(function(l){var c=l.sizer,p=l.lines,m=l.lineHeights,g=l.oneLinerHeight;m[p.length-1]=void 0,p.forEach(function(d,u){if(d&&1<d.length){var f=c.appendChild(document.createElement("span"));f.style.display="block",f.textContent=d}else m[u]=g})}),o.forEach(function(l){for(var c=l.sizer,p=l.lineHeights,m=0,g=0;g<p.length;g++)p[g]===void 0&&(p[g]=c.children[m++].getBoundingClientRect().height)}),o.forEach(function(l){var c=l.sizer,p=l.element.querySelector(".line-numbers-rows");c.style.display="none",c.innerHTML="",l.lineHeights.forEach(function(m,g){p.children[g].style.height=m+"px"})})}}})()});"use strict";(function(){var e=t();function t(){if(typeof window.CustomEvent=="function")return window.CustomEvent;function s(r,a){a=a||{bubbles:!1,cancelable:!1,detail:void 0};var o=document.createEvent("CustomEvent");return o.initCustomEvent(r,a.bubbles,a.cancelable,a.detail),o}return s.prototype=window.Event.prototype,s}function i(s,r){var a=document.createElement("input");return a.type="hidden",a.name=s,a.value=r,a}function n(s,r){var a=s.getAttribute("data-to"),o=i("_method",s.getAttribute("data-method")),l=i("_csrf_token",s.getAttribute("data-csrf")),c=document.createElement("form"),p=document.createElement("input"),m=s.getAttribute("target");c.method=s.getAttribute("data-method")==="get"?"get":"post",c.action=a,c.style.display="none",m?c.target=m:r&&(c.target="_blank"),c.appendChild(l),c.appendChild(o),document.body.appendChild(c),p.type="submit",c.appendChild(p),p.click()}window.addEventListener("click",function(s){var r=s.target;if(!s.defaultPrevented)for(;r&&r.getAttribute;){var a=new e("phoenix.link.click",{bubbles:!0,cancelable:!0});if(!r.dispatchEvent(a))return s.preventDefault(),s.stopImmediatePropagation(),!1;if(r.getAttribute("data-method"))return n(r,s.metaKey||s.shiftKey),s.preventDefault(),!1;r=r.parentNode}},!1),window.addEventListener("phoenix.link.click",function(s){var r=s.target.getAttribute("data-confirm");r&&!window.confirm(r)&&s.preventDefault()},!1)})();var me=e=>typeof e=="function"?e:function(){return e},ai=typeof self!="undefined"?self:null,ve=typeof window!="undefined"?window:null,be=ai||ve||be,oi="2.0.0",G={connecting:0,open:1,closing:2,closed:3},li=1e4,hi=1e3,V={closed:"closed",errored:"errored",joined:"joined",joining:"joining",leaving:"leaving"},ie={close:"phx_close",error:"phx_error",join:"phx_join",reply:"phx_reply",leave:"phx_leave"},Xe={longpoll:"longpoll",websocket:"websocket"},di={complete:4},Le=class{constructor(e,t,i,n){this.channel=e,this.event=t,this.payload=i||function(){return{}},this.receivedResp=null,this.timeout=n,this.timeoutTimer=null,this.recHooks=[],this.sent=!1}resend(e){this.timeout=e,this.reset(),this.send()}send(){this.hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload(),ref:this.ref,join_ref:this.channel.joinRef()}))}receive(e,t){return this.hasReceived(e)&&t(this.receivedResp.response),this.recHooks.push({status:e,callback:t}),this}reset(){this.cancelRefEvent(),this.ref=null,this.refEvent=null,this.receivedResp=null,this.sent=!1}matchReceive({status:e,response:t,_ref:i}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}cancelRefEvent(){!this.refEvent||this.channel.off(this.refEvent)}cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=null}startTimeout(){this.timeoutTimer&&this.cancelTimeout(),this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,e=>{this.cancelRefEvent(),this.cancelTimeout(),this.receivedResp=e,this.matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}trigger(e,t){this.channel.trigger(this.refEvent,{status:e,response:t})}},gt=class{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=null,this.tries=0}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}},ci=class{constructor(e,t,i){this.state=V.closed,this.topic=e,this.params=me(t||{}),this.socket=i,this.bindings=[],this.bindingRef=0,this.timeout=this.socket.timeout,this.joinedOnce=!1,this.joinPush=new Le(this,ie.join,this.params,this.timeout),this.pushBuffer=[],this.stateChangeRefs=[],this.rejoinTimer=new gt(()=>{this.socket.isConnected()&&this.rejoin()},this.socket.rejoinAfterMs),this.stateChangeRefs.push(this.socket.onError(()=>this.rejoinTimer.reset())),this.stateChangeRefs.push(this.socket.onOpen(()=>{this.rejoinTimer.reset(),this.isErrored()&&this.rejoin()})),this.joinPush.receive("ok",()=>{this.state=V.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this.joinPush.receive("error",()=>{this.state=V.errored,this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()}),this.onClose(()=>{this.rejoinTimer.reset(),this.socket.hasLogger()&&this.socket.log("channel",`close ${this.topic} ${this.joinRef()}`),this.state=V.closed,this.socket.remove(this)}),this.onError(n=>{this.socket.hasLogger()&&this.socket.log("channel",`error ${this.topic}`,n),this.isJoining()&&this.joinPush.reset(),this.state=V.errored,this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()}),this.joinPush.receive("timeout",()=>{this.socket.hasLogger()&&this.socket.log("channel",`timeout ${this.topic} (${this.joinRef()})`,this.joinPush.timeout),new Le(this,ie.leave,me({}),this.timeout).send(),this.state=V.errored,this.joinPush.reset(),this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()}),this.on(ie.reply,(n,s)=>{this.trigger(this.replyEventName(s),n)})}join(e=this.timeout){if(this.joinedOnce)throw new Error("tried to join multiple times. 'join' can only be called a single time per channel instance");return this.timeout=e,this.joinedOnce=!0,this.rejoin(),this.joinPush}onClose(e){this.on(ie.close,e)}onError(e){return this.on(ie.error,t=>e(t))}on(e,t){let i=this.bindingRef++;return this.bindings.push({event:e,ref:i,callback:t}),i}off(e,t){this.bindings=this.bindings.filter(i=>!(i.event===e&&(typeof t=="undefined"||t===i.ref)))}canPush(){return this.socket.isConnected()&&this.isJoined()}push(e,t,i=this.timeout){if(t=t||{},!this.joinedOnce)throw new Error(`tried to push '${e}' to '${this.topic}' before joining. Use channel.join() before pushing events`);let n=new Le(this,e,function(){return t},i);return this.canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}leave(e=this.timeout){this.rejoinTimer.reset(),this.joinPush.cancelTimeout(),this.state=V.leaving;let t=()=>{this.socket.hasLogger()&&this.socket.log("channel",`leave ${this.topic}`),this.trigger(ie.close,"leave")},i=new Le(this,ie.leave,me({}),e);return i.receive("ok",()=>t()).receive("timeout",()=>t()),i.send(),this.canPush()||i.trigger("ok",{}),i}onMessage(e,t,i){return t}isMember(e,t,i,n){return this.topic!==e?!1:n&&n!==this.joinRef()?(this.socket.hasLogger()&&this.socket.log("channel","dropping outdated message",{topic:e,event:t,payload:i,joinRef:n}),!1):!0}joinRef(){return this.joinPush.ref}rejoin(e=this.timeout){this.isLeaving()||(this.socket.leaveOpenTopic(this.topic),this.state=V.joining,this.joinPush.resend(e))}trigger(e,t,i,n){let s=this.onMessage(e,t,i,n);if(t&&!s)throw new Error("channel onMessage callbacks must return the payload, modified or unmodified");let r=this.bindings.filter(a=>a.event===e);for(let a=0;a<r.length;a++)r[a].callback(s,i,n||this.joinRef())}replyEventName(e){return`chan_reply_${e}`}isClosed(){return this.state===V.closed}isErrored(){return this.state===V.errored}isJoined(){return this.state===V.joined}isJoining(){return this.state===V.joining}isLeaving(){return this.state===V.leaving}},Re=class{static request(e,t,i,n,s,r,a){if(be.XDomainRequest){let o=new be.XDomainRequest;return this.xdomainRequest(o,e,t,n,s,r,a)}else{let o=new be.XMLHttpRequest;return this.xhrRequest(o,e,t,i,n,s,r,a)}}static xdomainRequest(e,t,i,n,s,r,a){return e.timeout=s,e.open(t,i),e.onload=()=>{let o=this.parseJSON(e.responseText);a&&a(o)},r&&(e.ontimeout=r),e.onprogress=()=>{},e.send(n),e}static xhrRequest(e,t,i,n,s,r,a,o){return e.open(t,i,!0),e.timeout=r,e.setRequestHeader("Content-Type",n),e.onerror=()=>o&&o(null),e.onreadystatechange=()=>{if(e.readyState===di.complete&&o){let l=this.parseJSON(e.responseText);o(l)}},a&&(e.ontimeout=a),e.send(s),e}static parseJSON(e){if(!e||e==="")return null;try{return JSON.parse(e)}catch(t){return console&&console.log("failed to parse JSON response",e),null}}static serialize(e,t){let i=[];for(var n in e){if(!Object.prototype.hasOwnProperty.call(e,n))continue;let s=t?`${t}[${n}]`:n,r=e[n];typeof r=="object"?i.push(this.serialize(r,s)):i.push(encodeURIComponent(s)+"="+encodeURIComponent(r))}return i.join("&")}static appendParams(e,t){if(Object.keys(t).length===0)return e;let i=e.match(/\?/)?"&":"?";return`${e}${i}${this.serialize(t)}`}},qe=class{constructor(e){this.endPoint=null,this.token=null,this.skipHeartbeat=!0,this.reqs=new Set,this.onopen=function(){},this.onerror=function(){},this.onmessage=function(){},this.onclose=function(){},this.pollEndpoint=this.normalizeEndpoint(e),this.readyState=G.connecting,this.poll()}normalizeEndpoint(e){return e.replace("ws://","http://").replace("wss://","https://").replace(new RegExp("(.*)/"+Xe.websocket),"$1/"+Xe.longpoll)}endpointURL(){return Re.appendParams(this.pollEndpoint,{token:this.token})}closeAndRetry(e,t,i){this.close(e,t,i),this.readyState=G.connecting}ontimeout(){this.onerror("timeout"),this.closeAndRetry(1005,"timeout",!1)}isActive(){return this.readyState===G.open||this.readyState===G.connecting}poll(){this.ajax("GET",null,()=>this.ontimeout(),e=>{if(e){var{status:t,token:i,messages:n}=e;this.token=i}else t=0;switch(t){case 200:n.forEach(s=>{setTimeout(()=>this.onmessage({data:s}),0)}),this.poll();break;case 204:this.poll();break;case 410:this.readyState=G.open,this.onopen({}),this.poll();break;case 403:this.onerror(403),this.close(1008,"forbidden",!1);break;case 0:case 500:this.onerror(500),this.closeAndRetry(1011,"internal server error",500);break;default:throw new Error(`unhandled poll status ${t}`)}})}send(e){this.ajax("POST",e,()=>this.onerror("timeout"),t=>{(!t||t.status!==200)&&(this.onerror(t&&t.status),this.closeAndRetry(1011,"internal server error",!1))})}close(e,t,i){for(let s of this.reqs)s.abort();this.readyState=G.closed;let n=Object.assign({code:1e3,reason:void 0,wasClean:!0},{code:e,reason:t,wasClean:i});typeof CloseEvent!="undefined"?this.onclose(new CloseEvent("close",n)):this.onclose(n)}ajax(e,t,i,n){let s,r=()=>{this.reqs.delete(s),i()};s=Re.request(e,this.endpointURL(),"application/json",t,this.timeout,r,a=>{this.reqs.delete(s),this.isActive()&&n(a)}),this.reqs.add(s)}};var Ie={HEADER_LENGTH:1,META_LENGTH:4,KINDS:{push:0,reply:1,broadcast:2},encode(e,t){if(e.payload.constructor===ArrayBuffer)return t(this.binaryEncode(e));{let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(i))}},decode(e,t){if(e.constructor===ArrayBuffer)return t(this.binaryDecode(e));{let[i,n,s,r,a]=JSON.parse(e);return t({join_ref:i,ref:n,topic:s,event:r,payload:a})}},binaryEncode(e){let{join_ref:t,ref:i,event:n,topic:s,payload:r}=e,a=this.META_LENGTH+t.length+i.length+s.length+n.length,o=new ArrayBuffer(this.HEADER_LENGTH+a),l=new DataView(o),c=0;l.setUint8(c++,this.KINDS.push),l.setUint8(c++,t.length),l.setUint8(c++,i.length),l.setUint8(c++,s.length),l.setUint8(c++,n.length),Array.from(t,m=>l.setUint8(c++,m.charCodeAt(0))),Array.from(i,m=>l.setUint8(c++,m.charCodeAt(0))),Array.from(s,m=>l.setUint8(c++,m.charCodeAt(0))),Array.from(n,m=>l.setUint8(c++,m.charCodeAt(0)));var p=new Uint8Array(o.byteLength+r.byteLength);return p.set(new Uint8Array(o),0),p.set(new Uint8Array(r),o.byteLength),p.buffer},binaryDecode(e){let t=new DataView(e),i=t.getUint8(0),n=new TextDecoder;switch(i){case this.KINDS.push:return this.decodePush(e,t,n);case this.KINDS.reply:return this.decodeReply(e,t,n);case this.KINDS.broadcast:return this.decodeBroadcast(e,t,n)}},decodePush(e,t,i){let n=t.getUint8(1),s=t.getUint8(2),r=t.getUint8(3),a=this.HEADER_LENGTH+this.META_LENGTH-1,o=i.decode(e.slice(a,a+n));a=a+n;let l=i.decode(e.slice(a,a+s));a=a+s;let c=i.decode(e.slice(a,a+r));a=a+r;let p=e.slice(a,e.byteLength);return{join_ref:o,ref:null,topic:l,event:c,payload:p}},decodeReply(e,t,i){let n=t.getUint8(1),s=t.getUint8(2),r=t.getUint8(3),a=t.getUint8(4),o=this.HEADER_LENGTH+this.META_LENGTH,l=i.decode(e.slice(o,o+n));o=o+n;let c=i.decode(e.slice(o,o+s));o=o+s;let p=i.decode(e.slice(o,o+r));o=o+r;let m=i.decode(e.slice(o,o+a));o=o+a;let g=e.slice(o,e.byteLength),d={status:m,response:g};return{join_ref:l,ref:c,topic:p,event:ie.reply,payload:d}},decodeBroadcast(e,t,i){let n=t.getUint8(1),s=t.getUint8(2),r=this.HEADER_LENGTH+2,a=i.decode(e.slice(r,r+n));r=r+n;let o=i.decode(e.slice(r,r+s));r=r+s;let l=e.slice(r,e.byteLength);return{join_ref:null,ref:null,topic:a,event:o,payload:l}}},mt=class{constructor(e,t={}){this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.channels=[],this.sendBuffer=[],this.ref=0,this.timeout=t.timeout||li,this.transport=t.transport||be.WebSocket||qe,this.establishedConnections=0,this.defaultEncoder=Ie.encode.bind(Ie),this.defaultDecoder=Ie.decode.bind(Ie),this.closeWasClean=!1,this.binaryType=t.binaryType||"arraybuffer",this.connectClock=1,this.transport!==qe?(this.encode=t.encode||this.defaultEncoder,this.decode=t.decode||this.defaultDecoder):(this.encode=this.defaultEncoder,this.decode=this.defaultDecoder);let i=null;ve&&ve.addEventListener&&(ve.addEventListener("pagehide",n=>{this.conn&&(this.disconnect(),i=this.connectClock)}),ve.addEventListener("pageshow",n=>{i===this.connectClock&&(i=null,this.connect())})),this.heartbeatIntervalMs=t.heartbeatIntervalMs||3e4,this.rejoinAfterMs=n=>t.rejoinAfterMs?t.rejoinAfterMs(n):[1e3,2e3,5e3][n-1]||1e4,this.reconnectAfterMs=n=>t.reconnectAfterMs?t.reconnectAfterMs(n):[10,50,100,150,200,250,500,1e3,2e3][n-1]||5e3,this.logger=t.logger||null,this.longpollerTimeout=t.longpollerTimeout||2e4,this.params=me(t.params||{}),this.endPoint=`${e}/${Xe.websocket}`,this.vsn=t.vsn||oi,this.heartbeatTimeoutTimer=null,this.heartbeatTimer=null,this.pendingHeartbeatRef=null,this.reconnectTimer=new gt(()=>{this.teardown(()=>this.connect())},this.reconnectAfterMs)}getLongPollTransport(){return qe}replaceTransport(e){this.connectClock++,this.closeWasClean=!0,this.reconnectTimer.reset(),this.sendBuffer=[],this.conn&&(this.conn.close(),this.conn=null),this.transport=e}protocol(){return location.protocol.match(/^https/)?"wss":"ws"}endPointURL(){let e=Re.appendParams(Re.appendParams(this.endPoint,this.params()),{vsn:this.vsn});return e.charAt(0)!=="/"?e:e.charAt(1)==="/"?`${this.protocol()}:${e}`:`${this.protocol()}://${location.host}${e}`}disconnect(e,t,i){this.connectClock++,this.closeWasClean=!0,this.reconnectTimer.reset(),this.teardown(e,t,i)}connect(e){e&&(console&&console.log("passing params to connect is deprecated. Instead pass :params to the Socket constructor"),this.params=me(e)),!this.conn&&(this.connectClock++,this.closeWasClean=!1,this.conn=new this.transport(this.endPointURL()),this.conn.binaryType=this.binaryType,this.conn.timeout=this.longpollerTimeout,this.conn.onopen=()=>this.onConnOpen(),this.conn.onerror=t=>this.onConnError(t),this.conn.onmessage=t=>this.onConnMessage(t),this.conn.onclose=t=>this.onConnClose(t))}log(e,t,i){this.logger(e,t,i)}hasLogger(){return this.logger!==null}onOpen(e){let t=this.makeRef();return this.stateChangeCallbacks.open.push([t,e]),t}onClose(e){let t=this.makeRef();return this.stateChangeCallbacks.close.push([t,e]),t}onError(e){let t=this.makeRef();return this.stateChangeCallbacks.error.push([t,e]),t}onMessage(e){let t=this.makeRef();return this.stateChangeCallbacks.message.push([t,e]),t}ping(e){if(!this.isConnected())return!1;let t=this.makeRef(),i=Date.now();this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:t});let n=this.onMessage(s=>{s.ref===t&&(this.off([n]),e(Date.now()-i))});return!0}clearHeartbeats(){clearTimeout(this.heartbeatTimer),clearTimeout(this.heartbeatTimeoutTimer)}onConnOpen(){this.hasLogger()&&this.log("transport",`connected to ${this.endPointURL()}`),this.closeWasClean=!1,this.establishedConnections++,this.flushSendBuffer(),this.reconnectTimer.reset(),this.resetHeartbeat(),this.stateChangeCallbacks.open.forEach(([,e])=>e())}heartbeatTimeout(){this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null,this.hasLogger()&&this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.triggerChanError(),this.closeWasClean=!1,this.teardown(()=>this.reconnectTimer.scheduleTimeout(),hi,"heartbeat timeout"))}resetHeartbeat(){this.conn&&this.conn.skipHeartbeat||(this.pendingHeartbeatRef=null,this.clearHeartbeats(),this.heartbeatTimer=setTimeout(()=>this.sendHeartbeat(),this.heartbeatIntervalMs))}teardown(e,t,i){if(!this.conn)return e&&e();this.waitForBufferDone(()=>{this.conn&&(t?this.conn.close(t,i||""):this.conn.close()),this.waitForSocketClosed(()=>{this.conn&&(this.conn.onopen=function(){},this.conn.onerror=function(){},this.conn.onmessage=function(){},this.conn.onclose=function(){},this.conn=null),e&&e()})})}waitForBufferDone(e,t=1){if(t===5||!this.conn||!this.conn.bufferedAmount){e();return}setTimeout(()=>{this.waitForBufferDone(e,t+1)},150*t)}waitForSocketClosed(e,t=1){if(t===5||!this.conn||this.conn.readyState===G.closed){e();return}setTimeout(()=>{this.waitForSocketClosed(e,t+1)},150*t)}onConnClose(e){let t=e&&e.code;this.hasLogger()&&this.log("transport","close",e),this.triggerChanError(),this.clearHeartbeats(),!this.closeWasClean&&t!==1e3&&this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(([,i])=>i(e))}onConnError(e){this.hasLogger()&&this.log("transport",e);let t=this.transport,i=this.establishedConnections;this.stateChangeCallbacks.error.forEach(([,n])=>{n(e,t,i)}),(t===this.transport||i>0)&&this.triggerChanError()}triggerChanError(){this.channels.forEach(e=>{e.isErrored()||e.isLeaving()||e.isClosed()||e.trigger(ie.error)})}connectionState(){switch(this.conn&&this.conn.readyState){case G.connecting:return"connecting";case G.open:return"open";case G.closing:return"closing";default:return"closed"}}isConnected(){return this.connectionState()==="open"}remove(e){this.off(e.stateChangeRefs),this.channels=this.channels.filter(t=>t.joinRef()!==e.joinRef())}off(e){for(let t in this.stateChangeCallbacks)this.stateChangeCallbacks[t]=this.stateChangeCallbacks[t].filter(([i])=>e.indexOf(i)===-1)}channel(e,t={}){let i=new ci(e,t,this);return this.channels.push(i),i}push(e){if(this.hasLogger()){let{topic:t,event:i,payload:n,ref:s,join_ref:r}=e;this.log("push",`${t} ${i} (${r}, ${s})`,n)}this.isConnected()?this.encode(e,t=>this.conn.send(t)):this.sendBuffer.push(()=>this.encode(e,t=>this.conn.send(t)))}makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}sendHeartbeat(){this.pendingHeartbeatRef&&!this.isConnected()||(this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatTimeoutTimer=setTimeout(()=>this.heartbeatTimeout(),this.heartbeatIntervalMs))}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}onConnMessage(e){this.decode(e.data,t=>{let{topic:i,event:n,payload:s,ref:r,join_ref:a}=t;r&&r===this.pendingHeartbeatRef&&(this.clearHeartbeats(),this.pendingHeartbeatRef=null,this.heartbeatTimer=setTimeout(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)),this.hasLogger()&&this.log("receive",`${s.status||""} ${i} ${n} ${r&&"("+r+")"||""}`,s);for(let o=0;o<this.channels.length;o++){let l=this.channels[o];!l.isMember(i,n,s,a)||l.trigger(n,s,r,a)}for(let o=0;o<this.stateChangeCallbacks.message.length;o++){let[,l]=this.stateChangeCallbacks.message[o];l(t)}})}leaveOpenTopic(e){let t=this.channels.find(i=>i.topic===e&&(i.isJoined()||i.isJoining()));t&&(this.hasLogger()&&this.log("transport",`leaving duplicate topic "${e}"`),t.leave())}};var vt="consecutive-reloads",ui=10,fi=5e3,pi=1e4,gi=3e4,bt=["phx-click-loading","phx-change-loading","phx-submit-loading","phx-keydown-loading","phx-keyup-loading","phx-blur-loading","phx-focus-loading"],W="data-phx-component",Ke="data-phx-link",mi="track-static",vi="data-phx-link-state",Y="data-phx-ref",le="data-phx-ref-src",yt="track-uploads",he="data-phx-upload-ref",Ge="data-phx-preflighted-refs",bi="data-phx-done-refs",wt="drop-target",Ye="data-phx-active-refs",Ze="phx:live-file:updated",Qe="data-phx-skip",kt="data-phx-prune",St="page-loading",At="phx-connected",et="phx-loading",Et="phx-no-feedback",Ct="phx-error",ue="data-phx-parent-id",tt="data-phx-main",ye="data-phx-root-id",yi="trigger-action",it="feedback-for",_t="phx-has-focused",wi=["text","textarea","number","email","password","search","tel","url","date","time","datetime-local","color","range"],Tt=["checkbox","radio"],xt="phx-has-submitted",se="data-phx-session",fe=`[${se}]`,Pt="data-phx-sticky",we="data-phx-static",nt="data-phx-readonly",De="data-phx-disabled",st="disable-with",Oe="data-phx-disable-with-restore",ke="hook",ki="debounce",Si="throttle",rt="update",Ai="key",Z="phxPrivate",Lt="auto-recover",Fe="phx:live-socket:debug",at="phx:live-socket:profiling",ot="phx:live-socket:latency-sim",Ei="progress",Ci=1,_i=200,Ti="phx-",xi=3e4,Se="debounce-trigger",He="throttled",Rt="debounce-prev-key",Pi={debounce:300,throttle:300},It="d",Q="s",X="c",Dt="e",Ot="r",Ft="t",Li="p",Ri=class{constructor(e,t,i){this.liveSocket=i,this.entry=e,this.offset=0,this.chunkSize=t,this.chunkTimer=null,this.uploadChannel=i.channel(`lvu:${e.ref}`,{token:e.metadata()})}error(e){clearTimeout(this.chunkTimer),this.uploadChannel.leave(),this.entry.error(e)}upload(){this.uploadChannel.onError(e=>this.error(e)),this.uploadChannel.join().receive("ok",e=>this.readNextChunk()).receive("error",e=>this.error(e))}isDone(){return this.offset>=this.entry.file.size}readNextChunk(){let e=new window.FileReader,t=this.entry.file.slice(this.offset,this.chunkSize+this.offset);e.onload=i=>{if(i.target.error===null)this.offset+=i.target.result.byteLength,this.pushChunk(i.target.result);else return N("Read error: "+i.target.error)},e.readAsArrayBuffer(t)}pushChunk(e){!this.uploadChannel.isJoined()||this.uploadChannel.push("chunk",e).receive("ok",()=>{this.entry.progress(this.offset/this.entry.file.size*100),this.isDone()||(this.chunkTimer=setTimeout(()=>this.readNextChunk(),this.liveSocket.getLatencySim()||0))})}},N=(e,t)=>console.error&&console.error(e,t),re=e=>{let t=typeof e;return t==="number"||t==="string"&&/^(0|[1-9]\d*)$/.test(e)};function Ii(){let e=new Set,t=document.querySelectorAll("*[id]");for(let i=0,n=t.length;i<n;i++)e.has(t[i].id)?console.error(`Multiple IDs detected: ${t[i].id}. Ensure unique element ids.`):e.add(t[i].id)}var Di=(e,t,i,n)=>{e.liveSocket.isDebugEnabled()&&console.log(`${e.id} ${t}: ${i} - `,n)},lt=e=>typeof e=="function"?e:function(){return e},Ne=e=>JSON.parse(JSON.stringify(e)),Ae=(e,t,i)=>{do{if(e.matches(`[${t}]`))return e;e=e.parentElement||e.parentNode}while(e!==null&&e.nodeType===1&&!(i&&i.isSameNode(e)||e.matches(fe)));return null},Ee=e=>e!==null&&typeof e=="object"&&!(e instanceof Array),Oi=(e,t)=>JSON.stringify(e)===JSON.stringify(t),Ht=e=>{for(let t in e)return!1;return!0},ne=(e,t)=>e&&t(e),Fi=function(e,t,i,n){e.forEach(s=>{new Ri(s,i.config.chunk_size,n).upload()})},Nt={canPushState(){return typeof history.pushState!="undefined"},dropLocal(e,t,i){return e.removeItem(this.localKey(t,i))},updateLocal(e,t,i,n,s){let r=this.getLocal(e,t,i),a=this.localKey(t,i),o=r===null?n:s(r);return e.setItem(a,JSON.stringify(o)),o},getLocal(e,t,i){return JSON.parse(e.getItem(this.localKey(t,i)))},updateCurrentState(e){!this.canPushState()||history.replaceState(e(history.state||{}),"",window.location.href)},pushState(e,t,i){if(this.canPushState()){if(i!==window.location.href){if(t.type=="redirect"&&t.scroll){let s=history.state||{};s.scroll=t.scroll,history.replaceState(s,"",window.location.href)}delete t.scroll,history[e+"State"](t,"",i||null);let n=this.getHashTargetEl(window.location.hash);n?n.scrollIntoView():t.type==="redirect"&&window.scroll(0,0)}}else this.redirect(i)},setCookie(e,t){document.cookie=`${e}=${t}`},getCookie(e){return document.cookie.replace(new RegExp(`(?:(?:^|.*;s*)${e}s*=s*([^;]*).*$)|^.*$`),"$1")},redirect(e,t){t&&Nt.setCookie("__phoenix_flash__",t+"; max-age=60000; path=/"),window.location=e},localKey(e,t){return`${e}-${t}`},getHashTargetEl(e){let t=e.toString().substring(1);if(t!=="")return document.getElementById(t)||document.querySelector(`a[name="${t}"]`)}},ae=Nt,K={byId(e){return document.getElementById(e)||N(`no id found for ${e}`)},removeClass(e,t){e.classList.remove(t),e.classList.length===0&&e.removeAttribute("class")},all(e,t,i){if(!e)return[];let n=Array.from(e.querySelectorAll(t));return i?n.forEach(i):n},childNodeLength(e){let t=document.createElement("template");return t.innerHTML=e,t.content.childElementCount},isUploadInput(e){return e.type==="file"&&e.getAttribute(he)!==null},findUploadInputs(e){return this.all(e,`input[type="file"][${he}]`)},findComponentNodeList(e,t){return this.filterWithinSameLiveView(this.all(e,`[${W}="${t}"]`),e)},isPhxDestroyed(e){return!!(e.id&&K.private(e,"destroyed"))},markPhxChildDestroyed(e){this.isPhxChild(e)&&e.setAttribute(se,""),this.putPrivate(e,"destroyed",!0)},findPhxChildrenInFragment(e,t){let i=document.createElement("template");return i.innerHTML=e,this.findPhxChildren(i.content,t)},isIgnored(e,t){return(e.getAttribute(t)||e.getAttribute("data-phx-update"))==="ignore"},isPhxUpdate(e,t,i){return e.getAttribute&&i.indexOf(e.getAttribute(t))>=0},findPhxSticky(e){return this.all(e,`[${Pt}]`)},findPhxChildren(e,t){return this.all(e,`${fe}[${ue}="${t}"]`)},findParentCIDs(e,t){let i=new Set(t);return t.reduce((n,s)=>{let r=`[${W}="${s}"] [${W}]`;return this.filterWithinSameLiveView(this.all(e,r),e).map(a=>parseInt(a.getAttribute(W))).forEach(a=>n.delete(a)),n},i)},filterWithinSameLiveView(e,t){return t.querySelector(fe)?e.filter(i=>this.withinSameLiveView(i,t)):e},withinSameLiveView(e,t){for(;e=e.parentNode;){if(e.isSameNode(t))return!0;if(e.getAttribute(se)!==null)return!1}},private(e,t){return e[Z]&&e[Z][t]},deletePrivate(e,t){e[Z]&&delete e[Z][t]},putPrivate(e,t,i){e[Z]||(e[Z]={}),e[Z][t]=i},updatePrivate(e,t,i,n){let s=this.private(e,t);s===void 0?this.putPrivate(e,t,n(i)):this.putPrivate(e,t,n(s))},copyPrivates(e,t){t[Z]&&(e[Z]=t[Z])},putTitle(e){let t=document.querySelector("title"),{prefix:i,suffix:n}=t.dataset;document.title=`${i||""}${e}${n||""}`},debounce(e,t,i,n,s,r,a,o){let l=e.getAttribute(i),c=e.getAttribute(s);l===""&&(l=n),c===""&&(c=r);let p=l||c;switch(p){case null:return o();case"blur":this.once(e,"debounce-blur")&&e.addEventListener("blur",()=>o());return;default:let m=parseInt(p),g=()=>c?this.deletePrivate(e,He):o(),d=this.incCycle(e,Se,g);if(isNaN(m))return N(`invalid throttle/debounce value: ${p}`);if(c){let f=!1;if(t.type==="keydown"){let b=this.private(e,Rt);this.putPrivate(e,Rt,t.key),f=b!==t.key}if(!f&&this.private(e,He))return!1;o(),this.putPrivate(e,He,!0),setTimeout(()=>{a()&&this.triggerCycle(e,Se)},m)}else setTimeout(()=>{a()&&this.triggerCycle(e,Se,d)},m);let u=e.form;u&&this.once(u,"bind-debounce")&&u.addEventListener("submit",()=>{Array.from(new FormData(u).entries(),([f])=>{let b=u.querySelector(`[name="${f}"]`);this.incCycle(b,Se),this.deletePrivate(b,He)})}),this.once(e,"bind-debounce")&&e.addEventListener("blur",()=>this.triggerCycle(e,Se))}},triggerCycle(e,t,i){let[n,s]=this.private(e,t);i||(i=n),i===n&&(this.incCycle(e,t),s())},once(e,t){return this.private(e,t)===!0?!1:(this.putPrivate(e,t,!0),!0)},incCycle(e,t,i=function(){}){let[n]=this.private(e,t)||[0,i];return n++,this.putPrivate(e,t,[n,i]),n},discardError(e,t,i){let n=t.getAttribute&&t.getAttribute(i),s=n&&e.querySelector(`[id="${n}"], [name="${n}"]`);!s||this.private(s,_t)||this.private(s.form,xt)||t.classList.add(Et)},showError(e,t){(e.id||e.name)&&this.all(e.form,`[${t}="${e.id}"], [${t}="${e.name}"]`,i=>{this.removeClass(i,Et)})},isPhxChild(e){return e.getAttribute&&e.getAttribute(ue)},isPhxSticky(e){return e.getAttribute&&e.getAttribute(Pt)!==null},firstPhxChild(e){return this.isPhxChild(e)?e:this.all(e,`[${ue}]`)[0]},dispatchEvent(e,t,i={}){let s={bubbles:i.bubbles===void 0?!0:!!i.bubbles,cancelable:!0,detail:i.detail||{}},r=t==="click"?new MouseEvent("click",s):new CustomEvent(t,s);e.dispatchEvent(r)},cloneNode(e,t){if(typeof t=="undefined")return e.cloneNode(!0);{let i=e.cloneNode(!1);return i.innerHTML=t,i}},mergeAttrs(e,t,i={}){let n=i.exclude||[],s=i.isIgnored,r=t.attributes;for(let o=r.length-1;o>=0;o--){let l=r[o].name;n.indexOf(l)<0&&e.setAttribute(l,t.getAttribute(l))}let a=e.attributes;for(let o=a.length-1;o>=0;o--){let l=a[o].name;s?l.startsWith("data-")&&!t.hasAttribute(l)&&e.removeAttribute(l):t.hasAttribute(l)||e.removeAttribute(l)}},mergeFocusedInput(e,t){e instanceof HTMLSelectElement||K.mergeAttrs(e,t,{exclude:["value"]}),t.readOnly?e.setAttribute("readonly",!0):e.removeAttribute("readonly")},hasSelectionRange(e){return e.setSelectionRange&&(e.type==="text"||e.type==="textarea")},restoreFocus(e,t,i){if(!K.isTextualInput(e))return;let n=e.matches(":focus");e.readOnly&&e.blur(),n||e.focus(),this.hasSelectionRange(e)&&e.setSelectionRange(t,i)},isFormInput(e){return/^(?:input|select|textarea)$/i.test(e.tagName)&&e.type!=="button"},syncAttrsToProps(e){e instanceof HTMLInputElement&&Tt.indexOf(e.type.toLocaleLowerCase())>=0&&(e.checked=e.getAttribute("checked")!==null)},isTextualInput(e){return wi.indexOf(e.type)>=0},isNowTriggerFormExternal(e,t){return e.getAttribute&&e.getAttribute(t)!==null},syncPendingRef(e,t,i){let n=e.getAttribute(Y);if(n===null)return!0;let s=e.getAttribute(le);return K.isFormInput(e)||e.getAttribute(i)!==null?(K.isUploadInput(e)&&K.mergeAttrs(e,t,{isIgnored:!0}),K.putPrivate(e,Y,t),!1):(bt.forEach(r=>{e.classList.contains(r)&&t.classList.add(r)}),t.setAttribute(Y,n),t.setAttribute(le,s),!0)},cleanChildNodes(e,t){if(K.isPhxUpdate(e,t,["append","prepend"])){let i=[];e.childNodes.forEach(n=>{n.id||(n.nodeType===Node.TEXT_NODE&&n.nodeValue.trim()===""||N(`only HTML element tags with an id are allowed inside containers with phx-update.

removing illegal node: "${(n.outerHTML||n.nodeValue).trim()}"

`),i.push(n))}),i.forEach(n=>n.remove())}},replaceRootContainer(e,t,i){let n=new Set(["id",se,we,tt,ye]);if(e.tagName.toLowerCase()===t.toLowerCase())return Array.from(e.attributes).filter(s=>!n.has(s.name.toLowerCase())).forEach(s=>e.removeAttribute(s.name)),Object.keys(i).filter(s=>!n.has(s.toLowerCase())).forEach(s=>e.setAttribute(s,i[s])),e;{let s=document.createElement(t);return Object.keys(i).forEach(r=>s.setAttribute(r,i[r])),n.forEach(r=>s.setAttribute(r,e.getAttribute(r))),s.innerHTML=e.innerHTML,e.replaceWith(s),s}},getSticky(e,t,i){let n=(K.private(e,"sticky")||[]).find(([s])=>t===s);if(n){let[s,r,a]=n;return a}else return typeof i=="function"?i():i},deleteSticky(e,t){this.updatePrivate(e,"sticky",[],i=>i.filter(([n,s])=>n!==t))},putSticky(e,t,i){let n=i(e);this.updatePrivate(e,"sticky",[],s=>{let r=s.findIndex(([a])=>t===a);return r>=0?s[r]=[t,i,n]:s.push([t,i,n]),s})},applyStickyOperations(e){let t=K.private(e,"sticky");!t||t.forEach(([i,n,s])=>this.putSticky(e,i,n))}},v=K,ht=class{static isActive(e,t){let i=t._phxRef===void 0,s=e.getAttribute(Ye).split(",").indexOf($.genFileRef(t))>=0;return t.size>0&&(i||s)}static isPreflighted(e,t){return e.getAttribute(Ge).split(",").indexOf($.genFileRef(t))>=0&&this.isActive(e,t)}constructor(e,t,i){this.ref=$.genFileRef(t),this.fileEl=e,this.file=t,this.view=i,this.meta=null,this._isCancelled=!1,this._isDone=!1,this._progress=0,this._lastProgressSent=-1,this._onDone=function(){},this._onElUpdated=this.onElUpdated.bind(this),this.fileEl.addEventListener(Ze,this._onElUpdated)}metadata(){return this.meta}progress(e){this._progress=Math.floor(e),this._progress>this._lastProgressSent&&(this._progress>=100?(this._progress=100,this._lastProgressSent=100,this._isDone=!0,this.view.pushFileProgress(this.fileEl,this.ref,100,()=>{$.untrackFile(this.fileEl,this.file),this._onDone()})):(this._lastProgressSent=this._progress,this.view.pushFileProgress(this.fileEl,this.ref,this._progress)))}cancel(){this._isCancelled=!0,this._isDone=!0,this._onDone()}isDone(){return this._isDone}error(e="failed"){this.view.pushFileProgress(this.fileEl,this.ref,{error:e}),$.clearFiles(this.fileEl)}onDone(e){this._onDone=()=>{this.fileEl.removeEventListener(Ze,this._onElUpdated),e()}}onElUpdated(){this.fileEl.getAttribute(Ye).split(",").indexOf(this.ref)===-1&&this.cancel()}toPreflightPayload(){return{last_modified:this.file.lastModified,name:this.file.name,size:this.file.size,type:this.file.type,ref:this.ref}}uploader(e){if(this.meta.uploader){let t=e[this.meta.uploader]||N(`no uploader configured for ${this.meta.uploader}`);return{name:this.meta.uploader,callback:t}}else return{name:"channel",callback:Fi}}zipPostFlight(e){this.meta=e.entries[this.ref],this.meta||N(`no preflight upload response returned with ref ${this.ref}`,{input:this.fileEl,response:e})}},Hi=0,$=class{static genFileRef(e){let t=e._phxRef;return t!==void 0?t:(e._phxRef=(Hi++).toString(),e._phxRef)}static getEntryDataURL(e,t,i){let n=this.activeFiles(e).find(s=>this.genFileRef(s)===t);i(URL.createObjectURL(n))}static hasUploadsInProgress(e){let t=0;return v.findUploadInputs(e).forEach(i=>{i.getAttribute(Ge)!==i.getAttribute(bi)&&t++}),t>0}static serializeUploads(e){let t=this.activeFiles(e),i={};return t.forEach(n=>{let s={path:e.name},r=e.getAttribute(he);i[r]=i[r]||[],s.ref=this.genFileRef(n),s.name=n.name||s.ref,s.type=n.type,s.size=n.size,i[r].push(s)}),i}static clearFiles(e){e.value=null,e.removeAttribute(he),v.putPrivate(e,"files",[])}static untrackFile(e,t){v.putPrivate(e,"files",v.private(e,"files").filter(i=>!Object.is(i,t)))}static trackFiles(e,t){if(e.getAttribute("multiple")!==null){let i=t.filter(n=>!this.activeFiles(e).find(s=>Object.is(s,n)));v.putPrivate(e,"files",this.activeFiles(e).concat(i)),e.value=null}else v.putPrivate(e,"files",t)}static activeFileInputs(e){let t=v.findUploadInputs(e);return Array.from(t).filter(i=>i.files&&this.activeFiles(i).length>0)}static activeFiles(e){return(v.private(e,"files")||[]).filter(t=>ht.isActive(e,t))}static inputsAwaitingPreflight(e){let t=v.findUploadInputs(e);return Array.from(t).filter(i=>this.filesAwaitingPreflight(i).length>0)}static filesAwaitingPreflight(e){return this.activeFiles(e).filter(t=>!ht.isPreflighted(e,t))}constructor(e,t,i){this.view=t,this.onComplete=i,this._entries=Array.from($.filesAwaitingPreflight(e)||[]).map(n=>new ht(e,n,t)),this.numEntriesInProgress=this._entries.length}entries(){return this._entries}initAdapterUpload(e,t,i){this._entries=this._entries.map(s=>(s.zipPostFlight(e),s.onDone(()=>{this.numEntriesInProgress--,this.numEntriesInProgress===0&&this.onComplete()}),s));let n=this._entries.reduce((s,r)=>{let{name:a,callback:o}=r.uploader(i.uploaders);return s[a]=s[a]||{callback:o,entries:[]},s[a].entries.push(r),s},{});for(let s in n){let{callback:r,entries:a}=n[s];r(a,t,e,i)}}},Ni={LiveFileUpload:{activeRefs(){return this.el.getAttribute(Ye)},preflightedRefs(){return this.el.getAttribute(Ge)},mounted(){this.preflightedWas=this.preflightedRefs()},updated(){let e=this.preflightedRefs();this.preflightedWas!==e&&(this.preflightedWas=e,e===""&&this.__view.cancelSubmit(this.el.form)),this.activeRefs()===""&&(this.el.value=null),this.el.dispatchEvent(new CustomEvent(Ze))}},LiveImgPreview:{mounted(){this.ref=this.el.getAttribute("data-phx-entry-ref"),this.inputEl=document.getElementById(this.el.getAttribute(he)),$.getEntryDataURL(this.inputEl,this.ref,e=>{this.url=e,this.el.src=e})},destroyed(){URL.revokeObjectURL(this.url)}}},$i=Ni,Mi=class{constructor(e,t,i){let n=new Set,s=new Set([...t.children].map(a=>a.id)),r=[];Array.from(e.children).forEach(a=>{if(a.id&&(n.add(a.id),s.has(a.id))){let o=a.previousElementSibling&&a.previousElementSibling.id;r.push({elementId:a.id,previousElementId:o})}}),this.containerId=t.id,this.updateType=i,this.elementsToModify=r,this.elementIdsToAdd=[...s].filter(a=>!n.has(a))}perform(){let e=v.byId(this.containerId);this.elementsToModify.forEach(t=>{t.previousElementId?ne(document.getElementById(t.previousElementId),i=>{ne(document.getElementById(t.elementId),n=>{n.previousElementSibling&&n.previousElementSibling.id==i.id||i.insertAdjacentElement("afterend",n)})}):ne(document.getElementById(t.elementId),i=>{i.previousElementSibling==null||e.insertAdjacentElement("afterbegin",i)})}),this.updateType=="prepend"&&this.elementIdsToAdd.reverse().forEach(t=>{ne(document.getElementById(t),i=>e.insertAdjacentElement("afterbegin",i))})}},$t=11;function ji(e,t){var i=t.attributes,n,s,r,a,o;if(!(t.nodeType===$t||e.nodeType===$t)){for(var l=i.length-1;l>=0;l--)n=i[l],s=n.name,r=n.namespaceURI,a=n.value,r?(s=n.localName||s,o=e.getAttributeNS(r,s),o!==a&&(n.prefix==="xmlns"&&(s=n.name),e.setAttributeNS(r,s,a))):(o=e.getAttribute(s),o!==a&&e.setAttribute(s,a));for(var c=e.attributes,p=c.length-1;p>=0;p--)n=c[p],s=n.name,r=n.namespaceURI,r?(s=n.localName||s,t.hasAttributeNS(r,s)||e.removeAttributeNS(r,s)):t.hasAttribute(s)||e.removeAttribute(s)}}var $e,Ui="http://www.w3.org/1999/xhtml",j=typeof document=="undefined"?void 0:document,Bi=!!j&&"content"in j.createElement("template"),Ji=!!j&&j.createRange&&"createContextualFragment"in j.createRange();function zi(e){var t=j.createElement("template");return t.innerHTML=e,t.content.childNodes[0]}function Vi(e){$e||($e=j.createRange(),$e.selectNode(j.body));var t=$e.createContextualFragment(e);return t.childNodes[0]}function Wi(e){var t=j.createElement("body");return t.innerHTML=e,t.childNodes[0]}function Xi(e){return e=e.trim(),Bi?zi(e):Ji?Vi(e):Wi(e)}function Me(e,t){var i=e.nodeName,n=t.nodeName,s,r;return i===n?!0:(s=i.charCodeAt(0),r=n.charCodeAt(0),s<=90&&r>=97?i===n.toUpperCase():r<=90&&s>=97?n===i.toUpperCase():!1)}function qi(e,t){return!t||t===Ui?j.createElement(e):j.createElementNS(t,e)}function Ki(e,t){for(var i=e.firstChild;i;){var n=i.nextSibling;t.appendChild(i),i=n}return t}function dt(e,t,i){e[i]!==t[i]&&(e[i]=t[i],e[i]?e.setAttribute(i,""):e.removeAttribute(i))}var Mt={OPTION:function(e,t){var i=e.parentNode;if(i){var n=i.nodeName.toUpperCase();n==="OPTGROUP"&&(i=i.parentNode,n=i&&i.nodeName.toUpperCase()),n==="SELECT"&&!i.hasAttribute("multiple")&&(e.hasAttribute("selected")&&!t.selected&&(e.setAttribute("selected","selected"),e.removeAttribute("selected")),i.selectedIndex=-1)}dt(e,t,"selected")},INPUT:function(e,t){dt(e,t,"checked"),dt(e,t,"disabled"),e.value!==t.value&&(e.value=t.value),t.hasAttribute("value")||e.removeAttribute("value")},TEXTAREA:function(e,t){var i=t.value;e.value!==i&&(e.value=i);var n=e.firstChild;if(n){var s=n.nodeValue;if(s==i||!i&&s==e.placeholder)return;n.nodeValue=i}},SELECT:function(e,t){if(!t.hasAttribute("multiple")){for(var i=-1,n=0,s=e.firstChild,r,a;s;)if(a=s.nodeName&&s.nodeName.toUpperCase(),a==="OPTGROUP")r=s,s=r.firstChild;else{if(a==="OPTION"){if(s.hasAttribute("selected")){i=n;break}n++}s=s.nextSibling,!s&&r&&(s=r.nextSibling,r=null)}e.selectedIndex=i}}},Ce=1,Gi=11,jt=3,Ut=8;function de(){}function Yi(e){if(e)return e.getAttribute&&e.getAttribute("id")||e.id}function Zi(e){return function(i,n,s){if(s||(s={}),typeof n=="string")if(i.nodeName==="#document"||i.nodeName==="HTML"||i.nodeName==="BODY"){var r=n;n=j.createElement("html"),n.innerHTML=r}else n=Xi(n);var a=s.getNodeKey||Yi,o=s.onBeforeNodeAdded||de,l=s.onNodeAdded||de,c=s.onBeforeElUpdated||de,p=s.onElUpdated||de,m=s.onBeforeNodeDiscarded||de,g=s.onNodeDiscarded||de,d=s.onBeforeElChildrenUpdated||de,u=s.childrenOnly===!0,f=Object.create(null),b=[];function y(E){b.push(E)}function A(E,C){if(E.nodeType===Ce)for(var S=E.firstChild;S;){var _=void 0;C&&(_=a(S))?y(_):(g(S),S.firstChild&&A(S,C)),S=S.nextSibling}}function h(E,C,S){m(E)!==!1&&(C&&C.removeChild(E),g(E),A(E,S))}function k(E){if(E.nodeType===Ce||E.nodeType===Gi)for(var C=E.firstChild;C;){var S=a(C);S&&(f[S]=C),k(C),C=C.nextSibling}}k(i);function x(E){l(E);for(var C=E.firstChild;C;){var S=C.nextSibling,_=a(C);if(_){var P=f[_];P&&Me(C,P)?(C.parentNode.replaceChild(P,C),q(P,C)):x(C)}else x(C);C=S}}function H(E,C,S){for(;C;){var _=C.nextSibling;(S=a(C))?y(S):h(C,E,!0),C=_}}function q(E,C,S){var _=a(C);_&&delete f[_],!(!S&&(c(E,C)===!1||(e(E,C),p(E),d(E,C)===!1)))&&(E.nodeName!=="TEXTAREA"?M(E,C):Mt.TEXTAREA(E,C))}function M(E,C){var S=C.firstChild,_=E.firstChild,P,O,B,J,z;e:for(;S;){for(J=S.nextSibling,P=a(S);_;){if(B=_.nextSibling,S.isSameNode&&S.isSameNode(_)){S=J,_=B;continue e}O=a(_);var ce=_.nodeType,F=void 0;if(ce===S.nodeType&&(ce===Ce?(P?P!==O&&((z=f[P])?B===z?F=!1:(E.insertBefore(z,_),O?y(O):h(_,E,!0),_=z):F=!1):O&&(F=!1),F=F!==!1&&Me(_,S),F&&q(_,S)):(ce===jt||ce==Ut)&&(F=!0,_.nodeValue!==S.nodeValue&&(_.nodeValue=S.nodeValue))),F){S=J,_=B;continue e}O?y(O):h(_,E,!0),_=B}if(P&&(z=f[P])&&Me(z,S))E.appendChild(z),q(z,S);else{var te=o(S);te!==!1&&(te&&(S=te),S.actualize&&(S=S.actualize(E.ownerDocument||j)),E.appendChild(S),x(S))}S=J,_=B}H(E,_,O);var oe=Mt[E.nodeName];oe&&oe(E,C)}var T=i,R=T.nodeType,I=n.nodeType;if(!u){if(R===Ce)I===Ce?Me(i,n)||(g(i),T=Ki(i,qi(n.nodeName,n.namespaceURI))):T=n;else if(R===jt||R===Ut){if(I===R)return T.nodeValue!==n.nodeValue&&(T.nodeValue=n.nodeValue),T;T=n}}if(T===n)g(i);else{if(n.isSameNode&&n.isSameNode(T))return;if(q(T,n,u),b)for(var L=0,D=b.length;L<D;L++){var U=f[b[L]];U&&h(U,U.parentNode,!1)}}return!u&&T!==i&&i.parentNode&&(T.actualize&&(T=T.actualize(i.ownerDocument||j)),i.parentNode.replaceChild(T,i)),T}}var Qi=Zi(ji),Bt=Qi,je=class{static patchEl(e,t,i){Bt(e,t,{childrenOnly:!1,onBeforeElUpdated:(n,s)=>{if(i&&i.isSameNode(n)&&v.isFormInput(n))return v.mergeFocusedInput(n,s),!1}})}constructor(e,t,i,n,s){this.view=e,this.liveSocket=e.liveSocket,this.container=t,this.id=i,this.rootID=e.root.id,this.html=n,this.targetCID=s,this.cidPatch=re(this.targetCID),this.callbacks={beforeadded:[],beforeupdated:[],beforephxChildAdded:[],afteradded:[],afterupdated:[],afterdiscarded:[],afterphxChildAdded:[],aftertransitionsDiscarded:[]}}before(e,t){this.callbacks[`before${e}`].push(t)}after(e,t){this.callbacks[`after${e}`].push(t)}trackBefore(e,...t){this.callbacks[`before${e}`].forEach(i=>i(...t))}trackAfter(e,...t){this.callbacks[`after${e}`].forEach(i=>i(...t))}markPrunableContentForRemoval(){v.all(this.container,"[phx-update=append] > *, [phx-update=prepend] > *",e=>{e.setAttribute(kt,"")})}perform(){let{view:e,liveSocket:t,container:i,html:n}=this,s=this.isCIDPatch()?this.targetCIDContainer(n):i;if(this.isCIDPatch()&&!s)return;let r=t.getActiveElement(),{selectionStart:a,selectionEnd:o}=r&&v.hasSelectionRange(r)?r:{},l=t.binding(rt),c=t.binding(it),p=t.binding(st),m=t.binding(yi),g=t.binding("remove"),d=[],u=[],f=[],b=[],y=null,A=t.time("premorph container prep",()=>this.buildDiffHTML(i,n,l,s));return this.trackBefore("added",i),this.trackBefore("updated",i,i),t.time("morphdom",()=>{Bt(s,A,{childrenOnly:s.getAttribute(W)===null,getNodeKey:h=>v.isPhxDestroyed(h)?null:h.id,onBeforeNodeAdded:h=>(this.trackBefore("added",h),h),onNodeAdded:h=>{h instanceof HTMLImageElement&&h.srcset?h.srcset=h.srcset:h instanceof HTMLVideoElement&&h.autoplay&&h.play(),v.isNowTriggerFormExternal(h,m)&&(y=h),v.discardError(s,h,c),(v.isPhxChild(h)&&e.ownsElement(h)||v.isPhxSticky(h)&&e.ownsElement(h.parentNode))&&this.trackAfter("phxChildAdded",h),d.push(h)},onNodeDiscarded:h=>{(v.isPhxChild(h)||v.isPhxSticky(h))&&t.destroyViewByEl(h),this.trackAfter("discarded",h)},onBeforeNodeDiscarded:h=>h.getAttribute&&h.getAttribute(kt)!==null?!0:h.parentNode!==null&&v.isPhxUpdate(h.parentNode,l,["append","prepend"])&&h.id?!1:h.getAttribute&&h.getAttribute(g)?(b.push(h),!1):!this.skipCIDSibling(h),onElUpdated:h=>{v.isNowTriggerFormExternal(h,m)&&(y=h),u.push(h)},onBeforeElUpdated:(h,k)=>{if(v.cleanChildNodes(k,l),this.skipCIDSibling(k)||v.isPhxSticky(h))return!1;if(v.isIgnored(h,l))return this.trackBefore("updated",h,k),v.mergeAttrs(h,k,{isIgnored:!0}),u.push(h),v.applyStickyOperations(h),!1;if(h.type==="number"&&h.validity&&h.validity.badInput)return!1;if(!v.syncPendingRef(h,k,p))return v.isUploadInput(h)&&(this.trackBefore("updated",h,k),u.push(h)),v.applyStickyOperations(h),!1;if(v.isPhxChild(k)){let H=h.getAttribute(se);return v.mergeAttrs(h,k,{exclude:[we]}),H!==""&&h.setAttribute(se,H),h.setAttribute(ye,this.rootID),v.applyStickyOperations(h),!1}return v.copyPrivates(k,h),v.discardError(s,k,c),r&&h.isSameNode(r)&&v.isFormInput(h)?(this.trackBefore("updated",h,k),v.mergeFocusedInput(h,k),v.syncAttrsToProps(h),u.push(h),v.applyStickyOperations(h),!1):(v.isPhxUpdate(k,l,["append","prepend"])&&f.push(new Mi(h,k,k.getAttribute(l))),v.syncAttrsToProps(k),v.applyStickyOperations(k),this.trackBefore("updated",h,k),!0)}})}),t.isDebugEnabled()&&Ii(),f.length>0&&t.time("post-morph append/prepend restoration",()=>{f.forEach(h=>h.perform())}),t.silenceEvents(()=>v.restoreFocus(r,a,o)),v.dispatchEvent(document,"phx:update"),d.forEach(h=>this.trackAfter("added",h)),u.forEach(h=>this.trackAfter("updated",h)),b.length>0&&(t.transitionRemoves(b),t.requestDOMUpdate(()=>{b.forEach(h=>{let k=v.firstPhxChild(h);k&&t.destroyViewByEl(k),h.remove()}),this.trackAfter("transitionsDiscarded",b)})),y&&(t.disconnect(),y.submit()),!0}isCIDPatch(){return this.cidPatch}skipCIDSibling(e){return e.nodeType===Node.ELEMENT_NODE&&e.getAttribute(Qe)!==null}targetCIDContainer(e){if(!this.isCIDPatch())return;let[t,...i]=v.findComponentNodeList(this.container,this.targetCID);return i.length===0&&v.childNodeLength(e)===1?t:t&&t.parentNode}buildDiffHTML(e,t,i,n){let s=this.isCIDPatch(),r=s&&n.getAttribute(W)===this.targetCID.toString();if(!s||r)return t;{let a=null,o=document.createElement("template");a=v.cloneNode(n);let[l,...c]=v.findComponentNodeList(a,this.targetCID);return o.innerHTML=t,c.forEach(p=>p.remove()),Array.from(a.childNodes).forEach(p=>{p.id&&p.nodeType===Node.ELEMENT_NODE&&p.getAttribute(W)!==this.targetCID.toString()&&(p.setAttribute(Qe,""),p.innerHTML="")}),Array.from(o.content.childNodes).forEach(p=>a.insertBefore(p,l)),l.remove(),a.outerHTML}}},Jt=class{static extract(e){let{[Ot]:t,[Dt]:i,[Ft]:n}=e;return delete e[Ot],delete e[Dt],delete e[Ft],{diff:e,title:n,reply:t||null,events:i||[]}}constructor(e,t){this.viewId=e,this.rendered={},this.mergeDiff(t)}parentViewId(){return this.viewId}toString(e){return this.recursiveToString(this.rendered,this.rendered[X],e)}recursiveToString(e,t=e[X],i){i=i?new Set(i):null;let n={buffer:"",components:t,onlyCids:i};return this.toOutputBuffer(e,null,n),n.buffer}componentCIDs(e){return Object.keys(e[X]||{}).map(t=>parseInt(t))}isComponentOnlyDiff(e){return e[X]?Object.keys(e).length===1:!1}getComponent(e,t){return e[X][t]}mergeDiff(e){let t=e[X],i={};if(delete e[X],this.rendered=this.mutableMerge(this.rendered,e),this.rendered[X]=this.rendered[X]||{},t){let n=this.rendered[X];for(let s in t)t[s]=this.cachedFindComponent(s,t[s],n,t,i);for(let s in t)n[s]=t[s];e[X]=t}}cachedFindComponent(e,t,i,n,s){if(s[e])return s[e];{let r,a,o=t[Q];if(re(o)){let l;o>0?l=this.cachedFindComponent(o,n[o],i,n,s):l=i[-o],a=l[Q],r=this.cloneMerge(l,t),r[Q]=a}else r=t[Q]!==void 0?t:this.cloneMerge(i[e]||{},t);return s[e]=r,r}}mutableMerge(e,t){return t[Q]!==void 0?t:(this.doMutableMerge(e,t),e)}doMutableMerge(e,t){for(let i in t){let n=t[i],s=e[i];Ee(n)&&n[Q]===void 0&&Ee(s)?this.doMutableMerge(s,n):e[i]=n}}cloneMerge(e,t){let i=ge(ge({},e),t);for(let n in i){let s=t[n],r=e[n];Ee(s)&&s[Q]===void 0&&Ee(r)&&(i[n]=this.cloneMerge(r,s))}return i}componentToString(e){return this.recursiveCIDToString(this.rendered[X],e)}pruneCIDs(e){e.forEach(t=>delete this.rendered[X][t])}get(){return this.rendered}isNewFingerprint(e={}){return!!e[Q]}templateStatic(e,t){return typeof e=="number"?t[e]:e}toOutputBuffer(e,t,i){if(e[It])return this.comprehensionToBuffer(e,t,i);let{[Q]:n}=e;n=this.templateStatic(n,t),i.buffer+=n[0];for(let s=1;s<n.length;s++)this.dynamicToBuffer(e[s-1],t,i),i.buffer+=n[s]}comprehensionToBuffer(e,t,i){let{[It]:n,[Q]:s}=e;s=this.templateStatic(s,t);let r=t||e[Li];for(let a=0;a<n.length;a++){let o=n[a];i.buffer+=s[0];for(let l=1;l<s.length;l++)this.dynamicToBuffer(o[l-1],r,i),i.buffer+=s[l]}}dynamicToBuffer(e,t,i){typeof e=="number"?i.buffer+=this.recursiveCIDToString(i.components,e,i.onlyCids):Ee(e)?this.toOutputBuffer(e,t,i):i.buffer+=e}recursiveCIDToString(e,t,i){let n=e[t]||N(`no component for CID ${t}`,e),s=document.createElement("template");s.innerHTML=this.recursiveToString(n,e,i);let r=s.content,a=i&&!i.has(t),[o,l]=Array.from(r.childNodes).reduce(([c,p],m,g)=>m.nodeType===Node.ELEMENT_NODE?m.getAttribute(W)?[c,!0]:(m.setAttribute(W,t),m.id||(m.id=`${this.parentViewId()}-${t}-${g}`),a&&(m.setAttribute(Qe,""),m.innerHTML=""),[!0,p]):m.nodeValue.trim()!==""?(N(`only HTML element tags are allowed at the root of components.

got: "${m.nodeValue.trim()}"

within:
`,s.innerHTML.trim()),m.replaceWith(this.createSpan(m.nodeValue,t)),[!0,p]):(m.remove(),[c,p]),[!1,!1]);return!o&&!l?(N(`expected at least one HTML element tag inside a component, but the component is empty:
`,s.innerHTML.trim()),this.createSpan("",t).outerHTML):(!o&&l&&N("expected at least one HTML element tag directly inside a component, but only subcomponents were found. A component must render at least one HTML tag directly inside itself.",s.innerHTML.trim()),s.innerHTML)}createSpan(e,t){let i=document.createElement("span");return i.innerText=e,i.setAttribute(W,t),i}},en=1,_e=class{static makeID(){return en++}static elementID(e){return e.phxHookId}constructor(e,t,i){this.__view=e,this.liveSocket=e.liveSocket,this.__callbacks=i,this.__listeners=new Set,this.__isDisconnected=!1,this.el=t,this.el.phxHookId=this.constructor.makeID();for(let n in this.__callbacks)this[n]=this.__callbacks[n]}__mounted(){this.mounted&&this.mounted()}__updated(){this.updated&&this.updated()}__beforeUpdate(){this.beforeUpdate&&this.beforeUpdate()}__destroyed(){this.destroyed&&this.destroyed()}__reconnected(){this.__isDisconnected&&(this.__isDisconnected=!1,this.reconnected&&this.reconnected())}__disconnected(){this.__isDisconnected=!0,this.disconnected&&this.disconnected()}pushEvent(e,t={},i=function(){}){return this.__view.pushHookEvent(null,e,t,i)}pushEventTo(e,t,i={},n=function(){}){return this.__view.withinTargets(e,(s,r)=>s.pushHookEvent(r,t,i,n))}handleEvent(e,t){let i=(n,s)=>s?e:t(n.detail);return window.addEventListener(`phx:${e}`,i),this.__listeners.add(i),i}removeHandleEvent(e){let t=e(null,!0);window.removeEventListener(`phx:${t}`,e),this.__listeners.delete(e)}upload(e,t){return this.__view.dispatchUploads(e,t)}uploadTo(e,t,i){return this.__view.withinTargets(e,n=>n.dispatchUploads(t,i))}__cleanup__(){this.__listeners.forEach(e=>this.removeHandleEvent(e))}},tn={exec(e,t,i,n,s){let[r,a]=s||[null,{}];(t.charAt(0)==="["?JSON.parse(t):[[r,a]]).forEach(([l,c])=>{l===r&&a.data&&(c.data=Object.assign(c.data||{},a.data)),this.filterToEls(n,c).forEach(p=>{this[`exec_${l}`](e,t,i,n,p,c)})})},isVisible(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length>0)},exec_dispatch(e,t,i,n,s,{to:r,event:a,detail:o,bubbles:l}){o=o||{},o.dispatcher=n,v.dispatchEvent(s,a,{detail:o,bubbles:l})},exec_push(e,t,i,n,s,r){if(!i.isConnected())return;let{event:a,data:o,target:l,page_loading:c,loading:p,value:m,dispatcher:g}=r,d={loading:p,value:m,target:l,page_loading:!!c},u=e==="change"&&g?g:n,f=l||u.getAttribute(i.binding("target"))||u;i.withinTargets(f,(b,y)=>{if(e==="change"){let{newCid:A,_target:h,callback:k}=r;h=h||(n instanceof HTMLInputElement?n.name:void 0),h&&(d._target=h),b.pushInput(n,y,A,a||t,d,k)}else e==="submit"?b.submitForm(n,y,a||t,d):b.pushEvent(e,n,y,a||t,o,d)})},exec_add_class(e,t,i,n,s,{names:r,transition:a,time:o}){this.addOrRemoveClasses(s,r,[],a,o,i)},exec_remove_class(e,t,i,n,s,{names:r,transition:a,time:o}){this.addOrRemoveClasses(s,[],r,a,o,i)},exec_transition(e,t,i,n,s,{time:r,transition:a}){let[o,l,c]=a,p=()=>this.addOrRemoveClasses(s,o.concat(l),[]),m=()=>this.addOrRemoveClasses(s,c,o.concat(l));i.transition(r,p,m)},exec_toggle(e,t,i,n,s,{display:r,ins:a,outs:o,time:l}){this.toggle(e,i,s,r,a,o,l)},exec_show(e,t,i,n,s,{display:r,transition:a,time:o}){this.show(e,i,s,r,a,o)},exec_hide(e,t,i,n,s,{display:r,transition:a,time:o}){this.hide(e,i,s,r,a,o)},exec_set_attr(e,t,i,n,s,{attr:[r,a]}){this.setOrRemoveAttrs(s,[[r,a]],[])},exec_remove_attr(e,t,i,n,s,{attr:r}){this.setOrRemoveAttrs(s,[],[r])},show(e,t,i,n,s,r){this.isVisible(i)||this.toggle(e,t,i,n,s,null,r)},hide(e,t,i,n,s,r){this.isVisible(i)&&this.toggle(e,t,i,n,null,s,r)},toggle(e,t,i,n,s,r,a){let[o,l,c]=s||[[],[],[]],[p,m,g]=r||[[],[],[]];if(o.length>0||p.length>0)if(this.isVisible(i)){let d=()=>{this.addOrRemoveClasses(i,m,o.concat(l).concat(c)),window.requestAnimationFrame(()=>{this.addOrRemoveClasses(i,p,[]),window.requestAnimationFrame(()=>this.addOrRemoveClasses(i,g,m))})};i.dispatchEvent(new Event("phx:hide-start")),t.transition(a,d,()=>{this.addOrRemoveClasses(i,[],p.concat(g)),v.putSticky(i,"toggle",u=>u.style.display="none"),i.dispatchEvent(new Event("phx:hide-end"))})}else{if(e==="remove")return;let d=()=>{this.addOrRemoveClasses(i,l,p.concat(m).concat(g)),v.putSticky(i,"toggle",u=>u.style.display=n||"block"),window.requestAnimationFrame(()=>{this.addOrRemoveClasses(i,o,[]),window.requestAnimationFrame(()=>this.addOrRemoveClasses(i,c,l))})};i.dispatchEvent(new Event("phx:show-start")),t.transition(a,d,()=>{this.addOrRemoveClasses(i,[],o.concat(c)),i.dispatchEvent(new Event("phx:show-end"))})}else this.isVisible(i)?window.requestAnimationFrame(()=>{i.dispatchEvent(new Event("phx:hide-start")),v.putSticky(i,"toggle",d=>d.style.display="none"),i.dispatchEvent(new Event("phx:hide-end"))}):window.requestAnimationFrame(()=>{i.dispatchEvent(new Event("phx:show-start")),v.putSticky(i,"toggle",d=>d.style.display=n||"block"),i.dispatchEvent(new Event("phx:show-end"))})},addOrRemoveClasses(e,t,i,n,s,r){let[a,o,l]=n||[[],[],[]];if(a.length>0){let c=()=>this.addOrRemoveClasses(e,o.concat(a),[]),p=()=>this.addOrRemoveClasses(e,t.concat(l),i.concat(a).concat(o));return r.transition(s,c,p)}window.requestAnimationFrame(()=>{let[c,p]=v.getSticky(e,"classes",[[],[]]),m=t.filter(f=>c.indexOf(f)<0&&!e.classList.contains(f)),g=i.filter(f=>p.indexOf(f)<0&&e.classList.contains(f)),d=c.filter(f=>i.indexOf(f)<0).concat(m),u=p.filter(f=>t.indexOf(f)<0).concat(g);v.putSticky(e,"classes",f=>(f.classList.remove(...u),f.classList.add(...d),[d,u]))})},setOrRemoveAttrs(e,t,i){let[n,s]=v.getSticky(e,"attrs",[[],[]]),r=t.map(([l,c])=>l).concat(i),a=n.filter(([l,c])=>!r.includes(l)).concat(t),o=s.filter(l=>!r.includes(l)).concat(i);v.putSticky(e,"attrs",l=>(o.forEach(c=>l.removeAttribute(c)),a.forEach(([c,p])=>l.setAttribute(c,p)),[a,o]))},hasAllClasses(e,t){return t.every(i=>e.classList.contains(i))},isToggledOut(e,t){return!this.isVisible(e)||this.hasAllClasses(e,t)},filterToEls(e,{to:t}){return t?v.all(document,t):[e]}},ee=tn,Ue=(e,t,i=[])=>{let n=new FormData(e),s=[];n.forEach((a,o,l)=>{a instanceof File&&s.push(o)}),s.forEach(a=>n.delete(a));let r=new URLSearchParams;for(let[a,o]of n.entries())(i.length===0||i.indexOf(a)>=0)&&r.append(a,o);for(let a in t)r.append(a,t[a]);return r.toString()},zt=class{constructor(e,t,i,n){this.liveSocket=t,this.flash=n,this.parent=i,this.root=i?i.root:this,this.el=e,this.id=this.el.id,this.ref=0,this.childJoins=0,this.loaderTimer=null,this.pendingDiffs=[],this.pruningCIDs=[],this.redirect=!1,this.href=null,this.joinCount=this.parent?this.parent.joinCount-1:0,this.joinPending=!0,this.destroyed=!1,this.joinCallback=function(s){s&&s()},this.stopCallback=function(){},this.pendingJoinOps=this.parent?null:[],this.viewHooks={},this.uploaders={},this.formSubmits=[],this.children=this.parent?null:{},this.root.children[this.id]={},this.channel=this.liveSocket.channel(`lv:${this.id}`,()=>({redirect:this.redirect?this.href:void 0,url:this.redirect?void 0:this.href||void 0,params:this.connectParams(),session:this.getSession(),static:this.getStatic(),flash:this.flash})),this.showLoader(this.liveSocket.loaderTimeout),this.bindChannel()}setHref(e){this.href=e}setRedirect(e){this.redirect=!0,this.href=e}isMain(){return this.el.hasAttribute(tt)}connectParams(){let e=this.liveSocket.params(this.el),t=v.all(document,`[${this.binding(mi)}]`).map(i=>i.src||i.href).filter(i=>typeof i=="string");return t.length>0&&(e._track_static=t),e._mounts=this.joinCount,e}isConnected(){return this.channel.canPush()}getSession(){return this.el.getAttribute(se)}getStatic(){let e=this.el.getAttribute(we);return e===""?null:e}destroy(e=function(){}){this.destroyAllChildren(),this.destroyed=!0,delete this.root.children[this.id],this.parent&&delete this.root.children[this.parent.id][this.id],clearTimeout(this.loaderTimer);let t=()=>{e();for(let i in this.viewHooks)this.destroyHook(this.viewHooks[i])};v.markPhxChildDestroyed(this.el),this.log("destroyed",()=>["the child has been removed from the parent"]),this.channel.leave().receive("ok",t).receive("error",t).receive("timeout",t)}setContainerClasses(...e){this.el.classList.remove(At,et,Ct),this.el.classList.add(...e)}showLoader(e){if(clearTimeout(this.loaderTimer),e)this.loaderTimer=setTimeout(()=>this.showLoader(),e);else{for(let t in this.viewHooks)this.viewHooks[t].__disconnected();this.setContainerClasses(et)}}hideLoader(){clearTimeout(this.loaderTimer),this.setContainerClasses(At)}triggerReconnected(){for(let e in this.viewHooks)this.viewHooks[e].__reconnected()}log(e,t){this.liveSocket.log(this,e,t)}transition(e,t,i=function(){}){this.liveSocket.transition(e,t,i)}withinTargets(e,t){if(e instanceof HTMLElement||e instanceof SVGElement)return this.liveSocket.owner(e,i=>t(i,e));if(re(e))v.findComponentNodeList(this.el,e).length===0?N(`no component found matching phx-target of ${e}`):t(this,parseInt(e));else{let i=Array.from(document.querySelectorAll(e));i.length===0&&N(`nothing found matching the phx-target selector "${e}"`),i.forEach(n=>this.liveSocket.owner(n,s=>t(s,n)))}}applyDiff(e,t,i){this.log(e,()=>["",Ne(t)]);let{diff:n,reply:s,events:r,title:a}=Jt.extract(t);return a&&v.putTitle(a),i({diff:n,reply:s,events:r}),s}onJoin(e){let{rendered:t,container:i}=e;if(i){let[n,s]=i;this.el=v.replaceRootContainer(this.el,n,s)}this.childJoins=0,this.joinPending=!0,this.flash=null,ae.dropLocal(this.liveSocket.localStorage,window.location.pathname,vt),this.applyDiff("mount",t,({diff:n,events:s})=>{this.rendered=new Jt(this.id,n);let r=this.renderContainer(null,"join");this.dropPendingRefs();let a=this.formsForRecovery(r);this.joinCount++,a.length>0?a.forEach(([o,l,c],p)=>{this.pushFormRecovery(o,c,m=>{p===a.length-1&&this.onJoinComplete(m,r,s)})}):this.onJoinComplete(e,r,s)})}dropPendingRefs(){v.all(document,`[${le}="${this.id}"][${Y}]`,e=>{e.removeAttribute(Y),e.removeAttribute(le)})}onJoinComplete({live_patch:e},t,i){if(this.joinCount>1||this.parent&&!this.parent.isJoinPending())return this.applyJoinPatch(e,t,i);v.findPhxChildrenInFragment(t,this.id).filter(s=>{let r=s.id&&this.el.querySelector(`[id="${s.id}"]`),a=r&&r.getAttribute(we);return a&&s.setAttribute(we,a),this.joinChild(s)}).length===0?this.parent?(this.root.pendingJoinOps.push([this,()=>this.applyJoinPatch(e,t,i)]),this.parent.ackJoin(this)):(this.onAllChildJoinsComplete(),this.applyJoinPatch(e,t,i)):this.root.pendingJoinOps.push([this,()=>this.applyJoinPatch(e,t,i)])}attachTrueDocEl(){this.el=v.byId(this.id),this.el.setAttribute(ye,this.root.id)}applyJoinPatch(e,t,i){this.attachTrueDocEl();let n=new je(this,this.el,this.id,t,null);if(n.markPrunableContentForRemoval(),this.performPatch(n,!1),this.joinNewChildren(),v.all(this.el,`[${this.binding(ke)}], [data-phx-${ke}]`,s=>{let r=this.addHook(s);r&&r.__mounted()}),this.joinPending=!1,this.liveSocket.dispatchEvents(i),this.applyPendingUpdates(),e){let{kind:s,to:r}=e;this.liveSocket.historyPatch(r,s)}this.hideLoader(),this.joinCount>1&&this.triggerReconnected(),this.stopCallback()}triggerBeforeUpdateHook(e,t){this.liveSocket.triggerDOM("onBeforeElUpdated",[e,t]);let i=this.getHook(e),n=i&&v.isIgnored(e,this.binding(rt));if(i&&!e.isEqualNode(t)&&!(n&&Oi(e.dataset,t.dataset)))return i.__beforeUpdate(),i}performPatch(e,t){let i=[],n=!1,s=new Set;return e.after("added",r=>{this.liveSocket.triggerDOM("onNodeAdded",[r]);let a=this.addHook(r);a&&a.__mounted()}),e.after("phxChildAdded",r=>{v.isPhxSticky(r)?this.liveSocket.joinRootViews():n=!0}),e.before("updated",(r,a)=>{this.triggerBeforeUpdateHook(r,a)&&s.add(r.id)}),e.after("updated",r=>{s.has(r.id)&&this.getHook(r).__updated()}),e.after("discarded",r=>{r.nodeType===Node.ELEMENT_NODE&&i.push(r)}),e.after("transitionsDiscarded",r=>this.afterElementsRemoved(r,t)),e.perform(),this.afterElementsRemoved(i,t),n}afterElementsRemoved(e,t){let i=[];e.forEach(n=>{let s=v.all(n,`[${W}]`),r=v.all(n,`[${this.binding(ke)}]`);s.concat(n).forEach(a=>{let o=this.componentID(a);re(o)&&i.indexOf(o)===-1&&i.push(o)}),r.concat(n).forEach(a=>{let o=this.getHook(a);o&&this.destroyHook(o)})}),t&&this.maybePushComponentsDestroyed(i)}joinNewChildren(){v.findPhxChildren(this.el,this.id).forEach(e=>this.joinChild(e))}getChildById(e){return this.root.children[this.id][e]}getDescendentByEl(e){return e.id===this.id?this:this.children[e.getAttribute(ue)][e.id]}destroyDescendent(e){for(let t in this.root.children)for(let i in this.root.children[t])if(i===e)return this.root.children[t][i].destroy()}joinChild(e){if(!this.getChildById(e.id)){let i=new zt(e,this.liveSocket,this);return this.root.children[this.id][i.id]=i,i.join(),this.childJoins++,!0}}isJoinPending(){return this.joinPending}ackJoin(e){this.childJoins--,this.childJoins===0&&(this.parent?this.parent.ackJoin(this):this.onAllChildJoinsComplete())}onAllChildJoinsComplete(){this.joinCallback(()=>{this.pendingJoinOps.forEach(([e,t])=>{e.isDestroyed()||t()}),this.pendingJoinOps=[]})}update(e,t){if(this.isJoinPending()||this.liveSocket.hasPendingLink()&&!v.isPhxSticky(this.el))return this.pendingDiffs.push({diff:e,events:t});this.rendered.mergeDiff(e);let i=!1;this.rendered.isComponentOnlyDiff(e)?this.liveSocket.time("component patch complete",()=>{v.findParentCIDs(this.el,this.rendered.componentCIDs(e)).forEach(s=>{this.componentPatch(this.rendered.getComponent(e,s),s)&&(i=!0)})}):Ht(e)||this.liveSocket.time("full patch complete",()=>{let n=this.renderContainer(e,"update"),s=new je(this,this.el,this.id,n,null);i=this.performPatch(s,!0)}),this.liveSocket.dispatchEvents(t),i&&this.joinNewChildren()}renderContainer(e,t){return this.liveSocket.time(`toString diff (${t})`,()=>{let i=this.el.tagName,n=e?this.rendered.componentCIDs(e).concat(this.pruningCIDs):null,s=this.rendered.toString(n);return`<${i}>${s}</${i}>`})}componentPatch(e,t){if(Ht(e))return!1;let i=this.rendered.componentToString(t),n=new je(this,this.el,this.id,i,t);return this.performPatch(n,!0)}getHook(e){return this.viewHooks[_e.elementID(e)]}addHook(e){if(_e.elementID(e)||!e.getAttribute)return;let t=e.getAttribute(`data-phx-${ke}`)||e.getAttribute(this.binding(ke));if(t&&!this.ownsElement(e))return;let i=this.liveSocket.getHookCallbacks(t);if(i){e.id||N(`no DOM ID for hook "${t}". Hooks require a unique ID on each element.`,e);let n=new _e(this,e,i);return this.viewHooks[_e.elementID(n.el)]=n,n}else t!==null&&N(`unknown hook found for "${t}"`,e)}destroyHook(e){e.__destroyed(),e.__cleanup__(),delete this.viewHooks[_e.elementID(e.el)]}applyPendingUpdates(){this.pendingDiffs.forEach(({diff:e,events:t})=>this.update(e,t)),this.pendingDiffs=[]}onChannel(e,t){this.liveSocket.onChannel(this.channel,e,i=>{this.isJoinPending()?this.root.pendingJoinOps.push([this,()=>t(i)]):this.liveSocket.requestDOMUpdate(()=>t(i))})}bindChannel(){this.liveSocket.onChannel(this.channel,"diff",e=>{this.liveSocket.requestDOMUpdate(()=>{this.applyDiff("update",e,({diff:t,events:i})=>this.update(t,i))})}),this.onChannel("redirect",({to:e,flash:t})=>this.onRedirect({to:e,flash:t})),this.onChannel("live_patch",e=>this.onLivePatch(e)),this.onChannel("live_redirect",e=>this.onLiveRedirect(e)),this.channel.onError(e=>this.onError(e)),this.channel.onClose(e=>this.onClose(e))}destroyAllChildren(){for(let e in this.root.children[this.id])this.getChildById(e).destroy()}onLiveRedirect(e){let{to:t,kind:i,flash:n}=e,s=this.expandURL(t);this.liveSocket.historyRedirect(s,i,n)}onLivePatch(e){let{to:t,kind:i}=e;this.href=this.expandURL(t),this.liveSocket.historyPatch(t,i)}expandURL(e){return e.startsWith("/")?`${window.location.protocol}//${window.location.host}${e}`:e}onRedirect({to:e,flash:t}){this.liveSocket.redirect(e,t)}isDestroyed(){return this.destroyed}join(e){this.isMain()&&(this.stopCallback=this.liveSocket.withPageLoading({to:this.href,kind:"initial"})),this.joinCallback=t=>{t=t||function(){},e?e(this.joinCount,t):t()},this.liveSocket.wrapPush(this,{timeout:!1},()=>this.channel.join().receive("ok",t=>{this.isDestroyed()||this.liveSocket.requestDOMUpdate(()=>this.onJoin(t))}).receive("error",t=>!this.isDestroyed()&&this.onJoinError(t)).receive("timeout",()=>!this.isDestroyed()&&this.onJoinError({reason:"timeout"})))}onJoinError(e){if(e.reason==="unauthorized"||e.reason==="stale")return this.log("error",()=>["unauthorized live_redirect. Falling back to page request",e]),this.onRedirect({to:this.href});if((e.redirect||e.live_redirect)&&(this.joinPending=!1,this.channel.leave()),e.redirect)return this.onRedirect(e.redirect);if(e.live_redirect)return this.onLiveRedirect(e.live_redirect);this.log("error",()=>["unable to join",e]),this.liveSocket.isConnected()&&this.liveSocket.reloadWithJitter(this)}onClose(e){if(!this.isDestroyed()){if(this.liveSocket.hasPendingLink()&&e!=="leave")return this.liveSocket.reloadWithJitter(this);this.destroyAllChildren(),this.liveSocket.dropActiveElement(this),document.activeElement&&document.activeElement.blur(),this.liveSocket.isUnloaded()&&this.showLoader(_i)}}onError(e){this.onClose(e),this.liveSocket.isConnected()&&this.log("error",()=>["view crashed",e]),this.liveSocket.isUnloaded()||this.displayError()}displayError(){this.isMain()&&v.dispatchEvent(window,"phx:page-loading-start",{detail:{to:this.href,kind:"error"}}),this.showLoader(),this.setContainerClasses(et,Ct)}pushWithReply(e,t,i,n=function(){}){if(!this.isConnected())return;let[s,[r],a]=e?e():[null,[],{}],o=function(){};return(a.page_loading||r&&r.getAttribute(this.binding(St))!==null)&&(o=this.liveSocket.withPageLoading({kind:"element",target:r})),typeof i.cid!="number"&&delete i.cid,this.liveSocket.wrapPush(this,{timeout:!0},()=>this.channel.push(t,i,xi).receive("ok",l=>{s!==null&&this.undoRefs(s);let c=p=>{l.redirect&&this.onRedirect(l.redirect),l.live_patch&&this.onLivePatch(l.live_patch),l.live_redirect&&this.onLiveRedirect(l.live_redirect),o(),n(l,p)};l.diff?this.liveSocket.requestDOMUpdate(()=>{let p=this.applyDiff("update",l.diff,({diff:m,events:g})=>{this.update(m,g)});c(p)}):c(null)}))}undoRefs(e){v.all(document,`[${le}="${this.id}"][${Y}="${e}"]`,t=>{let i=t.getAttribute(De);t.removeAttribute(Y),t.removeAttribute(le),t.getAttribute(nt)!==null&&(t.readOnly=!1,t.removeAttribute(nt)),i!==null&&(t.disabled=i==="true",t.removeAttribute(De)),bt.forEach(r=>v.removeClass(t,r));let n=t.getAttribute(Oe);n!==null&&(t.innerText=n,t.removeAttribute(Oe));let s=v.private(t,Y);if(s){let r=this.triggerBeforeUpdateHook(t,s);je.patchEl(t,s,this.liveSocket.getActiveElement()),r&&r.__updated(),v.deletePrivate(t,Y)}})}putRef(e,t,i={}){let n=this.ref++,s=this.binding(st);return i.loading&&(e=e.concat(v.all(document,i.loading))),e.forEach(r=>{r.classList.add(`phx-${t}-loading`),r.setAttribute(Y,n),r.setAttribute(le,this.el.id);let a=r.getAttribute(s);a!==null&&(r.getAttribute(Oe)||r.setAttribute(Oe,r.innerText),a!==""&&(r.innerText=a),r.setAttribute("disabled",""))}),[n,e,i]}componentID(e){let t=e.getAttribute&&e.getAttribute(W);return t?parseInt(t):null}targetComponentID(e,t,i={}){if(re(t))return t;let n=e.getAttribute(this.binding("target"));return re(n)?parseInt(n):t&&(n!==null||i.target)?this.closestComponentID(t):null}closestComponentID(e){return re(e)?e:e?ne(e.closest(`[${W}]`),t=>this.ownsElement(t)&&this.componentID(t)):null}pushHookEvent(e,t,i,n){if(!this.isConnected())return this.log("hook",()=>["unable to push hook event. LiveView not connected",t,i]),!1;let[s,r,a]=this.putRef([],"hook");return this.pushWithReply(()=>[s,r,a],"event",{type:"hook",event:t,value:i,cid:this.closestComponentID(e)},(o,l)=>n(l,s)),s}extractMeta(e,t,i){let n=this.binding("value-");for(let s=0;s<e.attributes.length;s++){t||(t={});let r=e.attributes[s].name;r.startsWith(n)&&(t[r.replace(n,"")]=e.getAttribute(r))}if(e.value!==void 0&&(t||(t={}),t.value=e.value,e.tagName==="INPUT"&&Tt.indexOf(e.type)>=0&&!e.checked&&delete t.value),i){t||(t={});for(let s in i)t[s]=i[s]}return t}pushEvent(e,t,i,n,s,r={}){this.pushWithReply(()=>this.putRef([t],e,r),"event",{type:e,event:n,value:this.extractMeta(t,s,r.value),cid:this.targetComponentID(t,i,r)})}pushFileProgress(e,t,i,n=function(){}){this.liveSocket.withinOwners(e.form,(s,r)=>{s.pushWithReply(null,"progress",{event:e.getAttribute(s.binding(Ei)),ref:e.getAttribute(he),entry_ref:t,progress:i,cid:s.targetComponentID(e.form,r)},n)})}pushInput(e,t,i,n,s,r){let a,o=re(i)?i:this.targetComponentID(e.form,t),l=()=>this.putRef([e,e.form],"change",s),c;e.getAttribute(this.binding("change"))?c=Ue(e.form,{_target:s._target},[e.name]):c=Ue(e.form,{_target:s._target}),v.isUploadInput(e)&&e.files&&e.files.length>0&&$.trackFiles(e,Array.from(e.files)),a=$.serializeUploads(e);let p={type:"form",event:n,value:c,uploads:a,cid:o};this.pushWithReply(l,"event",p,m=>{if(v.showError(e,this.liveSocket.binding(it)),v.isUploadInput(e)&&e.getAttribute("data-phx-auto-upload")!==null){if($.filesAwaitingPreflight(e).length>0){let[g,d]=l();this.uploadFiles(e.form,t,g,o,u=>{r&&r(m),this.triggerAwaitingSubmit(e.form)})}}else r&&r(m)})}triggerAwaitingSubmit(e){let t=this.getScheduledSubmit(e);if(t){let[i,n,s,r]=t;this.cancelSubmit(e),r()}}getScheduledSubmit(e){return this.formSubmits.find(([t,i,n,s])=>t.isSameNode(e))}scheduleSubmit(e,t,i,n){if(this.getScheduledSubmit(e))return!0;this.formSubmits.push([e,t,i,n])}cancelSubmit(e){this.formSubmits=this.formSubmits.filter(([t,i,n])=>t.isSameNode(e)?(this.undoRefs(i),!1):!0)}pushFormSubmit(e,t,i,n,s){let r=m=>!(Ae(m,`${this.binding(rt)}=ignore`,m.form)||Ae(m,"data-phx-update=ignore",m.form)),a=m=>m.hasAttribute(this.binding(st)),o=m=>m.tagName=="BUTTON",l=m=>["INPUT","TEXTAREA","SELECT"].includes(m.tagName),c=()=>{let m=Array.from(e.elements),g=m.filter(a),d=m.filter(o).filter(r),u=m.filter(l).filter(r);return d.forEach(f=>{f.setAttribute(De,f.disabled),f.disabled=!0}),u.forEach(f=>{f.setAttribute(nt,f.readOnly),f.readOnly=!0,f.files&&(f.setAttribute(De,f.disabled),f.disabled=!0)}),e.setAttribute(this.binding(St),""),this.putRef([e].concat(g).concat(d).concat(u),"submit",n)},p=this.targetComponentID(e,t);if($.hasUploadsInProgress(e)){let[m,g]=c(),d=()=>this.pushFormSubmit(e,t,i,n,s);return this.scheduleSubmit(e,m,n,d)}else if($.inputsAwaitingPreflight(e).length>0){let[m,g]=c(),d=()=>[m,g,n];this.uploadFiles(e,t,m,p,u=>{let f=Ue(e,{});this.pushWithReply(d,"event",{type:"form",event:i,value:f,cid:p},s)})}else{let m=Ue(e,{});this.pushWithReply(c,"event",{type:"form",event:i,value:m,cid:p},s)}}uploadFiles(e,t,i,n,s){let r=this.joinCount,a=$.activeFileInputs(e),o=a.length;a.forEach(l=>{let c=new $(l,this,()=>{o--,o===0&&s()});this.uploaders[l]=c;let p=c.entries().map(g=>g.toPreflightPayload()),m={ref:l.getAttribute(he),entries:p,cid:this.targetComponentID(l.form,t)};this.log("upload",()=>["sending preflight request",m]),this.pushWithReply(null,"allow_upload",m,g=>{if(this.log("upload",()=>["got preflight response",g]),g.error){this.undoRefs(i);let[d,u]=g.error;this.log("upload",()=>[`error for entry ${d}`,u])}else{let d=u=>{this.channel.onError(()=>{this.joinCount===r&&u()})};c.initAdapterUpload(g,d,this.liveSocket)}})})}dispatchUploads(e,t){let i=v.findUploadInputs(this.el).filter(n=>n.name===e);i.length===0?N(`no live file inputs found matching the name "${e}"`):i.length>1?N(`duplicate live file inputs found matching the name "${e}"`):v.dispatchEvent(i[0],yt,{detail:{files:t}})}pushFormRecovery(e,t,i){this.liveSocket.withinOwners(e,(n,s)=>{let r=e.elements[0],a=e.getAttribute(this.binding(Lt))||e.getAttribute(this.binding("change"));ee.exec("change",a,n,r,["push",{_target:r.name,newCid:t,callback:i}])})}pushLinkPatch(e,t,i){let n=this.liveSocket.setPendingLink(e),s=t?()=>this.putRef([t],"click"):null,r=()=>this.liveSocket.redirect(window.location.href),a=this.pushWithReply(s,"live_patch",{url:e},o=>{this.liveSocket.requestDOMUpdate(()=>{o.link_redirect?this.liveSocket.replaceMain(e,null,i,n):(this.liveSocket.commitPendingLink(n)&&(this.href=e),this.applyPendingUpdates(),i&&i(n))})});a?a.receive("timeout",r):r()}formsForRecovery(e){if(this.joinCount===0)return[];let t=this.binding("change"),i=document.createElement("template");return i.innerHTML=e,v.all(this.el,`form[${t}]`).filter(n=>n.id&&this.ownsElement(n)).filter(n=>n.elements.length>0).filter(n=>n.getAttribute(this.binding(Lt))!=="ignore").map(n=>{let s=i.content.querySelector(`form[id="${n.id}"][${t}="${n.getAttribute(t)}"]`);return s?[n,s,this.targetComponentID(s)]:[n,null,null]}).filter(([n,s,r])=>s)}maybePushComponentsDestroyed(e){let t=e.filter(i=>v.findComponentNodeList(this.el,i).length===0);t.length>0&&(this.pruningCIDs.push(...t),this.pushWithReply(null,"cids_will_destroy",{cids:t},()=>{this.pruningCIDs=this.pruningCIDs.filter(n=>t.indexOf(n)!==-1);let i=t.filter(n=>v.findComponentNodeList(this.el,n).length===0);i.length>0&&this.pushWithReply(null,"cids_destroyed",{cids:i},n=>{this.rendered.pruneCIDs(n.cids)})}))}ownsElement(e){return e.getAttribute(ue)===this.id||ne(e.closest(fe),t=>t.id)===this.id}submitForm(e,t,i,n={}){v.putPrivate(e,xt,!0);let s=this.liveSocket.binding(it),r=Array.from(e.elements);this.liveSocket.blurActiveElement(this),this.pushFormSubmit(e,t,i,n,()=>{r.forEach(a=>v.showError(a,s)),this.liveSocket.restorePreviouslyActiveFocus()})}binding(e){return this.liveSocket.binding(e)}},Vt=class{constructor(e,t,i={}){if(this.unloaded=!1,!t||t.constructor.name==="Object")throw new Error(`
      a phoenix Socket must be provided as the second argument to the LiveSocket constructor. For example:

          import {Socket} from "phoenix"
          import {LiveSocket} from "phoenix_live_view"
          let liveSocket = new LiveSocket("/live", Socket, {...})
      `);this.socket=new t(e,i),this.bindingPrefix=i.bindingPrefix||Ti,this.opts=i,this.params=lt(i.params||{}),this.viewLogger=i.viewLogger,this.metadataCallbacks=i.metadata||{},this.defaults=Object.assign(Ne(Pi),i.defaults||{}),this.activeElement=null,this.prevActive=null,this.silenced=!1,this.main=null,this.outgoingMainEl=null,this.clickStartedAtTarget=null,this.linkRef=1,this.roots={},this.href=window.location.href,this.pendingLink=null,this.currentLocation=Ne(window.location),this.hooks=i.hooks||{},this.uploaders=i.uploaders||{},this.loaderTimeout=i.loaderTimeout||Ci,this.reloadWithJitterTimer=null,this.maxReloads=i.maxReloads||ui,this.reloadJitterMin=i.reloadJitterMin||fi,this.reloadJitterMax=i.reloadJitterMax||pi,this.failsafeJitter=i.failsafeJitter||gi,this.localStorage=i.localStorage||window.localStorage,this.sessionStorage=i.sessionStorage||window.sessionStorage,this.boundTopLevelEvents=!1,this.domCallbacks=Object.assign({onNodeAdded:lt(),onBeforeElUpdated:lt()},i.dom||{}),this.transitions=new nn,window.addEventListener("pagehide",n=>{this.unloaded=!0}),this.socket.onOpen(()=>{this.isUnloaded()&&window.location.reload()})}isProfileEnabled(){return this.sessionStorage.getItem(at)==="true"}isDebugEnabled(){return this.sessionStorage.getItem(Fe)==="true"}isDebugDisabled(){return this.sessionStorage.getItem(Fe)==="false"}enableDebug(){this.sessionStorage.setItem(Fe,"true")}enableProfiling(){this.sessionStorage.setItem(at,"true")}disableDebug(){this.sessionStorage.setItem(Fe,"false")}disableProfiling(){this.sessionStorage.removeItem(at)}enableLatencySim(e){this.enableDebug(),console.log("latency simulator enabled for the duration of this browser session. Call disableLatencySim() to disable"),this.sessionStorage.setItem(ot,e)}disableLatencySim(){this.sessionStorage.removeItem(ot)}getLatencySim(){let e=this.sessionStorage.getItem(ot);return e?parseInt(e):null}getSocket(){return this.socket}connect(){window.location.hostname==="localhost"&&!this.isDebugDisabled()&&this.enableDebug();let e=()=>{this.joinRootViews()?(this.bindTopLevelEvents(),this.socket.connect()):this.main&&this.socket.connect()};["complete","loaded","interactive"].indexOf(document.readyState)>=0?e():document.addEventListener("DOMContentLoaded",()=>e())}disconnect(e){clearTimeout(this.reloadWithJitterTimer),this.socket.disconnect(e)}replaceTransport(e){clearTimeout(this.reloadWithJitterTimer),this.socket.replaceTransport(e),this.connect()}execJS(e,t,i=null){this.owner(e,n=>ee.exec(i,t,n,e))}triggerDOM(e,t){this.domCallbacks[e](...t)}time(e,t){if(!this.isProfileEnabled()||!console.time)return t();console.time(e);let i=t();return console.timeEnd(e),i}log(e,t,i){if(this.viewLogger){let[n,s]=i();this.viewLogger(e,t,n,s)}else if(this.isDebugEnabled()){let[n,s]=i();Di(e,t,n,s)}}requestDOMUpdate(e){this.transitions.after(e)}transition(e,t,i=function(){}){this.transitions.addTransition(e,t,i)}onChannel(e,t,i){e.on(t,n=>{let s=this.getLatencySim();s?(console.log(`simulating ${s}ms of latency from server to client`),setTimeout(()=>i(n),s)):i(n)})}wrapPush(e,t,i){let n=this.getLatencySim(),s=e.joinCount;if(!n)return this.isConnected()&&t.timeout?i().receive("timeout",()=>{e.joinCount===s&&!e.isDestroyed()&&this.reloadWithJitter(e,()=>{this.log(e,"timeout",()=>["received timeout while communicating with server. Falling back to hard refresh for recovery"])})}):i();console.log(`simulating ${n}ms of latency from client to server`);let r={receives:[],receive(a,o){this.receives.push([a,o])}};return setTimeout(()=>{e.isDestroyed()||r.receives.reduce((a,[o,l])=>a.receive(o,l),i())},n),r}reloadWithJitter(e,t){clearTimeout(this.reloadWithJitterTimer),this.disconnect();let i=this.reloadJitterMin,n=this.reloadJitterMax,s=Math.floor(Math.random()*(n-i+1))+i,r=ae.updateLocal(this.localStorage,window.location.pathname,vt,0,a=>a+1);r>this.maxReloads&&(s=this.failsafeJitter),this.reloadWithJitterTimer=setTimeout(()=>{e.isDestroyed()||e.isConnected()||(e.destroy(),t?t():this.log(e,"join",()=>[`encountered ${r} consecutive reloads`]),r>this.maxReloads&&this.log(e,"join",()=>[`exceeded ${this.maxReloads} consecutive reloads. Entering failsafe mode`]),this.hasPendingLink()?window.location=this.pendingLink:window.location.reload())},s)}getHookCallbacks(e){return e&&e.startsWith("Phoenix.")?$i[e.split(".")[1]]:this.hooks[e]}isUnloaded(){return this.unloaded}isConnected(){return this.socket.isConnected()}getBindingPrefix(){return this.bindingPrefix}binding(e){return`${this.getBindingPrefix()}${e}`}channel(e,t){return this.socket.channel(e,t)}joinRootViews(){let e=!1;return v.all(document,`${fe}:not([${ue}])`,t=>{if(!this.getRootById(t.id)){let i=this.newRootView(t);i.setHref(this.getHref()),i.join(),t.hasAttribute(tt)&&(this.main=i)}e=!0}),e}redirect(e,t){this.disconnect(),ae.redirect(e,t)}replaceMain(e,t,i=null,n=this.setPendingLink(e)){this.outgoingMainEl=this.outgoingMainEl||this.main.el;let s=v.cloneNode(this.outgoingMainEl,"");this.main.showLoader(this.loaderTimeout),this.main.destroy(),this.main=this.newRootView(s,t),this.main.setRedirect(e),this.transitionRemoves(),this.main.join((r,a)=>{r===1&&this.commitPendingLink(n)&&this.requestDOMUpdate(()=>{v.findPhxSticky(document).forEach(o=>s.appendChild(o)),this.outgoingMainEl.replaceWith(s),this.outgoingMainEl=null,i&&requestAnimationFrame(i),a()})})}transitionRemoves(e){let t=this.binding("remove");e=e||v.all(document,`[${t}]`),e.forEach(i=>{document.body.contains(i)&&this.execJS(i,i.getAttribute(t),"remove")})}isPhxView(e){return e.getAttribute&&e.getAttribute(se)!==null}newRootView(e,t){let i=new zt(e,this,null,t);return this.roots[i.id]=i,i}owner(e,t){let i=ne(e.closest(fe),n=>this.getViewByEl(n))||this.main;i&&t(i)}withinOwners(e,t){this.owner(e,i=>t(i,e))}getViewByEl(e){let t=e.getAttribute(ye);return ne(this.getRootById(t),i=>i.getDescendentByEl(e))}getRootById(e){return this.roots[e]}destroyAllViews(){for(let e in this.roots)this.roots[e].destroy(),delete this.roots[e];this.main=null}destroyViewByEl(e){let t=this.getRootById(e.getAttribute(ye));t&&t.id===e.id?(t.destroy(),delete this.roots[t.id]):t&&t.destroyDescendent(e.id)}setActiveElement(e){if(this.activeElement===e)return;this.activeElement=e;let t=()=>{e===this.activeElement&&(this.activeElement=null),e.removeEventListener("mouseup",this),e.removeEventListener("touchend",this)};e.addEventListener("mouseup",t),e.addEventListener("touchend",t)}getActiveElement(){return document.activeElement===document.body?this.activeElement||document.activeElement:document.activeElement||document.body}dropActiveElement(e){this.prevActive&&e.ownsElement(this.prevActive)&&(this.prevActive=null)}restorePreviouslyActiveFocus(){this.prevActive&&this.prevActive!==document.body&&this.prevActive.focus()}blurActiveElement(){this.prevActive=this.getActiveElement(),this.prevActive!==document.body&&this.prevActive.blur()}bindTopLevelEvents(){this.boundTopLevelEvents||(this.boundTopLevelEvents=!0,this.socket.onClose(e=>{e&&e.code===1e3&&this.main&&this.reloadWithJitter(this.main)}),document.body.addEventListener("click",function(){}),window.addEventListener("pageshow",e=>{e.persisted&&(this.getSocket().disconnect(),this.withPageLoading({to:window.location.href,kind:"redirect"}),window.location.reload())},!0),this.bindNav(),this.bindClicks(),this.bindForms(),this.bind({keyup:"keyup",keydown:"keydown"},(e,t,i,n,s,r)=>{let a=n.getAttribute(this.binding(Ai)),o=e.key&&e.key.toLowerCase();if(a&&a.toLowerCase()!==o)return;let l=ge({key:e.key},this.eventMeta(t,e,n));ee.exec(t,s,i,n,["push",{data:l}])}),this.bind({blur:"focusout",focus:"focusin"},(e,t,i,n,s,r)=>{if(!r){let a=ge({key:e.key},this.eventMeta(t,e,n));ee.exec(t,s,i,n,["push",{data:a}])}}),this.bind({blur:"blur",focus:"focus"},(e,t,i,n,s,r,a)=>{if(a==="window"){let o=this.eventMeta(t,e,n);ee.exec(t,r,i,n,["push",{data:o}])}}),window.addEventListener("dragover",e=>e.preventDefault()),window.addEventListener("drop",e=>{e.preventDefault();let t=ne(Ae(e.target,this.binding(wt)),s=>s.getAttribute(this.binding(wt))),i=t&&document.getElementById(t),n=Array.from(e.dataTransfer.files||[]);!i||i.disabled||n.length===0||!(i.files instanceof FileList)||($.trackFiles(i,n),i.dispatchEvent(new Event("input",{bubbles:!0})))}),this.on(yt,e=>{let t=e.target;if(!v.isUploadInput(t))return;let i=Array.from(e.detail.files||[]).filter(n=>n instanceof File||n instanceof Blob);$.trackFiles(t,i),t.dispatchEvent(new Event("input",{bubbles:!0}))}))}eventMeta(e,t,i){let n=this.metadataCallbacks[e];return n?n(t,i):{}}setPendingLink(e){return this.linkRef++,this.pendingLink=e,this.linkRef}commitPendingLink(e){return this.linkRef!==e?!1:(this.href=this.pendingLink,this.pendingLink=null,!0)}getHref(){return this.href}hasPendingLink(){return!!this.pendingLink}bind(e,t){for(let i in e){let n=e[i];this.on(n,s=>{let r=this.binding(i),a=this.binding(`window-${i}`),o=s.target.getAttribute&&s.target.getAttribute(r);o?this.debounce(s.target,s,n,()=>{this.withinOwners(s.target,l=>{t(s,i,l,s.target,o,null)})}):v.all(document,`[${a}]`,l=>{let c=l.getAttribute(a);this.debounce(l,s,n,()=>{this.withinOwners(l,p=>{t(s,i,p,l,c,"window")})})})})}}bindClicks(){window.addEventListener("mousedown",e=>this.clickStartedAtTarget=e.target),this.bindClick("click","click",!1),this.bindClick("mousedown","capture-click",!0)}bindClick(e,t,i){let n=this.binding(t);window.addEventListener(e,s=>{let r=null;if(i)r=s.target.matches(`[${n}]`)?s.target:s.target.querySelector(`[${n}]`);else{let o=this.clickStartedAtTarget||s.target;r=Ae(o,n),this.dispatchClickAway(s,o),this.clickStartedAtTarget=null}let a=r&&r.getAttribute(n);!a||(r.getAttribute("href")==="#"&&s.preventDefault(),this.debounce(r,s,"click",()=>{this.withinOwners(r,o=>{ee.exec("click",a,o,r,["push",{data:this.eventMeta("click",s,r)}])})}))},i)}dispatchClickAway(e,t){let i=this.binding("click-away");v.all(document,`[${i}]`,n=>{n.isSameNode(t)||n.contains(t)||this.withinOwners(e.target,s=>{let r=n.getAttribute(i);ee.isVisible(n)&&ee.exec("click",r,s,n,["push",{data:this.eventMeta("click",e,e.target)}])})})}bindNav(){if(!ae.canPushState())return;history.scrollRestoration&&(history.scrollRestoration="manual");let e=null;window.addEventListener("scroll",t=>{clearTimeout(e),e=setTimeout(()=>{ae.updateCurrentState(i=>Object.assign(i,{scroll:window.scrollY}))},100)}),window.addEventListener("popstate",t=>{if(!this.registerNewLocation(window.location))return;let{type:i,id:n,root:s,scroll:r}=t.state||{},a=window.location.href;this.requestDOMUpdate(()=>{this.main.isConnected()&&i==="patch"&&n===this.main.id?this.main.pushLinkPatch(a,null):this.replaceMain(a,null,()=>{s&&this.replaceRootHistory(),typeof r=="number"&&setTimeout(()=>{window.scrollTo(0,r)},0)})})},!1),window.addEventListener("click",t=>{let i=Ae(t.target,Ke),n=i&&i.getAttribute(Ke),s=t.metaKey||t.ctrlKey||t.button===1;if(!n||!this.isConnected()||!this.main||s)return;let r=i.href,a=i.getAttribute(vi);t.preventDefault(),t.stopImmediatePropagation(),this.pendingLink!==r&&this.requestDOMUpdate(()=>{if(n==="patch")this.pushHistoryPatch(r,a,i);else if(n==="redirect")this.historyRedirect(r,a);else throw new Error(`expected ${Ke} to be "patch" or "redirect", got: ${n}`)})},!1)}dispatchEvent(e,t={}){v.dispatchEvent(window,`phx:${e}`,{detail:t})}dispatchEvents(e){e.forEach(([t,i])=>this.dispatchEvent(t,i))}withPageLoading(e,t){v.dispatchEvent(window,"phx:page-loading-start",{detail:e});let i=()=>v.dispatchEvent(window,"phx:page-loading-stop",{detail:e});return t?t(i):i}pushHistoryPatch(e,t,i){this.withPageLoading({to:e,kind:"patch"},n=>{this.main.pushLinkPatch(e,i,s=>{this.historyPatch(e,t,s),n()})})}historyPatch(e,t,i=this.setPendingLink(e)){!this.commitPendingLink(i)||(ae.pushState(t,{type:"patch",id:this.main.id},e),this.registerNewLocation(window.location))}historyRedirect(e,t,i){let n=window.scrollY;this.withPageLoading({to:e,kind:"redirect"},s=>{this.replaceMain(e,i,()=>{ae.pushState(t,{type:"redirect",id:this.main.id,scroll:n},e),this.registerNewLocation(window.location),s()})})}replaceRootHistory(){ae.pushState("replace",{root:!0,type:"patch",id:this.main.id})}registerNewLocation(e){let{pathname:t,search:i}=this.currentLocation;return t+i===e.pathname+e.search?!1:(this.currentLocation=Ne(e),!0)}bindForms(){let e=0;this.on("submit",t=>{let i=t.target.getAttribute(this.binding("submit"));!i||(t.preventDefault(),t.target.disabled=!0,this.withinOwners(t.target,n=>{ee.exec("submit",i,n,t.target,["push",{}])}))},!1);for(let t of["change","input"])this.on(t,i=>{let n=this.binding("change"),s=i.target,r=s.getAttribute(n),a=s.form&&s.form.getAttribute(n),o=r||a;if(!o||s.type==="number"&&s.validity&&s.validity.badInput)return;let l=r?s:s.form,c=e;e++;let{at:p,type:m}=v.private(s,"prev-iteration")||{};p===c-1&&t!==m||(v.putPrivate(s,"prev-iteration",{at:c,type:t}),this.debounce(s,i,t,()=>{this.withinOwners(l,g=>{v.putPrivate(s,_t,!0),v.isTextualInput(s)||this.setActiveElement(s),ee.exec("change",o,g,s,["push",{_target:i.target.name,dispatcher:l}])})}))},!1)}debounce(e,t,i,n){if(i==="blur"||i==="focusout")return n();let s=this.binding(ki),r=this.binding(Si),a=this.defaults.debounce.toString(),o=this.defaults.throttle.toString();this.withinOwners(e,l=>{let c=()=>!l.isDestroyed()&&document.body.contains(e);v.debounce(e,t,s,a,r,o,c,()=>{n()})})}silenceEvents(e){this.silenced=!0,e(),this.silenced=!1}on(e,t){window.addEventListener(e,i=>{this.silenced||t(i)})}},nn=class{constructor(){this.transitions=new Set,this.pendingOps=[],this.reset()}reset(){this.transitions.forEach(e=>{cancelTimeout(e),this.transitions.delete(e)}),this.flushPendingOps()}after(e){this.size()===0?e():this.pushPendingOp(e)}addTransition(e,t,i){t();let n=setTimeout(()=>{this.transitions.delete(n),i(),this.size()===0&&this.flushPendingOps()},e);this.transitions.add(n)}pushPendingOp(e){this.pendingOps.push(e)}size(){return this.transitions.size}flushPendingOps(){this.pendingOps.forEach(e=>e()),this.pendingOps=[]}};var Je=ri(Wt());window.toggleNode=e=>{e.parentNode.querySelector(".menu-list").classList.toggle("is-hidden");let t=e.querySelector("span.icon > i");t.classList.toggle("fa-folder-open"),t.classList.toggle("fa-folder")};var pe={};pe.EventLog={updated(){let e=this.el.parentNode;e.scrollTop=e.scrollHeight}};window.handleEnableLatencySimClick=function(e){let t=document.getElementById("playground-iframe").contentWindow.liveSocket,i=document.getElementById("debug_profile_latency_sim_value");if(e.checked){i.disabled=!1;let n=i.value||100;i.value=n,t.enableLatencySim(n)}else t.disableLatencySim(),i.disabled=!0;Xt()};window.handleEnableDebugClick=function(e){let t=document.getElementById("playground-iframe").contentWindow.liveSocket;e.checked?t.enableDebug():t.disableDebug()};window.handleEnableProfileClick=function(e){let t=document.getElementById("playground-iframe").contentWindow.liveSocket;e.checked?t.enableProfiling():t.disableProfiling()};window.handleLatencySimValueBlur=function(e){let t=document.getElementById("playground-iframe").contentWindow.liveSocket,i=t.getLatencySim();if(e.value!=i){let n=e.value||1e3;e.value=n,t.enableLatencySim(n)}};function rn(e){let t=document.getElementById("playground-tools-debug-profile"),i=document.getElementById("playground-tools-debug-profile-disabled");if(!e){t.hidden=!0,i.hidden=!1;return}t.hidden=!1,i.hidden=!0;let n=document.getElementById("debug_profile_enable_debug");n.checked=e.isDebugEnabled();let s=document.getElementById("debug_profile_enable_profile");s.checked=e.isProfileEnabled();let r=document.getElementById("debug_profile_enable_latency_sim"),a=document.getElementById("debug_profile_latency_sim_value"),o=e.getLatencySim();o&&(r.checked=!0,a.value=o),Xt()}function Xt(){let e=document.getElementById("playground-iframe").contentWindow.liveSocket,t=document.getElementById("playground-tab-label");e.getLatencySim()?t.innerHTML='Playground <span class="is-size-6" title="Latency simulator is enabled">\u26A0\uFE0F</span>':t.innerText="Playground"}function qt(e){if(!e){console.log("[Catalogue] window.liveSocket has not been set. Debug/Profile tab will be disabled.");return}if(e.patched)return;let t=e.currentLocation.pathname,i=`phx:live-socket:debug:${t}`,n=`phx:live-socket:profiling:${t}`,s=`phx:live-socket:latency-sim:${t}`;e.enableLatencySim=function(r){console.log(`latency simulator enabled as ${r}ms for the duration of this browser session.`),sessionStorage.setItem(s,r)},e.disableLatencySim=function(){sessionStorage.removeItem(s)},e.getLatencySim=function(){let r=sessionStorage.getItem(s);return r?parseInt(r):null},e.isDebugEnabled=function(){return sessionStorage.getItem(i)==="true"},e.enableDebug=function(){sessionStorage.setItem(i,"true")},e.disableDebug=function(){sessionStorage.removeItem(i)},e.isProfileEnabled=function(){return sessionStorage.getItem(n)==="true"},e.enableProfiling=function(){sessionStorage.setItem(n,"true")},e.disableProfiling=function(){sessionStorage.removeItem(n)},e.patched=!0}var an=(e,t,i,n)=>{window.liveSocket.isDebugEnabled()?console.log(`${e.id} ${t}: ${i} - `,n):e.id=="playground"&&(qt(e.liveSocket),e.liveSocket.isDebugEnabled()&&console.log(`${e.id} ${t}: ${i} - `,n))};pe.IframeBody={mounted(){let e=this.el;e.addEventListener("load",i=>{if(e.id=="playground-iframe"){let n=e.contentWindow.liveSocket;qt(n),rn(n)}});let t;e.contentWindow.addEventListener("resize",i=>{if(e.id=="playground-iframe"){e.offsetWidth>e.parentElement.offsetWidth&&(e.style.width="100%");let n=this;clearTimeout(t),t=setTimeout(function(){n.pushEvent("playground_resize",{height:e.style.height,width:e.style.width})},300)}})}};pe.Highlight={mounted(){Je.default.highlightElement(this.el),Je.default.highlightElement(this.el)},updated(){Je.default.highlightElement(this.el)}};pe.Mermaid={mounted(){mermaid.init(void 0,`#${this.el.id}`)}};pe.SectionHeading={mounted(){let e=document.createElement("div");e.innerHTML=`<a href="#${this.el.id}" class="hover-link">
      <span class="icon-link" aria-hidden="true">
        <svg viewBox="0 0 16 16" version="1.1" width="20" height="20" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg>
      </span>
    </a>`,this.el.insertBefore(e.firstChild,this.el.firstChild)}};var on=document.querySelector("meta[name='csrf-token']").getAttribute("content"),Kt=new Vt("/live",mt,{params:{_csrf_token:on},hooks:pe,viewLogger:an});Kt.connect();window.liveSocket=Kt;})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vLi4vZGVwcy9zdXJmYWNlX2NhdGFsb2d1ZS9hc3NldHMvdmVuZG9yL3ByaXNtLmpzIiwgIi4uLy4uLy4uLy4uL2RlcHMvcGhvZW5peF9odG1sL3ByaXYvc3RhdGljL3Bob2VuaXhfaHRtbC5qcyIsICIuLi8uLi8uLi8uLi9kZXBzL3Bob2VuaXgvYXNzZXRzL2pzL3Bob2VuaXgvdXRpbHMuanMiLCAiLi4vLi4vLi4vLi4vZGVwcy9waG9lbml4L2Fzc2V0cy9qcy9waG9lbml4L2NvbnN0YW50cy5qcyIsICIuLi8uLi8uLi8uLi9kZXBzL3Bob2VuaXgvYXNzZXRzL2pzL3Bob2VuaXgvcHVzaC5qcyIsICIuLi8uLi8uLi8uLi9kZXBzL3Bob2VuaXgvYXNzZXRzL2pzL3Bob2VuaXgvdGltZXIuanMiLCAiLi4vLi4vLi4vLi4vZGVwcy9waG9lbml4L2Fzc2V0cy9qcy9waG9lbml4L2NoYW5uZWwuanMiLCAiLi4vLi4vLi4vLi4vZGVwcy9waG9lbml4L2Fzc2V0cy9qcy9waG9lbml4L2FqYXguanMiLCAiLi4vLi4vLi4vLi4vZGVwcy9waG9lbml4L2Fzc2V0cy9qcy9waG9lbml4L2xvbmdwb2xsLmpzIiwgIi4uLy4uLy4uLy4uL2RlcHMvcGhvZW5peC9hc3NldHMvanMvcGhvZW5peC9wcmVzZW5jZS5qcyIsICIuLi8uLi8uLi8uLi9kZXBzL3Bob2VuaXgvYXNzZXRzL2pzL3Bob2VuaXgvc2VyaWFsaXplci5qcyIsICIuLi8uLi8uLi8uLi9kZXBzL3Bob2VuaXgvYXNzZXRzL2pzL3Bob2VuaXgvc29ja2V0LmpzIiwgIi4uLy4uLy4uLy4uL2RlcHMvcGhvZW5peF9saXZlX3ZpZXcvYXNzZXRzL2pzL3Bob2VuaXhfbGl2ZV92aWV3L2NvbnN0YW50cy5qcyIsICIuLi8uLi8uLi8uLi9kZXBzL3Bob2VuaXhfbGl2ZV92aWV3L2Fzc2V0cy9qcy9waG9lbml4X2xpdmVfdmlldy9lbnRyeV91cGxvYWRlci5qcyIsICIuLi8uLi8uLi8uLi9kZXBzL3Bob2VuaXhfbGl2ZV92aWV3L2Fzc2V0cy9qcy9waG9lbml4X2xpdmVfdmlldy91dGlscy5qcyIsICIuLi8uLi8uLi8uLi9kZXBzL3Bob2VuaXhfbGl2ZV92aWV3L2Fzc2V0cy9qcy9waG9lbml4X2xpdmVfdmlldy9icm93c2VyLmpzIiwgIi4uLy4uLy4uLy4uL2RlcHMvcGhvZW5peF9saXZlX3ZpZXcvYXNzZXRzL2pzL3Bob2VuaXhfbGl2ZV92aWV3L2RvbS5qcyIsICIuLi8uLi8uLi8uLi9kZXBzL3Bob2VuaXhfbGl2ZV92aWV3L2Fzc2V0cy9qcy9waG9lbml4X2xpdmVfdmlldy91cGxvYWRfZW50cnkuanMiLCAiLi4vLi4vLi4vLi4vZGVwcy9waG9lbml4X2xpdmVfdmlldy9hc3NldHMvanMvcGhvZW5peF9saXZlX3ZpZXcvbGl2ZV91cGxvYWRlci5qcyIsICIuLi8uLi8uLi8uLi9kZXBzL3Bob2VuaXhfbGl2ZV92aWV3L2Fzc2V0cy9qcy9waG9lbml4X2xpdmVfdmlldy9ob29rcy5qcyIsICIuLi8uLi8uLi8uLi9kZXBzL3Bob2VuaXhfbGl2ZV92aWV3L2Fzc2V0cy9qcy9waG9lbml4X2xpdmVfdmlldy9kb21fcG9zdF9tb3JwaF9yZXN0b3Jlci5qcyIsICIuLi8uLi8uLi8uLi9kZXBzL3Bob2VuaXhfbGl2ZV92aWV3L2Fzc2V0cy9ub2RlX21vZHVsZXMvbW9ycGhkb20vZGlzdC9tb3JwaGRvbS1lc20uanMiLCAiLi4vLi4vLi4vLi4vZGVwcy9waG9lbml4X2xpdmVfdmlldy9hc3NldHMvanMvcGhvZW5peF9saXZlX3ZpZXcvZG9tX3BhdGNoLmpzIiwgIi4uLy4uLy4uLy4uL2RlcHMvcGhvZW5peF9saXZlX3ZpZXcvYXNzZXRzL2pzL3Bob2VuaXhfbGl2ZV92aWV3L3JlbmRlcmVkLmpzIiwgIi4uLy4uLy4uLy4uL2RlcHMvcGhvZW5peF9saXZlX3ZpZXcvYXNzZXRzL2pzL3Bob2VuaXhfbGl2ZV92aWV3L3ZpZXdfaG9vay5qcyIsICIuLi8uLi8uLi8uLi9kZXBzL3Bob2VuaXhfbGl2ZV92aWV3L2Fzc2V0cy9qcy9waG9lbml4X2xpdmVfdmlldy9qcy5qcyIsICIuLi8uLi8uLi8uLi9kZXBzL3Bob2VuaXhfbGl2ZV92aWV3L2Fzc2V0cy9qcy9waG9lbml4X2xpdmVfdmlldy92aWV3LmpzIiwgIi4uLy4uLy4uLy4uL2RlcHMvcGhvZW5peF9saXZlX3ZpZXcvYXNzZXRzL2pzL3Bob2VuaXhfbGl2ZV92aWV3L2xpdmVfc29ja2V0LmpzIiwgIi4uLy4uLy4uLy4uL2RlcHMvc3VyZmFjZV9jYXRhbG9ndWUvYXNzZXRzL2pzL2FwcC5qcyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiLyogUHJpc21KUyAxLjIzLjBcbmh0dHA6Ly8xMjcuMC4wLjE6ODA4MC9kb3dubG9hZC5odG1sI3RoZW1lcz1wcmlzbSZsYW5ndWFnZXM9bWFya3VwK2NzcytjbGlrZStqYXZhc2NyaXB0K3N1cmZhY2UrZWxpeGlyJnBsdWdpbnM9bGluZS1oaWdobGlnaHQrbGluZS1udW1iZXJzICovXG52YXIgX3NlbGY9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlJiZzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGU/c2VsZjp7fSxQcmlzbT1mdW5jdGlvbih1KXt2YXIgYz0vXFxibGFuZyg/OnVhZ2UpPy0oW1xcdy1dKylcXGIvaSxuPTAsZT17fSxNPXttYW51YWw6dS5QcmlzbSYmdS5QcmlzbS5tYW51YWwsZGlzYWJsZVdvcmtlck1lc3NhZ2VIYW5kbGVyOnUuUHJpc20mJnUuUHJpc20uZGlzYWJsZVdvcmtlck1lc3NhZ2VIYW5kbGVyLHV0aWw6e2VuY29kZTpmdW5jdGlvbiBlKG4pe3JldHVybiBuIGluc3RhbmNlb2YgVz9uZXcgVyhuLnR5cGUsZShuLmNvbnRlbnQpLG4uYWxpYXMpOkFycmF5LmlzQXJyYXkobik/bi5tYXAoZSk6bi5yZXBsYWNlKC8mL2csXCImYW1wO1wiKS5yZXBsYWNlKC88L2csXCImbHQ7XCIpLnJlcGxhY2UoL1xcdTAwYTAvZyxcIiBcIil9LHR5cGU6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKX0sb2JqSWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX19pZHx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2lkXCIse3ZhbHVlOisrbn0pLGUuX19pZH0sY2xvbmU6ZnVuY3Rpb24gdChlLHIpe3ZhciBhLG47c3dpdGNoKHI9cnx8e30sTS51dGlsLnR5cGUoZSkpe2Nhc2VcIk9iamVjdFwiOmlmKG49TS51dGlsLm9iaklkKGUpLHJbbl0pcmV0dXJuIHJbbl07Zm9yKHZhciBpIGluIGE9e30scltuXT1hLGUpZS5oYXNPd25Qcm9wZXJ0eShpKSYmKGFbaV09dChlW2ldLHIpKTtyZXR1cm4gYTtjYXNlXCJBcnJheVwiOnJldHVybiBuPU0udXRpbC5vYmpJZChlKSxyW25dP3Jbbl06KGE9W10scltuXT1hLGUuZm9yRWFjaChmdW5jdGlvbihlLG4pe2Fbbl09dChlLHIpfSksYSk7ZGVmYXVsdDpyZXR1cm4gZX19LGdldExhbmd1YWdlOmZ1bmN0aW9uKGUpe2Zvcig7ZSYmIWMudGVzdChlLmNsYXNzTmFtZSk7KWU9ZS5wYXJlbnRFbGVtZW50O3JldHVybiBlPyhlLmNsYXNzTmFtZS5tYXRjaChjKXx8WyxcIm5vbmVcIl0pWzFdLnRvTG93ZXJDYXNlKCk6XCJub25lXCJ9LGN1cnJlbnRTY3JpcHQ6ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgZG9jdW1lbnQpcmV0dXJuIG51bGw7aWYoXCJjdXJyZW50U2NyaXB0XCJpbiBkb2N1bWVudClyZXR1cm4gZG9jdW1lbnQuY3VycmVudFNjcmlwdDt0cnl7dGhyb3cgbmV3IEVycm9yfWNhdGNoKGUpe3ZhciBuPSgvYXQgW14oXFxyXFxuXSpcXCgoLiopOi4rOi4rXFwpJC9pLmV4ZWMoZS5zdGFjayl8fFtdKVsxXTtpZihuKXt2YXIgdD1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtmb3IodmFyIHIgaW4gdClpZih0W3JdLnNyYz09bilyZXR1cm4gdFtyXX1yZXR1cm4gbnVsbH19LGlzQWN0aXZlOmZ1bmN0aW9uKGUsbix0KXtmb3IodmFyIHI9XCJuby1cIituO2U7KXt2YXIgYT1lLmNsYXNzTGlzdDtpZihhLmNvbnRhaW5zKG4pKXJldHVybiEwO2lmKGEuY29udGFpbnMocikpcmV0dXJuITE7ZT1lLnBhcmVudEVsZW1lbnR9cmV0dXJuISF0fX0sbGFuZ3VhZ2VzOntwbGFpbjplLHBsYWludGV4dDplLHRleHQ6ZSx0eHQ6ZSxleHRlbmQ6ZnVuY3Rpb24oZSxuKXt2YXIgdD1NLnV0aWwuY2xvbmUoTS5sYW5ndWFnZXNbZV0pO2Zvcih2YXIgciBpbiBuKXRbcl09bltyXTtyZXR1cm4gdH0saW5zZXJ0QmVmb3JlOmZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBhPShyPXJ8fE0ubGFuZ3VhZ2VzKVt0XSxpPXt9O2Zvcih2YXIgbCBpbiBhKWlmKGEuaGFzT3duUHJvcGVydHkobCkpe2lmKGw9PWUpZm9yKHZhciBvIGluIG4pbi5oYXNPd25Qcm9wZXJ0eShvKSYmKGlbb109bltvXSk7bi5oYXNPd25Qcm9wZXJ0eShsKXx8KGlbbF09YVtsXSl9dmFyIHM9clt0XTtyZXR1cm4gclt0XT1pLE0ubGFuZ3VhZ2VzLkRGUyhNLmxhbmd1YWdlcyxmdW5jdGlvbihlLG4pe249PT1zJiZlIT10JiYodGhpc1tlXT1pKX0pLGl9LERGUzpmdW5jdGlvbiBlKG4sdCxyLGEpe2E9YXx8e307dmFyIGk9TS51dGlsLm9iaklkO2Zvcih2YXIgbCBpbiBuKWlmKG4uaGFzT3duUHJvcGVydHkobCkpe3QuY2FsbChuLGwsbltsXSxyfHxsKTt2YXIgbz1uW2xdLHM9TS51dGlsLnR5cGUobyk7XCJPYmplY3RcIiE9PXN8fGFbaShvKV0/XCJBcnJheVwiIT09c3x8YVtpKG8pXXx8KGFbaShvKV09ITAsZShvLHQsbCxhKSk6KGFbaShvKV09ITAsZShvLHQsbnVsbCxhKSl9fX0scGx1Z2luczp7fSxoaWdobGlnaHRBbGw6ZnVuY3Rpb24oZSxuKXtNLmhpZ2hsaWdodEFsbFVuZGVyKGRvY3VtZW50LGUsbil9LGhpZ2hsaWdodEFsbFVuZGVyOmZ1bmN0aW9uKGUsbix0KXt2YXIgcj17Y2FsbGJhY2s6dCxjb250YWluZXI6ZSxzZWxlY3RvcjonY29kZVtjbGFzcyo9XCJsYW5ndWFnZS1cIl0sIFtjbGFzcyo9XCJsYW5ndWFnZS1cIl0gY29kZSwgY29kZVtjbGFzcyo9XCJsYW5nLVwiXSwgW2NsYXNzKj1cImxhbmctXCJdIGNvZGUnfTtNLmhvb2tzLnJ1bihcImJlZm9yZS1oaWdobGlnaHRhbGxcIixyKSxyLmVsZW1lbnRzPUFycmF5LnByb3RvdHlwZS5zbGljZS5hcHBseShyLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKHIuc2VsZWN0b3IpKSxNLmhvb2tzLnJ1bihcImJlZm9yZS1hbGwtZWxlbWVudHMtaGlnaGxpZ2h0XCIscik7Zm9yKHZhciBhLGk9MDthPXIuZWxlbWVudHNbaSsrXTspTS5oaWdobGlnaHRFbGVtZW50KGEsITA9PT1uLHIuY2FsbGJhY2spfSxoaWdobGlnaHRFbGVtZW50OmZ1bmN0aW9uKGUsbix0KXt2YXIgcj1NLnV0aWwuZ2V0TGFuZ3VhZ2UoZSksYT1NLmxhbmd1YWdlc1tyXTtlLmNsYXNzTmFtZT1lLmNsYXNzTmFtZS5yZXBsYWNlKGMsXCJcIikucmVwbGFjZSgvXFxzKy9nLFwiIFwiKStcIiBsYW5ndWFnZS1cIityO3ZhciBpPWUucGFyZW50RWxlbWVudDtpJiZcInByZVwiPT09aS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYoaS5jbGFzc05hbWU9aS5jbGFzc05hbWUucmVwbGFjZShjLFwiXCIpLnJlcGxhY2UoL1xccysvZyxcIiBcIikrXCIgbGFuZ3VhZ2UtXCIrcik7dmFyIGw9e2VsZW1lbnQ6ZSxsYW5ndWFnZTpyLGdyYW1tYXI6YSxjb2RlOmUudGV4dENvbnRlbnR9O2Z1bmN0aW9uIG8oZSl7bC5oaWdobGlnaHRlZENvZGU9ZSxNLmhvb2tzLnJ1bihcImJlZm9yZS1pbnNlcnRcIixsKSxsLmVsZW1lbnQuaW5uZXJIVE1MPWwuaGlnaGxpZ2h0ZWRDb2RlLE0uaG9va3MucnVuKFwiYWZ0ZXItaGlnaGxpZ2h0XCIsbCksTS5ob29rcy5ydW4oXCJjb21wbGV0ZVwiLGwpLHQmJnQuY2FsbChsLmVsZW1lbnQpfWlmKE0uaG9va3MucnVuKFwiYmVmb3JlLXNhbml0eS1jaGVja1wiLGwpLCFsLmNvZGUpcmV0dXJuIE0uaG9va3MucnVuKFwiY29tcGxldGVcIixsKSx2b2lkKHQmJnQuY2FsbChsLmVsZW1lbnQpKTtpZihNLmhvb2tzLnJ1bihcImJlZm9yZS1oaWdobGlnaHRcIixsKSxsLmdyYW1tYXIpaWYobiYmdS5Xb3JrZXIpe3ZhciBzPW5ldyBXb3JrZXIoTS5maWxlbmFtZSk7cy5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7byhlLmRhdGEpfSxzLnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHtsYW5ndWFnZTpsLmxhbmd1YWdlLGNvZGU6bC5jb2RlLGltbWVkaWF0ZUNsb3NlOiEwfSkpfWVsc2UgbyhNLmhpZ2hsaWdodChsLmNvZGUsbC5ncmFtbWFyLGwubGFuZ3VhZ2UpKTtlbHNlIG8oTS51dGlsLmVuY29kZShsLmNvZGUpKX0saGlnaGxpZ2h0OmZ1bmN0aW9uKGUsbix0KXt2YXIgcj17Y29kZTplLGdyYW1tYXI6bixsYW5ndWFnZTp0fTtyZXR1cm4gTS5ob29rcy5ydW4oXCJiZWZvcmUtdG9rZW5pemVcIixyKSxyLnRva2Vucz1NLnRva2VuaXplKHIuY29kZSxyLmdyYW1tYXIpLE0uaG9va3MucnVuKFwiYWZ0ZXItdG9rZW5pemVcIixyKSxXLnN0cmluZ2lmeShNLnV0aWwuZW5jb2RlKHIudG9rZW5zKSxyLmxhbmd1YWdlKX0sdG9rZW5pemU6ZnVuY3Rpb24oZSxuKXt2YXIgdD1uLnJlc3Q7aWYodCl7Zm9yKHZhciByIGluIHQpbltyXT10W3JdO2RlbGV0ZSBuLnJlc3R9dmFyIGE9bmV3IGk7cmV0dXJuIEkoYSxhLmhlYWQsZSksZnVuY3Rpb24gZShuLHQscixhLGksbCl7Zm9yKHZhciBvIGluIHIpaWYoci5oYXNPd25Qcm9wZXJ0eShvKSYmcltvXSl7dmFyIHM9cltvXTtzPUFycmF5LmlzQXJyYXkocyk/czpbc107Zm9yKHZhciB1PTA7dTxzLmxlbmd0aDsrK3Upe2lmKGwmJmwuY2F1c2U9PW8rXCIsXCIrdSlyZXR1cm47dmFyIGM9c1t1XSxnPWMuaW5zaWRlLGY9ISFjLmxvb2tiZWhpbmQsaD0hIWMuZ3JlZWR5LGQ9Yy5hbGlhcztpZihoJiYhYy5wYXR0ZXJuLmdsb2JhbCl7dmFyIHY9Yy5wYXR0ZXJuLnRvU3RyaW5nKCkubWF0Y2goL1tpbXN1eV0qJC8pWzBdO2MucGF0dGVybj1SZWdFeHAoYy5wYXR0ZXJuLnNvdXJjZSx2K1wiZ1wiKX1mb3IodmFyIHA9Yy5wYXR0ZXJufHxjLG09YS5uZXh0LHk9aTttIT09dC50YWlsJiYhKGwmJnk+PWwucmVhY2gpO3krPW0udmFsdWUubGVuZ3RoLG09bS5uZXh0KXt2YXIgaz1tLnZhbHVlO2lmKHQubGVuZ3RoPm4ubGVuZ3RoKXJldHVybjtpZighKGsgaW5zdGFuY2VvZiBXKSl7dmFyIGIseD0xO2lmKGgpe2lmKCEoYj16KHAseSxuLGYpKSlicmVhazt2YXIgdz1iLmluZGV4LEE9Yi5pbmRleCtiWzBdLmxlbmd0aCxQPXk7Zm9yKFArPW0udmFsdWUubGVuZ3RoO1A8PXc7KW09bS5uZXh0LFArPW0udmFsdWUubGVuZ3RoO2lmKFAtPW0udmFsdWUubGVuZ3RoLHk9UCxtLnZhbHVlIGluc3RhbmNlb2YgVyljb250aW51ZTtmb3IodmFyIFM9bTtTIT09dC50YWlsJiYoUDxBfHxcInN0cmluZ1wiPT10eXBlb2YgUy52YWx1ZSk7Uz1TLm5leHQpeCsrLFArPVMudmFsdWUubGVuZ3RoO3gtLSxrPW4uc2xpY2UoeSxQKSxiLmluZGV4LT15fWVsc2UgaWYoIShiPXoocCwwLGssZikpKWNvbnRpbnVlO3ZhciB3PWIuaW5kZXgsRT1iWzBdLE89ay5zbGljZSgwLHcpLEw9ay5zbGljZSh3K0UubGVuZ3RoKSxOPXkray5sZW5ndGg7bCYmTj5sLnJlYWNoJiYobC5yZWFjaD1OKTt2YXIgaj1tLnByZXY7TyYmKGo9SSh0LGosTykseSs9Ty5sZW5ndGgpLHEodCxqLHgpO3ZhciBDPW5ldyBXKG8sZz9NLnRva2VuaXplKEUsZyk6RSxkLEUpO2lmKG09SSh0LGosQyksTCYmSSh0LG0sTCksMTx4KXt2YXIgXz17Y2F1c2U6bytcIixcIit1LHJlYWNoOk59O2Uobix0LHIsbS5wcmV2LHksXyksbCYmXy5yZWFjaD5sLnJlYWNoJiYobC5yZWFjaD1fLnJlYWNoKX19fX19fShlLGEsbixhLmhlYWQsMCksZnVuY3Rpb24oZSl7dmFyIG49W10sdD1lLmhlYWQubmV4dDtmb3IoO3QhPT1lLnRhaWw7KW4ucHVzaCh0LnZhbHVlKSx0PXQubmV4dDtyZXR1cm4gbn0oYSl9LGhvb2tzOnthbGw6e30sYWRkOmZ1bmN0aW9uKGUsbil7dmFyIHQ9TS5ob29rcy5hbGw7dFtlXT10W2VdfHxbXSx0W2VdLnB1c2gobil9LHJ1bjpmdW5jdGlvbihlLG4pe3ZhciB0PU0uaG9va3MuYWxsW2VdO2lmKHQmJnQubGVuZ3RoKWZvcih2YXIgcixhPTA7cj10W2ErK107KXIobil9fSxUb2tlbjpXfTtmdW5jdGlvbiBXKGUsbix0LHIpe3RoaXMudHlwZT1lLHRoaXMuY29udGVudD1uLHRoaXMuYWxpYXM9dCx0aGlzLmxlbmd0aD0wfChyfHxcIlwiKS5sZW5ndGh9ZnVuY3Rpb24geihlLG4sdCxyKXtlLmxhc3RJbmRleD1uO3ZhciBhPWUuZXhlYyh0KTtpZihhJiZyJiZhWzFdKXt2YXIgaT1hWzFdLmxlbmd0aDthLmluZGV4Kz1pLGFbMF09YVswXS5zbGljZShpKX1yZXR1cm4gYX1mdW5jdGlvbiBpKCl7dmFyIGU9e3ZhbHVlOm51bGwscHJldjpudWxsLG5leHQ6bnVsbH0sbj17dmFsdWU6bnVsbCxwcmV2OmUsbmV4dDpudWxsfTtlLm5leHQ9bix0aGlzLmhlYWQ9ZSx0aGlzLnRhaWw9bix0aGlzLmxlbmd0aD0wfWZ1bmN0aW9uIEkoZSxuLHQpe3ZhciByPW4ubmV4dCxhPXt2YWx1ZTp0LHByZXY6bixuZXh0OnJ9O3JldHVybiBuLm5leHQ9YSxyLnByZXY9YSxlLmxlbmd0aCsrLGF9ZnVuY3Rpb24gcShlLG4sdCl7Zm9yKHZhciByPW4ubmV4dCxhPTA7YTx0JiZyIT09ZS50YWlsO2ErKylyPXIubmV4dDsobi5uZXh0PXIpLnByZXY9bixlLmxlbmd0aC09YX1pZih1LlByaXNtPU0sVy5zdHJpbmdpZnk9ZnVuY3Rpb24gbihlLHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybiBlO2lmKEFycmF5LmlzQXJyYXkoZSkpe3ZhciByPVwiXCI7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXtyKz1uKGUsdCl9KSxyfXZhciBhPXt0eXBlOmUudHlwZSxjb250ZW50Om4oZS5jb250ZW50LHQpLHRhZzpcInNwYW5cIixjbGFzc2VzOltcInRva2VuXCIsZS50eXBlXSxhdHRyaWJ1dGVzOnt9LGxhbmd1YWdlOnR9LGk9ZS5hbGlhcztpJiYoQXJyYXkuaXNBcnJheShpKT9BcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShhLmNsYXNzZXMsaSk6YS5jbGFzc2VzLnB1c2goaSkpLE0uaG9va3MucnVuKFwid3JhcFwiLGEpO3ZhciBsPVwiXCI7Zm9yKHZhciBvIGluIGEuYXR0cmlidXRlcylsKz1cIiBcIitvKyc9XCInKyhhLmF0dHJpYnV0ZXNbb118fFwiXCIpLnJlcGxhY2UoL1wiL2csXCImcXVvdDtcIikrJ1wiJztyZXR1cm5cIjxcIithLnRhZysnIGNsYXNzPVwiJythLmNsYXNzZXMuam9pbihcIiBcIikrJ1wiJytsK1wiPlwiK2EuY29udGVudCtcIjwvXCIrYS50YWcrXCI+XCJ9LCF1LmRvY3VtZW50KXJldHVybiB1LmFkZEV2ZW50TGlzdGVuZXImJihNLmRpc2FibGVXb3JrZXJNZXNzYWdlSGFuZGxlcnx8dS5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLGZ1bmN0aW9uKGUpe3ZhciBuPUpTT04ucGFyc2UoZS5kYXRhKSx0PW4ubGFuZ3VhZ2Uscj1uLmNvZGUsYT1uLmltbWVkaWF0ZUNsb3NlO3UucG9zdE1lc3NhZ2UoTS5oaWdobGlnaHQocixNLmxhbmd1YWdlc1t0XSx0KSksYSYmdS5jbG9zZSgpfSwhMSkpLE07dmFyIHQ9TS51dGlsLmN1cnJlbnRTY3JpcHQoKTtmdW5jdGlvbiByKCl7TS5tYW51YWx8fE0uaGlnaGxpZ2h0QWxsKCl9aWYodCYmKE0uZmlsZW5hbWU9dC5zcmMsdC5oYXNBdHRyaWJ1dGUoXCJkYXRhLW1hbnVhbFwiKSYmKE0ubWFudWFsPSEwKSksIU0ubWFudWFsKXt2YXIgYT1kb2N1bWVudC5yZWFkeVN0YXRlO1wibG9hZGluZ1wiPT09YXx8XCJpbnRlcmFjdGl2ZVwiPT09YSYmdCYmdC5kZWZlcj9kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLHIpOndpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU/d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShyKTp3aW5kb3cuc2V0VGltZW91dChyLDE2KX1yZXR1cm4gTX0oX3NlbGYpO1widW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzJiYobW9kdWxlLmV4cG9ydHM9UHJpc20pLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWwmJihnbG9iYWwuUHJpc209UHJpc20pO1xuUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cD17Y29tbWVudDovPCEtLVtcXHNcXFNdKj8tLT4vLHByb2xvZzovPFxcP1tcXHNcXFNdKz9cXD8+Lyxkb2N0eXBlOntwYXR0ZXJuOi88IURPQ1RZUEUoPzpbXj5cIidbXFxdXXxcIlteXCJdKlwifCdbXiddKicpKyg/OlxcWyg/OltePFwiJ1xcXV18XCJbXlwiXSpcInwnW14nXSonfDwoPyEhLS0pfDwhLS0oPzpbXi1dfC0oPyEtPikpKi0tPikqXFxdXFxzKik/Pi9pLGdyZWVkeTohMCxpbnNpZGU6e1wiaW50ZXJuYWwtc3Vic2V0XCI6e3BhdHRlcm46LyhcXFspW1xcc1xcU10rKD89XFxdPiQpLyxsb29rYmVoaW5kOiEwLGdyZWVkeTohMCxpbnNpZGU6bnVsbH0sc3RyaW5nOntwYXR0ZXJuOi9cIlteXCJdKlwifCdbXiddKicvLGdyZWVkeTohMH0scHVuY3R1YXRpb246L148IXw+JHxbW1xcXV0vLFwiZG9jdHlwZS10YWdcIjovXkRPQ1RZUEUvLG5hbWU6L1teXFxzPD4nXCJdKy99fSxjZGF0YTovPCFcXFtDREFUQVxcW1tcXHNcXFNdKj9dXT4vaSx0YWc6e3BhdHRlcm46LzxcXC8/KD8hXFxkKVteXFxzPlxcLz0kPCVdKyg/Olxccyg/OlxccypbXlxccz5cXC89XSsoPzpcXHMqPVxccyooPzpcIlteXCJdKlwifCdbXiddKid8W15cXHMnXCI+PV0rKD89W1xccz5dKSl8KD89W1xccy8+XSkpKSspP1xccypcXC8/Pi8sZ3JlZWR5OiEwLGluc2lkZTp7dGFnOntwYXR0ZXJuOi9ePFxcLz9bXlxccz5cXC9dKy8saW5zaWRlOntwdW5jdHVhdGlvbjovXjxcXC8/LyxuYW1lc3BhY2U6L15bXlxccz5cXC86XSs6L319LFwic3BlY2lhbC1hdHRyXCI6W10sXCJhdHRyLXZhbHVlXCI6e3BhdHRlcm46Lz1cXHMqKD86XCJbXlwiXSpcInwnW14nXSonfFteXFxzJ1wiPj1dKykvLGluc2lkZTp7cHVuY3R1YXRpb246W3twYXR0ZXJuOi9ePS8sYWxpYXM6XCJhdHRyLWVxdWFsc1wifSwvXCJ8Jy9dfX0scHVuY3R1YXRpb246L1xcLz8+LyxcImF0dHItbmFtZVwiOntwYXR0ZXJuOi9bXlxccz5cXC9dKy8saW5zaWRlOntuYW1lc3BhY2U6L15bXlxccz5cXC86XSs6L319fX0sZW50aXR5Olt7cGF0dGVybjovJltcXGRhLXpdezEsOH07L2ksYWxpYXM6XCJuYW1lZC1lbnRpdHlcIn0sLyYjeD9bXFxkYS1mXXsxLDh9Oy9pXX0sUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cC50YWcuaW5zaWRlW1wiYXR0ci12YWx1ZVwiXS5pbnNpZGUuZW50aXR5PVByaXNtLmxhbmd1YWdlcy5tYXJrdXAuZW50aXR5LFByaXNtLmxhbmd1YWdlcy5tYXJrdXAuZG9jdHlwZS5pbnNpZGVbXCJpbnRlcm5hbC1zdWJzZXRcIl0uaW5zaWRlPVByaXNtLmxhbmd1YWdlcy5tYXJrdXAsUHJpc20uaG9va3MuYWRkKFwid3JhcFwiLGZ1bmN0aW9uKGEpe1wiZW50aXR5XCI9PT1hLnR5cGUmJihhLmF0dHJpYnV0ZXMudGl0bGU9YS5jb250ZW50LnJlcGxhY2UoLyZhbXA7LyxcIiZcIikpfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFByaXNtLmxhbmd1YWdlcy5tYXJrdXAudGFnLFwiYWRkSW5saW5lZFwiLHt2YWx1ZTpmdW5jdGlvbihhLGUpe3ZhciBzPXt9O3NbXCJsYW5ndWFnZS1cIitlXT17cGF0dGVybjovKF48IVxcW0NEQVRBXFxbKVtcXHNcXFNdKz8oPz1cXF1cXF0+JCkvaSxsb29rYmVoaW5kOiEwLGluc2lkZTpQcmlzbS5sYW5ndWFnZXNbZV19LHMuY2RhdGE9L148IVxcW0NEQVRBXFxbfFxcXVxcXT4kL2k7dmFyIHQ9e1wiaW5jbHVkZWQtY2RhdGFcIjp7cGF0dGVybjovPCFcXFtDREFUQVxcW1tcXHNcXFNdKj9cXF1cXF0+L2ksaW5zaWRlOnN9fTt0W1wibGFuZ3VhZ2UtXCIrZV09e3BhdHRlcm46L1tcXHNcXFNdKy8saW5zaWRlOlByaXNtLmxhbmd1YWdlc1tlXX07dmFyIG49e307blthXT17cGF0dGVybjpSZWdFeHAoXCIoPF9fW14+XSo+KSg/OjwhXFxcXFtDREFUQVxcXFxbKD86W15cXFxcXV18XFxcXF0oPyFcXFxcXT4pKSpcXFxcXVxcXFxdPnwoPyE8IVxcXFxbQ0RBVEFcXFxcWylbXl0pKj8oPz08L19fPilcIi5yZXBsYWNlKC9fXy9nLGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSxcImlcIiksbG9va2JlaGluZDohMCxncmVlZHk6ITAsaW5zaWRlOnR9LFByaXNtLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoXCJtYXJrdXBcIixcImNkYXRhXCIsbil9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFByaXNtLmxhbmd1YWdlcy5tYXJrdXAudGFnLFwiYWRkQXR0cmlidXRlXCIse3ZhbHVlOmZ1bmN0aW9uKGEsZSl7UHJpc20ubGFuZ3VhZ2VzLm1hcmt1cC50YWcuaW5zaWRlW1wic3BlY2lhbC1hdHRyXCJdLnB1c2goe3BhdHRlcm46UmVnRXhwKFwiKF58W1xcXCInXFxcXHNdKSg/OlwiK2ErXCIpXFxcXHMqPVxcXFxzKig/OlxcXCJbXlxcXCJdKlxcXCJ8J1teJ10qJ3xbXlxcXFxzJ1xcXCI+PV0rKD89W1xcXFxzPl0pKVwiLFwiaVwiKSxsb29rYmVoaW5kOiEwLGluc2lkZTp7XCJhdHRyLW5hbWVcIjovXlteXFxzPV0rLyxcImF0dHItdmFsdWVcIjp7cGF0dGVybjovPVtcXHNcXFNdKy8saW5zaWRlOnt2YWx1ZTp7cGF0dGVybjovKD1cXHMqKFtcIiddfCg/IVtcIiddKSkpXFxTW1xcc1xcU10qKD89XFwyJCkvLGxvb2tiZWhpbmQ6ITAsYWxpYXM6W2UsXCJsYW5ndWFnZS1cIitlXSxpbnNpZGU6UHJpc20ubGFuZ3VhZ2VzW2VdfSxwdW5jdHVhdGlvbjpbe3BhdHRlcm46L149LyxhbGlhczpcImF0dHItZXF1YWxzXCJ9LC9cInwnL119fX19KX19KSxQcmlzbS5sYW5ndWFnZXMuaHRtbD1QcmlzbS5sYW5ndWFnZXMubWFya3VwLFByaXNtLmxhbmd1YWdlcy5tYXRobWw9UHJpc20ubGFuZ3VhZ2VzLm1hcmt1cCxQcmlzbS5sYW5ndWFnZXMuc3ZnPVByaXNtLmxhbmd1YWdlcy5tYXJrdXAsUHJpc20ubGFuZ3VhZ2VzLnhtbD1QcmlzbS5sYW5ndWFnZXMuZXh0ZW5kKFwibWFya3VwXCIse30pLFByaXNtLmxhbmd1YWdlcy5zc21sPVByaXNtLmxhbmd1YWdlcy54bWwsUHJpc20ubGFuZ3VhZ2VzLmF0b209UHJpc20ubGFuZ3VhZ2VzLnhtbCxQcmlzbS5sYW5ndWFnZXMucnNzPVByaXNtLmxhbmd1YWdlcy54bWw7XG4hZnVuY3Rpb24ocyl7dmFyIGU9LyhcInwnKSg/OlxcXFwoPzpcXHJcXG58W1xcc1xcU10pfCg/IVxcMSlbXlxcXFxcXHJcXG5dKSpcXDEvO3MubGFuZ3VhZ2VzLmNzcz17Y29tbWVudDovXFwvXFwqW1xcc1xcU10qP1xcKlxcLy8sYXRydWxlOntwYXR0ZXJuOi9AW1xcdy1dKD86W147e1xcc118XFxzKyg/IVtcXHN7XSkpKig/Ojt8KD89XFxzKlxceykpLyxpbnNpZGU6e3J1bGU6L15AW1xcdy1dKy8sXCJzZWxlY3Rvci1mdW5jdGlvbi1hcmd1bWVudFwiOntwYXR0ZXJuOi8oXFxic2VsZWN0b3JcXHMqXFwoXFxzKig/IVtcXHMpXSkpKD86W14oKVxcc118XFxzKyg/IVtcXHMpXSl8XFwoKD86W14oKV18XFwoW14oKV0qXFwpKSpcXCkpKyg/PVxccypcXCkpLyxsb29rYmVoaW5kOiEwLGFsaWFzOlwic2VsZWN0b3JcIn0sa2V5d29yZDp7cGF0dGVybjovKF58W15cXHctXSkoPzphbmR8bm90fG9ubHl8b3IpKD8hW1xcdy1dKS8sbG9va2JlaGluZDohMH19fSx1cmw6e3BhdHRlcm46UmVnRXhwKFwiXFxcXGJ1cmxcXFxcKCg/OlwiK2Uuc291cmNlK1wifCg/OlteXFxcXFxcXFxcXHJcXG4oKVxcXCInXXxcXFxcXFxcXFteXSkqKVxcXFwpXCIsXCJpXCIpLGdyZWVkeTohMCxpbnNpZGU6e2Z1bmN0aW9uOi9edXJsL2kscHVuY3R1YXRpb246L15cXCh8XFwpJC8sc3RyaW5nOntwYXR0ZXJuOlJlZ0V4cChcIl5cIitlLnNvdXJjZStcIiRcIiksYWxpYXM6XCJ1cmxcIn19fSxzZWxlY3RvcjpSZWdFeHAoXCJbXnt9XFxcXHNdKD86W157fTtcXFwiJ1xcXFxzXXxcXFxccysoPyFbXFxcXHN7XSl8XCIrZS5zb3VyY2UrXCIpKig/PVxcXFxzKlxcXFx7KVwiKSxzdHJpbmc6e3BhdHRlcm46ZSxncmVlZHk6ITB9LHByb3BlcnR5Oi8oPyFcXHMpWy1fYS16XFx4QTAtXFx1RkZGRl0oPzooPyFcXHMpWy1cXHdcXHhBMC1cXHVGRkZGXSkqKD89XFxzKjopL2ksaW1wb3J0YW50Oi8haW1wb3J0YW50XFxiL2ksZnVuY3Rpb246L1stYS16MC05XSsoPz1cXCgpL2kscHVuY3R1YXRpb246L1soKXt9OzosXS99LHMubGFuZ3VhZ2VzLmNzcy5hdHJ1bGUuaW5zaWRlLnJlc3Q9cy5sYW5ndWFnZXMuY3NzO3ZhciB0PXMubGFuZ3VhZ2VzLm1hcmt1cDt0JiYodC50YWcuYWRkSW5saW5lZChcInN0eWxlXCIsXCJjc3NcIiksdC50YWcuYWRkQXR0cmlidXRlKFwic3R5bGVcIixcImNzc1wiKSl9KFByaXNtKTtcblByaXNtLmxhbmd1YWdlcy5jbGlrZT17Y29tbWVudDpbe3BhdHRlcm46LyhefFteXFxcXF0pXFwvXFwqW1xcc1xcU10qPyg/OlxcKlxcL3wkKS8sbG9va2JlaGluZDohMCxncmVlZHk6ITB9LHtwYXR0ZXJuOi8oXnxbXlxcXFw6XSlcXC9cXC8uKi8sbG9va2JlaGluZDohMCxncmVlZHk6ITB9XSxzdHJpbmc6e3BhdHRlcm46LyhbXCInXSkoPzpcXFxcKD86XFxyXFxufFtcXHNcXFNdKXwoPyFcXDEpW15cXFxcXFxyXFxuXSkqXFwxLyxncmVlZHk6ITB9LFwiY2xhc3MtbmFtZVwiOntwYXR0ZXJuOi8oXFxiKD86Y2xhc3N8aW50ZXJmYWNlfGV4dGVuZHN8aW1wbGVtZW50c3x0cmFpdHxpbnN0YW5jZW9mfG5ldylcXHMrfFxcYmNhdGNoXFxzK1xcKClbXFx3LlxcXFxdKy9pLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOntwdW5jdHVhdGlvbjovWy5cXFxcXS99fSxrZXl3b3JkOi9cXGIoPzppZnxlbHNlfHdoaWxlfGRvfGZvcnxyZXR1cm58aW58aW5zdGFuY2VvZnxmdW5jdGlvbnxuZXd8dHJ5fHRocm93fGNhdGNofGZpbmFsbHl8bnVsbHxicmVha3xjb250aW51ZSlcXGIvLGJvb2xlYW46L1xcYig/OnRydWV8ZmFsc2UpXFxiLyxmdW5jdGlvbjovXFx3Kyg/PVxcKCkvLG51bWJlcjovXFxiMHhbXFxkYS1mXStcXGJ8KD86XFxiXFxkKyg/OlxcLlxcZCopP3xcXEJcXC5cXGQrKSg/OmVbKy1dP1xcZCspPy9pLG9wZXJhdG9yOi9bPD5dPT98WyE9XT0/PT98LS0/fFxcK1xcKz98JiY/fFxcfFxcfD98Wz8qL35eJV0vLHB1bmN0dWF0aW9uOi9be31bXFxdOygpLC46XS99O1xuUHJpc20ubGFuZ3VhZ2VzLmphdmFzY3JpcHQ9UHJpc20ubGFuZ3VhZ2VzLmV4dGVuZChcImNsaWtlXCIse1wiY2xhc3MtbmFtZVwiOltQcmlzbS5sYW5ndWFnZXMuY2xpa2VbXCJjbGFzcy1uYW1lXCJdLHtwYXR0ZXJuOi8oXnxbXiRcXHdcXHhBMC1cXHVGRkZGXSkoPyFcXHMpW18kQS1aXFx4QTAtXFx1RkZGRl0oPzooPyFcXHMpWyRcXHdcXHhBMC1cXHVGRkZGXSkqKD89XFwuKD86cHJvdG90eXBlfGNvbnN0cnVjdG9yKSkvLGxvb2tiZWhpbmQ6ITB9XSxrZXl3b3JkOlt7cGF0dGVybjovKCg/Ol58fSlcXHMqKWNhdGNoXFxiLyxsb29rYmVoaW5kOiEwfSx7cGF0dGVybjovKF58W14uXXxcXC5cXC5cXC5cXHMqKVxcYig/OmFzfGFzeW5jKD89XFxzKig/OmZ1bmN0aW9uXFxifFxcKHxbJFxcd1xceEEwLVxcdUZGRkZdfCQpKXxhd2FpdHxicmVha3xjYXNlfGNsYXNzfGNvbnN0fGNvbnRpbnVlfGRlYnVnZ2VyfGRlZmF1bHR8ZGVsZXRlfGRvfGVsc2V8ZW51bXxleHBvcnR8ZXh0ZW5kc3xmaW5hbGx5KD89XFxzKig/Olxce3wkKSl8Zm9yfGZyb20oPz1cXHMqKD86WydcIl18JCkpfGZ1bmN0aW9ufCg/OmdldHxzZXQpKD89XFxzKig/OltcXFskXFx3XFx4QTAtXFx1RkZGRl18JCkpfGlmfGltcGxlbWVudHN8aW1wb3J0fGlufGluc3RhbmNlb2Z8aW50ZXJmYWNlfGxldHxuZXd8bnVsbHxvZnxwYWNrYWdlfHByaXZhdGV8cHJvdGVjdGVkfHB1YmxpY3xyZXR1cm58c3RhdGljfHN1cGVyfHN3aXRjaHx0aGlzfHRocm93fHRyeXx0eXBlb2Z8dW5kZWZpbmVkfHZhcnx2b2lkfHdoaWxlfHdpdGh8eWllbGQpXFxiLyxsb29rYmVoaW5kOiEwfV0sZnVuY3Rpb246LyM/KD8hXFxzKVtfJGEtekEtWlxceEEwLVxcdUZGRkZdKD86KD8hXFxzKVskXFx3XFx4QTAtXFx1RkZGRl0pKig/PVxccyooPzpcXC5cXHMqKD86YXBwbHl8YmluZHxjYWxsKVxccyopP1xcKCkvLG51bWJlcjovXFxiKD86KD86MFt4WF0oPzpbXFxkQS1GYS1mXSg/Ol9bXFxkQS1GYS1mXSk/KSt8MFtiQl0oPzpbMDFdKD86X1swMV0pPykrfDBbb09dKD86WzAtN10oPzpfWzAtN10pPykrKW4/fCg/OlxcZCg/Ol9cXGQpPykrbnxOYU58SW5maW5pdHkpXFxifCg/OlxcYig/OlxcZCg/Ol9cXGQpPykrXFwuPyg/OlxcZCg/Ol9cXGQpPykqfFxcQlxcLig/OlxcZCg/Ol9cXGQpPykrKSg/OltFZV1bKy1dPyg/OlxcZCg/Ol9cXGQpPykrKT8vLG9wZXJhdG9yOi8tLXxcXCtcXCt8XFwqXFwqPT98PT58JiY9P3xcXHxcXHw9P3xbIT1dPT18PDw9P3w+Pj4/PT98Wy0rKi8lJnxeIT08Pl09P3xcXC57M318XFw/XFw/PT98XFw/XFwuP3xbfjpdL30pLFByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0W1wiY2xhc3MtbmFtZVwiXVswXS5wYXR0ZXJuPS8oXFxiKD86Y2xhc3N8aW50ZXJmYWNlfGV4dGVuZHN8aW1wbGVtZW50c3xpbnN0YW5jZW9mfG5ldylcXHMrKVtcXHcuXFxcXF0rLyxQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKFwiamF2YXNjcmlwdFwiLFwia2V5d29yZFwiLHtyZWdleDp7cGF0dGVybjovKCg/Ol58W14kXFx3XFx4QTAtXFx1RkZGRi5cIidcXF0pXFxzXXxcXGIoPzpyZXR1cm58eWllbGQpKVxccyopXFwvKD86XFxbKD86W15cXF1cXFxcXFxyXFxuXXxcXFxcLikqXXxcXFxcLnxbXi9cXFxcXFxbXFxyXFxuXSkrXFwvW2dpbXl1c117MCw2fSg/PSg/Olxcc3xcXC9cXCooPzpbXipdfFxcKig/IVxcLykpKlxcKlxcLykqKD86JHxbXFxyXFxuLC47On0pXFxdXXxcXC9cXC8pKS8sbG9va2JlaGluZDohMCxncmVlZHk6ITAsaW5zaWRlOntcInJlZ2V4LXNvdXJjZVwiOntwYXR0ZXJuOi9eKFxcLylbXFxzXFxTXSsoPz1cXC9bYS16XSokKS8sbG9va2JlaGluZDohMCxhbGlhczpcImxhbmd1YWdlLXJlZ2V4XCIsaW5zaWRlOlByaXNtLmxhbmd1YWdlcy5yZWdleH0sXCJyZWdleC1mbGFnc1wiOi9bYS16XSskLyxcInJlZ2V4LWRlbGltaXRlclwiOi9eXFwvfFxcLyQvfX0sXCJmdW5jdGlvbi12YXJpYWJsZVwiOntwYXR0ZXJuOi8jPyg/IVxccylbXyRhLXpBLVpcXHhBMC1cXHVGRkZGXSg/Oig/IVxccylbJFxcd1xceEEwLVxcdUZGRkZdKSooPz1cXHMqWz06XVxccyooPzphc3luY1xccyopPyg/OlxcYmZ1bmN0aW9uXFxifCg/OlxcKCg/OlteKCldfFxcKFteKCldKlxcKSkqXFwpfCg/IVxccylbXyRhLXpBLVpcXHhBMC1cXHVGRkZGXSg/Oig/IVxccylbJFxcd1xceEEwLVxcdUZGRkZdKSopXFxzKj0+KSkvLGFsaWFzOlwiZnVuY3Rpb25cIn0scGFyYW1ldGVyOlt7cGF0dGVybjovKGZ1bmN0aW9uKD86XFxzKyg/IVxccylbXyRhLXpBLVpcXHhBMC1cXHVGRkZGXSg/Oig/IVxccylbJFxcd1xceEEwLVxcdUZGRkZdKSopP1xccypcXChcXHMqKSg/IVxccykoPzpbXigpXFxzXXxcXHMrKD8hW1xccyldKXxcXChbXigpXSpcXCkpKyg/PVxccypcXCkpLyxsb29rYmVoaW5kOiEwLGluc2lkZTpQcmlzbS5sYW5ndWFnZXMuamF2YXNjcmlwdH0se3BhdHRlcm46Lyg/IVxccylbXyRhLXpBLVpcXHhBMC1cXHVGRkZGXSg/Oig/IVxccylbJFxcd1xceEEwLVxcdUZGRkZdKSooPz1cXHMqPT4pL2ksaW5zaWRlOlByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0fSx7cGF0dGVybjovKFxcKFxccyopKD8hXFxzKSg/OlteKClcXHNdfFxccysoPyFbXFxzKV0pfFxcKFteKCldKlxcKSkrKD89XFxzKlxcKVxccyo9PikvLGxvb2tiZWhpbmQ6ITAsaW5zaWRlOlByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0fSx7cGF0dGVybjovKCg/OlxcYnxcXHN8XikoPyEoPzphc3xhc3luY3xhd2FpdHxicmVha3xjYXNlfGNhdGNofGNsYXNzfGNvbnN0fGNvbnRpbnVlfGRlYnVnZ2VyfGRlZmF1bHR8ZGVsZXRlfGRvfGVsc2V8ZW51bXxleHBvcnR8ZXh0ZW5kc3xmaW5hbGx5fGZvcnxmcm9tfGZ1bmN0aW9ufGdldHxpZnxpbXBsZW1lbnRzfGltcG9ydHxpbnxpbnN0YW5jZW9mfGludGVyZmFjZXxsZXR8bmV3fG51bGx8b2Z8cGFja2FnZXxwcml2YXRlfHByb3RlY3RlZHxwdWJsaWN8cmV0dXJufHNldHxzdGF0aWN8c3VwZXJ8c3dpdGNofHRoaXN8dGhyb3d8dHJ5fHR5cGVvZnx1bmRlZmluZWR8dmFyfHZvaWR8d2hpbGV8d2l0aHx5aWVsZCkoPyFbJFxcd1xceEEwLVxcdUZGRkZdKSkoPzooPyFcXHMpW18kYS16QS1aXFx4QTAtXFx1RkZGRl0oPzooPyFcXHMpWyRcXHdcXHhBMC1cXHVGRkZGXSkqXFxzKilcXChcXHMqfFxcXVxccypcXChcXHMqKSg/IVxccykoPzpbXigpXFxzXXxcXHMrKD8hW1xccyldKXxcXChbXigpXSpcXCkpKyg/PVxccypcXClcXHMqXFx7KS8sbG9va2JlaGluZDohMCxpbnNpZGU6UHJpc20ubGFuZ3VhZ2VzLmphdmFzY3JpcHR9XSxjb25zdGFudDovXFxiW0EtWl0oPzpbQS1aX118XFxkeD8pKlxcYi99KSxQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKFwiamF2YXNjcmlwdFwiLFwic3RyaW5nXCIse1widGVtcGxhdGUtc3RyaW5nXCI6e3BhdHRlcm46L2AoPzpcXFxcW1xcc1xcU118XFwkeyg/Oltee31dfHsoPzpbXnt9XXx7W159XSp9KSp9KSt9fCg/IVxcJHspW15cXFxcYF0pKmAvLGdyZWVkeTohMCxpbnNpZGU6e1widGVtcGxhdGUtcHVuY3R1YXRpb25cIjp7cGF0dGVybjovXmB8YCQvLGFsaWFzOlwic3RyaW5nXCJ9LGludGVycG9sYXRpb246e3BhdHRlcm46LygoPzpefFteXFxcXF0pKD86XFxcXHsyfSkqKVxcJHsoPzpbXnt9XXx7KD86W157fV18e1tefV0qfSkqfSkrfS8sbG9va2JlaGluZDohMCxpbnNpZGU6e1wiaW50ZXJwb2xhdGlvbi1wdW5jdHVhdGlvblwiOntwYXR0ZXJuOi9eXFwke3x9JC8sYWxpYXM6XCJwdW5jdHVhdGlvblwifSxyZXN0OlByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0fX0sc3RyaW5nOi9bXFxzXFxTXSsvfX19KSxQcmlzbS5sYW5ndWFnZXMubWFya3VwJiYoUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cC50YWcuYWRkSW5saW5lZChcInNjcmlwdFwiLFwiamF2YXNjcmlwdFwiKSxQcmlzbS5sYW5ndWFnZXMubWFya3VwLnRhZy5hZGRBdHRyaWJ1dGUoXCJvbig/OmFib3J0fGJsdXJ8Y2hhbmdlfGNsaWNrfGNvbXBvc2l0aW9uKD86ZW5kfHN0YXJ0fHVwZGF0ZSl8ZGJsY2xpY2t8ZXJyb3J8Zm9jdXMoPzppbnxvdXQpP3xrZXkoPzpkb3dufHVwKXxsb2FkfG1vdXNlKD86ZG93bnxlbnRlcnxsZWF2ZXxtb3ZlfG91dHxvdmVyfHVwKXxyZXNldHxyZXNpemV8c2Nyb2xsfHNlbGVjdHxzbG90Y2hhbmdlfHN1Ym1pdHx1bmxvYWR8d2hlZWwpXCIsXCJqYXZhc2NyaXB0XCIpKSxQcmlzbS5sYW5ndWFnZXMuanM9UHJpc20ubGFuZ3VhZ2VzLmphdmFzY3JpcHQ7XG5QcmlzbS5sYW5ndWFnZXMuZWxpeGlyPXtkb2M6e3BhdHRlcm46L0AoPzpkb2N8bW9kdWxlZG9jKVxccysoPzooXCJcIlwifCcnJylbXFxzXFxTXSo/XFwxfChcInwnKSg/OlxcXFwoPzpcXHJcXG58W1xcc1xcU10pfCg/IVxcMilbXlxcXFxcXHJcXG5dKSpcXDIpLyxpbnNpZGU6e2F0dHJpYnV0ZTovXkBcXHcrLyxzdHJpbmc6L1snXCJdW1xcc1xcU10rL319LGNvbW1lbnQ6e3BhdHRlcm46LyMuKi9tLGdyZWVkeTohMH0scmVnZXg6e3BhdHRlcm46L35bclJdKD86KFwiXCJcInwnJycpKD86XFxcXFtcXHNcXFNdfCg/IVxcMSlbXlxcXFxdKStcXDF8KFtcXC98XCInXSkoPzpcXFxcLnwoPyFcXDIpW15cXFxcXFxyXFxuXSkrXFwyfFxcKCg/OlxcXFwufFteXFxcXClcXHJcXG5dKStcXCl8XFxbKD86XFxcXC58W15cXFxcXFxdXFxyXFxuXSkrXFxdfFxceyg/OlxcXFwufFteXFxcXH1cXHJcXG5dKStcXH18PCg/OlxcXFwufFteXFxcXD5cXHJcXG5dKSs+KVt1aXNteGZyXSovLGdyZWVkeTohMH0sc3RyaW5nOlt7cGF0dGVybjovfltjQ3NTd1ddKD86KFwiXCJcInwnJycpKD86XFxcXFtcXHNcXFNdfCg/IVxcMSlbXlxcXFxdKStcXDF8KFtcXC98XCInXSkoPzpcXFxcLnwoPyFcXDIpW15cXFxcXFxyXFxuXSkrXFwyfFxcKCg/OlxcXFwufFteXFxcXClcXHJcXG5dKStcXCl8XFxbKD86XFxcXC58W15cXFxcXFxdXFxyXFxuXSkrXFxdfFxceyg/OlxcXFwufCNcXHtbXn1dK1xcfXwjKD8hXFx7KXxbXiNcXFxcfVxcclxcbl0pK1xcfXw8KD86XFxcXC58W15cXFxcPlxcclxcbl0pKz4pW2NzYV0/LyxncmVlZHk6ITAsaW5zaWRlOnt9fSx7cGF0dGVybjovKFwiXCJcInwnJycpW1xcc1xcU10qP1xcMS8sZ3JlZWR5OiEwLGluc2lkZTp7fX0se3BhdHRlcm46LyhcInwnKSg/OlxcXFwoPzpcXHJcXG58W1xcc1xcU10pfCg/IVxcMSlbXlxcXFxcXHJcXG5dKSpcXDEvLGdyZWVkeTohMCxpbnNpZGU6e319XSxhdG9tOntwYXR0ZXJuOi8oXnxbXjpdKTpcXHcrLyxsb29rYmVoaW5kOiEwLGFsaWFzOlwic3ltYm9sXCJ9LG1vZHVsZTp7cGF0dGVybjovXFxiW0EtWl1cXHcqXFxiLyxhbGlhczpcImNsYXNzLW5hbWVcIn0sXCJhdHRyLW5hbWVcIjovXFx3K1xcPz86KD8hOikvLGFyZ3VtZW50OntwYXR0ZXJuOi8oXnxbXiZdKSZcXGQrLyxsb29rYmVoaW5kOiEwLGFsaWFzOlwidmFyaWFibGVcIn0sYXR0cmlidXRlOntwYXR0ZXJuOi9AXFx3Ky8sYWxpYXM6XCJ2YXJpYWJsZVwifSxmdW5jdGlvbjovXFxiW19hLXpBLVpdXFx3Kls/IV0/KD86KD89XFxzKig/OlxcLlxccyopP1xcKCl8KD89XFwvXFxkKykpLyxudW1iZXI6L1xcYig/OjBbYm94XVthLWZcXGRfXSt8XFxkW1xcZF9dKikoPzpcXC5bXFxkX10rKT8oPzplWystXT9bXFxkX10rKT9cXGIvaSxrZXl3b3JkOi9cXGIoPzphZnRlcnxhbGlhc3xhbmR8Y2FzZXxjYXRjaHxjb25kfGRlZig/OmNhbGxiYWNrfGV4Y2VwdGlvbnxpbXBsfG1vZHVsZXxwfHByb3RvY29sfHN0cnVjdHxkZWxlZ2F0ZSk/fGRvfGVsc2V8ZW5kfGZufGZvcnxpZnxpbXBvcnR8bm90fG9yfHJhaXNlfHJlcXVpcmV8cmVzY3VlfHRyeXx1bmxlc3N8dXNlfHdoZW4pXFxiLyxib29sZWFuOi9cXGIoPzp0cnVlfGZhbHNlfG5pbClcXGIvLG9wZXJhdG9yOlsvXFxiaW5cXGJ8JiY/fFxcfFt8Pl0/fFxcXFxcXFxcfDo6fFxcLlxcLlxcLj98XFwrXFwrP3wtWy0+XT98PFstPT5dfD49fCE9PT98XFxCIXw9KD86PT0/fFs+fl0pP3xbKlxcL15dLyx7cGF0dGVybjovKFtePF0pPCg/ITwpLyxsb29rYmVoaW5kOiEwfSx7cGF0dGVybjovKFtePl0pPig/IT4pLyxsb29rYmVoaW5kOiEwfV0scHVuY3R1YXRpb246Lzw8fD4+fFsuLCVcXFtcXF17fSgpXS99LFByaXNtLmxhbmd1YWdlcy5lbGl4aXIuc3RyaW5nLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5pbnNpZGU9e2ludGVycG9sYXRpb246e3BhdHRlcm46LyNcXHtbXn1dK1xcfS8saW5zaWRlOntkZWxpbWl0ZXI6e3BhdHRlcm46L14jXFx7fFxcfSQvLGFsaWFzOlwicHVuY3R1YXRpb25cIn0scmVzdDpQcmlzbS5sYW5ndWFnZXMuZWxpeGlyfX19fSk7XG4hZnVuY3Rpb24oaSl7dmFyIGU9aS51dGlsLmNsb25lKGkubGFuZ3VhZ2VzLmVsaXhpciksdD1cIig/OlxcXFx7PFM+KlxcXFwuezN9KD86W157fV18PEJSQUNFUz4pKlxcXFx9KVwiO2Z1bmN0aW9uIG4oZSxuKXtyZXR1cm4gZT1lLnJlcGxhY2UoLzxTPi9nLGZ1bmN0aW9uKCl7cmV0dXJuXCIoPzpcXFxcc3wvLy4qKD8hLil8L1xcXFwqKD86W14qXXxcXFxcKig/IS8pKVxcXFwqLylcIn0pLnJlcGxhY2UoLzxCUkFDRVM+L2csZnVuY3Rpb24oKXtyZXR1cm5cIig/OlxcXFx7KD86XFxcXHsoPzpcXFxce1tee31dKlxcXFx9fFtee31dKSpcXFxcfXxbXnt9XSkqXFxcXH0pXCJ9KS5yZXBsYWNlKC88U1BSRUFEPi9nLGZ1bmN0aW9uKCl7cmV0dXJuIHR9KSxSZWdFeHAoZSxuKX10PW4odCkuc291cmNlLGkubGFuZ3VhZ2VzLnN1cmZhY2U9aS5sYW5ndWFnZXMuZXh0ZW5kKFwibWFya3VwXCIsZSksaS5sYW5ndWFnZXMuc3VyZmFjZS50YWcucGF0dGVybj1uKFwiPC8/KD86W1xcXFx3LjotXSsoPzo8Uz4rKD86W1xcXFx3LjokLV0rKD86PSg/OlxcXCIoPzpcXFxcXFxcXFteXXxbXlxcXFxcXFxcXFxcIl0pKlxcXCJ8Jyg/OlxcXFxcXFxcW15dfFteXFxcXFxcXFwnXSkqJ3xbXlxcXFxzeydcXFwiLz49XSt8PEJSQUNFUz4pKT98PFNQUkVBRD4pKSo8Uz4qLz8pPz5cIiksaS5sYW5ndWFnZXMuc3VyZmFjZS50YWcuaW5zaWRlLnRhZy5wYXR0ZXJuPS9ePFxcLz9bXlxccz5cXC9dKi9pLGkubGFuZ3VhZ2VzLnN1cmZhY2UudGFnLmluc2lkZVtcImF0dHItdmFsdWVcIl0ucGF0dGVybj0vPSg/IVxceykoPzpcIig/OlxcXFxbXl18W15cXFxcXCJdKSpcInwnKD86XFxcXFteXXxbXlxcXFwnXSkqJ3xbXlxccydcIj5dKykvaSxpLmxhbmd1YWdlcy5zdXJmYWNlLnRhZy5pbnNpZGUudGFnLmluc2lkZVtcImNsYXNzLW5hbWVcIl09L15bQS1aXVxcdyooPzpcXC5bQS1aXVxcdyopKiQvLGkubGFuZ3VhZ2VzLnN1cmZhY2UudGFnLmluc2lkZS50YWcuaW5zaWRlW1widGFnLW5hbWVcIl09L15bYS16XVxcdyooPzpcXC5bYS16XVxcdyopKiQvLGkubGFuZ3VhZ2VzLnN1cmZhY2UudGFnLmluc2lkZS5jb21tZW50PWUuY29tbWVudCxpLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoXCJpbnNpZGVcIixcImF0dHItbmFtZVwiLHtzcHJlYWQ6e3BhdHRlcm46bihcIjxTUFJFQUQ+XCIpLGluc2lkZTppLmxhbmd1YWdlcy5zdXJmYWNlfX0saS5sYW5ndWFnZXMuc3VyZmFjZS50YWcpLGkubGFuZ3VhZ2VzLmluc2VydEJlZm9yZShcImluc2lkZVwiLFwic3BlY2lhbC1hdHRyXCIse3NjcmlwdDp7cGF0dGVybjpuKFwiPTxCUkFDRVM+XCIpLGluc2lkZTp7XCJzY3JpcHQtcHVuY3R1YXRpb25cIjp7cGF0dGVybjovXj0oPz17KS8sYWxpYXM6XCJwdW5jdHVhdGlvblwifSxyZXN0OmkubGFuZ3VhZ2VzLnN1cmZhY2V9LGFsaWFzOlwibGFuZ3VhZ2UtZWxpeGlyXCJ9fSxpLmxhbmd1YWdlcy5zdXJmYWNlLnRhZyksaS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKFwiZWxpeGlyXCIsXCJhdG9tXCIse1wiZW1iZWRkZWQtc3VyZmFjZVwiOntwYXR0ZXJuOi9+SChcIlwiXCIpW1xcc1xcU10qP1xcMS8sZ3JlZWR5OiEwLGluc2lkZTp7XCJlbWJlZGRlZC1zdXJmYWNlLW9wZW5cIjp7cGF0dGVybjovXn5IXCJcIlwiLyxhbGlhczpcInB1bmN0dWF0aW9uXCJ9LFwiZW1iZWRkZWQtc3VyZmFjZS1jbG9zZVwiOntwYXR0ZXJuOi9cIlwiXCIkLyxhbGlhczpcInB1bmN0dWF0aW9uXCJ9LHN1cmZhY2U6e3BhdHRlcm46L1tcXHNcXFNdKy8saW5zaWRlOmkubGFuZ3VhZ2VzLnN1cmZhY2V9fX0sXCJzdXJmYWNlLWFwaVwiOntwYXR0ZXJuOi9eXFxzK1xcYig/OnByb3B8ZGF0YXxzbG90KVxcYlxccysvLGFsaWFzOlwiY2xhc3MtbmFtZVwifX0pO3ZhciB1PWZ1bmN0aW9uKGUpe3JldHVybiBlP1wic3RyaW5nXCI9PXR5cGVvZiBlP2U6XCJzdHJpbmdcIj09dHlwZW9mIGUuY29udGVudD9lLmNvbnRlbnQ6ZS5jb250ZW50Lm1hcCh1KS5qb2luKFwiXCIpOlwiXCJ9LGM9ZnVuY3Rpb24oZSxuKXtcInN1cmZhY2VcIj09PW4mJmUudW5zaGlmdChuZXcgaS5Ub2tlbihcInRhZ1wiLFtuZXcgaS5Ub2tlbihcInRhZ1wiLFtuZXcgaS5Ub2tlbihcInB1bmN0dWF0aW9uXCIsXCI8XCIpXSksbmV3IGkuVG9rZW4oXCJwdW5jdHVhdGlvblwiLFwiPlwiKV0pKTtmb3IodmFyIHQ9W10sYT0wO2E8ZS5sZW5ndGg7YSsrKXt2YXIgcz1lW2FdLHI9ITE7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHMmJihcInRhZ1wiPT09cy50eXBlJiZzLmNvbnRlbnRbMF0mJlwidGFnXCI9PT1zLmNvbnRlbnRbMF0udHlwZT9cIjwvXCI9PT1zLmNvbnRlbnRbMF0uY29udGVudFswXS5jb250ZW50PzA8dC5sZW5ndGgmJnRbdC5sZW5ndGgtMV0udGFnTmFtZT09PXUocy5jb250ZW50WzBdLmNvbnRlbnRbMV0pJiZ0LnBvcCgpOlwiLz5cIj09PXMuY29udGVudFtzLmNvbnRlbnQubGVuZ3RoLTFdLmNvbnRlbnR8fHQucHVzaCh7dGFnTmFtZTp1KHMuY29udGVudFswXS5jb250ZW50WzFdKSxvcGVuZWRCcmFjZXM6MH0pOjA8dC5sZW5ndGgmJlwicHVuY3R1YXRpb25cIj09PXMudHlwZSYmXCJ7XCI9PT1zLmNvbnRlbnQ/dFt0Lmxlbmd0aC0xXS5vcGVuZWRCcmFjZXMrKzowPHQubGVuZ3RoJiYwPHRbdC5sZW5ndGgtMV0ub3BlbmVkQnJhY2VzJiZcInB1bmN0dWF0aW9uXCI9PT1zLnR5cGUmJlwifVwiPT09cy5jb250ZW50P3RbdC5sZW5ndGgtMV0ub3BlbmVkQnJhY2VzLS06cj0hMCksKHJ8fFwic3RyaW5nXCI9PXR5cGVvZiBzKSYmMDx0Lmxlbmd0aCYmMD09PXRbdC5sZW5ndGgtMV0ub3BlbmVkQnJhY2VzKXt2YXIgZz11KHMpO2E8ZS5sZW5ndGgtMSYmKFwic3RyaW5nXCI9PXR5cGVvZiBlW2ErMV18fFwicGxhaW4tdGV4dFwiPT09ZVthKzFdLnR5cGUpJiYoZys9dShlW2ErMV0pLGUuc3BsaWNlKGErMSwxKSksMDxhJiYoXCJzdHJpbmdcIj09dHlwZW9mIGVbYS0xXXx8XCJwbGFpbi10ZXh0XCI9PT1lW2EtMV0udHlwZSkmJihnPXUoZVthLTFdKStnLGUuc3BsaWNlKGEtMSwxKSxhLS0pLGVbYV09bmV3IGkuVG9rZW4oXCJwbGFpbi10ZXh0XCIsZyxudWxsLGcpfXMuY29udGVudCYmXCJzdHJpbmdcIiE9dHlwZW9mIHMuY29udGVudCYmYyhzLmNvbnRlbnQscy50eXBlKX1cInN1cmZhY2VcIj09PW4mJmUuc2hpZnQoKX07aS5ob29rcy5hZGQoXCJhZnRlci10b2tlbml6ZVwiLGZ1bmN0aW9uKGUpe1wic3VyZmFjZVwiIT09ZS5sYW5ndWFnZSYmXCJlbGl4aXJcIiE9PWUubGFuZ3VhZ2V8fGMoZS50b2tlbnMsZS5sYW5ndWFnZSl9KX0oUHJpc20pO1xuIWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGYuUHJpc20mJnNlbGYuZG9jdW1lbnQmJmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ipe3ZhciB0LG89XCJsaW5lLW51bWJlcnNcIixzPVwibGlua2FibGUtbGluZS1udW1iZXJzXCIsYT1mdW5jdGlvbigpe2lmKHZvaWQgMD09PXQpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ZS5zdHlsZS5mb250U2l6ZT1cIjEzcHhcIixlLnN0eWxlLmxpbmVIZWlnaHQ9XCIxLjVcIixlLnN0eWxlLnBhZGRpbmc9XCIwXCIsZS5zdHlsZS5ib3JkZXI9XCIwXCIsZS5pbm5lckhUTUw9XCImbmJzcDs8YnIgLz4mbmJzcDtcIixkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGUpLHQ9Mzg9PT1lLm9mZnNldEhlaWdodCxkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGUpfXJldHVybiB0fSxsPSEwLHU9MDtQcmlzbS5ob29rcy5hZGQoXCJiZWZvcmUtc2FuaXR5LWNoZWNrXCIsZnVuY3Rpb24oZSl7dmFyIHQ9ZS5lbGVtZW50LnBhcmVudEVsZW1lbnQ7aWYoYyh0KSl7dmFyIG49MDt2KFwiLmxpbmUtaGlnaGxpZ2h0XCIsdCkuZm9yRWFjaChmdW5jdGlvbihlKXtuKz1lLnRleHRDb250ZW50Lmxlbmd0aCxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSl9KSxuJiYvXiggXFxuKSskLy50ZXN0KGUuY29kZS5zbGljZSgtbikpJiYoZS5jb2RlPWUuY29kZS5zbGljZSgwLC1uKSl9fSksUHJpc20uaG9va3MuYWRkKFwiY29tcGxldGVcIixmdW5jdGlvbiBlKHQpe3ZhciBuPXQuZWxlbWVudC5wYXJlbnRFbGVtZW50O2lmKGMobikpe2NsZWFyVGltZW91dCh1KTt2YXIgaT1QcmlzbS5wbHVnaW5zLmxpbmVOdW1iZXJzLHI9dC5wbHVnaW5zJiZ0LnBsdWdpbnMubGluZU51bWJlcnM7aWYoYihuLG8pJiZpJiYhcilQcmlzbS5ob29rcy5hZGQoXCJsaW5lLW51bWJlcnNcIixlKTtlbHNlIGQobikoKSx1PXNldFRpbWVvdXQoZiwxKX19KSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImhhc2hjaGFuZ2VcIixmKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLGZ1bmN0aW9uKCl7dihcInByZVwiKS5maWx0ZXIoYykubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBkKGUpfSkuZm9yRWFjaCh5KX0pfWZ1bmN0aW9uIHYoZSx0KXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoKHR8fGRvY3VtZW50KS5xdWVyeVNlbGVjdG9yQWxsKGUpKX1mdW5jdGlvbiBiKGUsdCl7cmV0dXJuIGUuY2xhc3NMaXN0LmNvbnRhaW5zKHQpfWZ1bmN0aW9uIHkoZSl7ZSgpfWZ1bmN0aW9uIGMoZSl7cmV0dXJuISghZXx8IS9wcmUvaS50ZXN0KGUubm9kZU5hbWUpKSYmKCEhZS5oYXNBdHRyaWJ1dGUoXCJkYXRhLWxpbmVcIil8fCEoIWUuaWR8fCFQcmlzbS51dGlsLmlzQWN0aXZlKGUscykpKX1mdW5jdGlvbiBkKHUsZSxjKXt2YXIgdD0oZT1cInN0cmluZ1wiPT10eXBlb2YgZT9lOnUuZ2V0QXR0cmlidXRlKFwiZGF0YS1saW5lXCIpfHxcIlwiKS5yZXBsYWNlKC9cXHMrL2csXCJcIikuc3BsaXQoXCIsXCIpLmZpbHRlcihCb29sZWFuKSxkPSt1LmdldEF0dHJpYnV0ZShcImRhdGEtbGluZS1vZmZzZXRcIil8fDAsZj0oYSgpP3BhcnNlSW50OnBhcnNlRmxvYXQpKGdldENvbXB1dGVkU3R5bGUodSkubGluZUhlaWdodCkscD1QcmlzbS51dGlsLmlzQWN0aXZlKHUsbyksbj11LnF1ZXJ5U2VsZWN0b3IoXCJjb2RlXCIpLGg9cD91Om58fHUsbT1bXSxnPW4mJmghPW4/ZnVuY3Rpb24oZSx0KXt2YXIgbj1nZXRDb21wdXRlZFN0eWxlKGUpLGk9Z2V0Q29tcHV0ZWRTdHlsZSh0KTtmdW5jdGlvbiByKGUpe3JldHVybitlLnN1YnN0cigwLGUubGVuZ3RoLTIpfXJldHVybiB0Lm9mZnNldFRvcCtyKGkuYm9yZGVyVG9wV2lkdGgpK3IoaS5wYWRkaW5nVG9wKS1yKG4ucGFkZGluZ1RvcCl9KHUsbik6MDt0LmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zcGxpdChcIi1cIiksbj0rdFswXSxpPSt0WzFdfHxuLHI9dS5xdWVyeVNlbGVjdG9yKCcubGluZS1oaWdobGlnaHRbZGF0YS1yYW5nZT1cIicrZSsnXCJdJyl8fGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aWYobS5wdXNoKGZ1bmN0aW9uKCl7ci5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKSxyLnNldEF0dHJpYnV0ZShcImRhdGEtcmFuZ2VcIixlKSxyLmNsYXNzTmFtZT0oY3x8XCJcIikrXCIgbGluZS1oaWdobGlnaHRcIn0pLHAmJlByaXNtLnBsdWdpbnMubGluZU51bWJlcnMpe3ZhciBvPVByaXNtLnBsdWdpbnMubGluZU51bWJlcnMuZ2V0TGluZSh1LG4pLHM9UHJpc20ucGx1Z2lucy5saW5lTnVtYmVycy5nZXRMaW5lKHUsaSk7aWYobyl7dmFyIGE9by5vZmZzZXRUb3ArZytcInB4XCI7bS5wdXNoKGZ1bmN0aW9uKCl7ci5zdHlsZS50b3A9YX0pfWlmKHMpe3ZhciBsPXMub2Zmc2V0VG9wLW8ub2Zmc2V0VG9wK3Mub2Zmc2V0SGVpZ2h0K1wicHhcIjttLnB1c2goZnVuY3Rpb24oKXtyLnN0eWxlLmhlaWdodD1sfSl9fWVsc2UgbS5wdXNoKGZ1bmN0aW9uKCl7ci5zZXRBdHRyaWJ1dGUoXCJkYXRhLXN0YXJ0XCIsU3RyaW5nKG4pKSxuPGkmJnIuc2V0QXR0cmlidXRlKFwiZGF0YS1lbmRcIixTdHJpbmcoaSkpLHIuc3R5bGUudG9wPShuLWQtMSkqZitnK1wicHhcIixyLnRleHRDb250ZW50PW5ldyBBcnJheShpLW4rMikuam9pbihcIiBcXG5cIil9KTttLnB1c2goZnVuY3Rpb24oKXtoLmFwcGVuZENoaWxkKHIpfSl9KTt2YXIgaT11LmlkO2lmKHAmJlByaXNtLnV0aWwuaXNBY3RpdmUodSxzKSYmaSl7Yih1LHMpfHxtLnB1c2goZnVuY3Rpb24oKXt1LmNsYXNzTGlzdC5hZGQocyl9KTt2YXIgcj1wYXJzZUludCh1LmdldEF0dHJpYnV0ZShcImRhdGEtc3RhcnRcIil8fFwiMVwiKTt2KFwiLmxpbmUtbnVtYmVycy1yb3dzID4gc3BhblwiLHUpLmZvckVhY2goZnVuY3Rpb24oZSx0KXt2YXIgbj10K3I7ZS5vbmNsaWNrPWZ1bmN0aW9uKCl7dmFyIGU9aStcIi5cIituO2w9ITEsbG9jYXRpb24uaGFzaD1lLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtsPSEwfSwxKX19KX1yZXR1cm4gZnVuY3Rpb24oKXttLmZvckVhY2goeSl9fWZ1bmN0aW9uIGYoKXt2YXIgZT1sb2NhdGlvbi5oYXNoLnNsaWNlKDEpO3YoXCIudGVtcG9yYXJ5LmxpbmUtaGlnaGxpZ2h0XCIpLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpfSk7dmFyIHQ9KGUubWF0Y2goL1xcLihbXFxkLC1dKykkLyl8fFssXCJcIl0pWzFdO2lmKHQmJiFkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKSl7dmFyIG49ZS5zbGljZSgwLGUubGFzdEluZGV4T2YoXCIuXCIpKSxpPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG4pO2lmKGkpaS5oYXNBdHRyaWJ1dGUoXCJkYXRhLWxpbmVcIil8fGkuc2V0QXR0cmlidXRlKFwiZGF0YS1saW5lXCIsXCJcIiksZChpLHQsXCJ0ZW1wb3JhcnkgXCIpKCksbCYmZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50ZW1wb3JhcnkubGluZS1oaWdobGlnaHRcIikuc2Nyb2xsSW50b1ZpZXcoKX19fSgpO1xuIWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGYuUHJpc20mJnNlbGYuZG9jdW1lbnQpe3ZhciBvPVwibGluZS1udW1iZXJzXCIsYT0vXFxuKD8hJCkvZyxlPVByaXNtLnBsdWdpbnMubGluZU51bWJlcnM9e2dldExpbmU6ZnVuY3Rpb24oZSxuKXtpZihcIlBSRVwiPT09ZS50YWdOYW1lJiZlLmNsYXNzTGlzdC5jb250YWlucyhvKSl7dmFyIHQ9ZS5xdWVyeVNlbGVjdG9yKFwiLmxpbmUtbnVtYmVycy1yb3dzXCIpO2lmKHQpe3ZhciBpPXBhcnNlSW50KGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1zdGFydFwiKSwxMCl8fDEscj1pKyh0LmNoaWxkcmVuLmxlbmd0aC0xKTtuPGkmJihuPWkpLHI8biYmKG49cik7dmFyIHM9bi1pO3JldHVybiB0LmNoaWxkcmVuW3NdfX19LHJlc2l6ZTpmdW5jdGlvbihlKXt1KFtlXSl9LGFzc3VtZVZpZXdwb3J0SW5kZXBlbmRlbmNlOiEwfSx0PWZ1bmN0aW9uKGUpe3JldHVybiBlP3dpbmRvdy5nZXRDb21wdXRlZFN0eWxlP2dldENvbXB1dGVkU3R5bGUoZSk6ZS5jdXJyZW50U3R5bGV8fG51bGw6bnVsbH0sbj12b2lkIDA7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIixmdW5jdGlvbigpe2UuYXNzdW1lVmlld3BvcnRJbmRlcGVuZGVuY2UmJm49PT13aW5kb3cuaW5uZXJXaWR0aHx8KG49d2luZG93LmlubmVyV2lkdGgsdShBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwicHJlLlwiK28pKSkpfSksUHJpc20uaG9va3MuYWRkKFwiY29tcGxldGVcIixmdW5jdGlvbihlKXtpZihlLmNvZGUpe3ZhciBuPWUuZWxlbWVudCx0PW4ucGFyZW50Tm9kZTtpZih0JiYvcHJlL2kudGVzdCh0Lm5vZGVOYW1lKSYmIW4ucXVlcnlTZWxlY3RvcihcIi5saW5lLW51bWJlcnMtcm93c1wiKSYmUHJpc20udXRpbC5pc0FjdGl2ZShuLG8pKXtuLmNsYXNzTGlzdC5yZW1vdmUobyksdC5jbGFzc0xpc3QuYWRkKG8pO3ZhciBpLHI9ZS5jb2RlLm1hdGNoKGEpLHM9cj9yLmxlbmd0aCsxOjEsbD1uZXcgQXJyYXkocysxKS5qb2luKFwiPHNwYW4+PC9zcGFuPlwiKTsoaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSkuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIixcInRydWVcIiksaS5jbGFzc05hbWU9XCJsaW5lLW51bWJlcnMtcm93c1wiLGkuaW5uZXJIVE1MPWwsdC5oYXNBdHRyaWJ1dGUoXCJkYXRhLXN0YXJ0XCIpJiYodC5zdHlsZS5jb3VudGVyUmVzZXQ9XCJsaW5lbnVtYmVyIFwiKyhwYXJzZUludCh0LmdldEF0dHJpYnV0ZShcImRhdGEtc3RhcnRcIiksMTApLTEpKSxlLmVsZW1lbnQuYXBwZW5kQ2hpbGQoaSksdShbdF0pLFByaXNtLmhvb2tzLnJ1bihcImxpbmUtbnVtYmVyc1wiLGUpfX19KSxQcmlzbS5ob29rcy5hZGQoXCJsaW5lLW51bWJlcnNcIixmdW5jdGlvbihlKXtlLnBsdWdpbnM9ZS5wbHVnaW5zfHx7fSxlLnBsdWdpbnMubGluZU51bWJlcnM9ITB9KX1mdW5jdGlvbiB1KGUpe2lmKDAhPShlPWUuZmlsdGVyKGZ1bmN0aW9uKGUpe3ZhciBuPXQoZSlbXCJ3aGl0ZS1zcGFjZVwiXTtyZXR1cm5cInByZS13cmFwXCI9PT1ufHxcInByZS1saW5lXCI9PT1ufSkpLmxlbmd0aCl7dmFyIG49ZS5tYXAoZnVuY3Rpb24oZSl7dmFyIG49ZS5xdWVyeVNlbGVjdG9yKFwiY29kZVwiKSx0PWUucXVlcnlTZWxlY3RvcihcIi5saW5lLW51bWJlcnMtcm93c1wiKTtpZihuJiZ0KXt2YXIgaT1lLnF1ZXJ5U2VsZWN0b3IoXCIubGluZS1udW1iZXJzLXNpemVyXCIpLHI9bi50ZXh0Q29udGVudC5zcGxpdChhKTtpfHwoKGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIikpLmNsYXNzTmFtZT1cImxpbmUtbnVtYmVycy1zaXplclwiLG4uYXBwZW5kQ2hpbGQoaSkpLGkuaW5uZXJIVE1MPVwiMFwiLGkuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7dmFyIHM9aS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7cmV0dXJuIGkuaW5uZXJIVE1MPVwiXCIse2VsZW1lbnQ6ZSxsaW5lczpyLGxpbmVIZWlnaHRzOltdLG9uZUxpbmVySGVpZ2h0OnMsc2l6ZXI6aX19fSkuZmlsdGVyKEJvb2xlYW4pO24uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgaT1lLnNpemVyLG49ZS5saW5lcyxyPWUubGluZUhlaWdodHMscz1lLm9uZUxpbmVySGVpZ2h0O3Jbbi5sZW5ndGgtMV09dm9pZCAwLG4uZm9yRWFjaChmdW5jdGlvbihlLG4pe2lmKGUmJjE8ZS5sZW5ndGgpe3ZhciB0PWkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIikpO3Quc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsdC50ZXh0Q29udGVudD1lfWVsc2UgcltuXT1zfSl9KSxuLmZvckVhY2goZnVuY3Rpb24oZSl7Zm9yKHZhciBuPWUuc2l6ZXIsdD1lLmxpbmVIZWlnaHRzLGk9MCxyPTA7cjx0Lmxlbmd0aDtyKyspdm9pZCAwPT09dFtyXSYmKHRbcl09bi5jaGlsZHJlbltpKytdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCl9KSxuLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIG49ZS5zaXplcix0PWUuZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmxpbmUtbnVtYmVycy1yb3dzXCIpO24uc3R5bGUuZGlzcGxheT1cIm5vbmVcIixuLmlubmVySFRNTD1cIlwiLGUubGluZUhlaWdodHMuZm9yRWFjaChmdW5jdGlvbihlLG4pe3QuY2hpbGRyZW5bbl0uc3R5bGUuaGVpZ2h0PWUrXCJweFwifSl9KX19fSgpO1xuIiwgIlwidXNlIHN0cmljdFwiO1xuXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBQb2x5ZmlsbEV2ZW50ID0gZXZlbnRDb25zdHJ1Y3RvcigpO1xuXG4gIGZ1bmN0aW9uIGV2ZW50Q29uc3RydWN0b3IoKSB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cuQ3VzdG9tRXZlbnQgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHdpbmRvdy5DdXN0b21FdmVudDtcbiAgICAvLyBJRTw9OSBTdXBwb3J0XG4gICAgZnVuY3Rpb24gQ3VzdG9tRXZlbnQoZXZlbnQsIHBhcmFtcykge1xuICAgICAgcGFyYW1zID0gcGFyYW1zIHx8IHtidWJibGVzOiBmYWxzZSwgY2FuY2VsYWJsZTogZmFsc2UsIGRldGFpbDogdW5kZWZpbmVkfTtcbiAgICAgIHZhciBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnQ3VzdG9tRXZlbnQnKTtcbiAgICAgIGV2dC5pbml0Q3VzdG9tRXZlbnQoZXZlbnQsIHBhcmFtcy5idWJibGVzLCBwYXJhbXMuY2FuY2VsYWJsZSwgcGFyYW1zLmRldGFpbCk7XG4gICAgICByZXR1cm4gZXZ0O1xuICAgIH1cbiAgICBDdXN0b21FdmVudC5wcm90b3R5cGUgPSB3aW5kb3cuRXZlbnQucHJvdG90eXBlO1xuICAgIHJldHVybiBDdXN0b21FdmVudDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJ1aWxkSGlkZGVuSW5wdXQobmFtZSwgdmFsdWUpIHtcbiAgICB2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgaW5wdXQudHlwZSA9IFwiaGlkZGVuXCI7XG4gICAgaW5wdXQubmFtZSA9IG5hbWU7XG4gICAgaW5wdXQudmFsdWUgPSB2YWx1ZTtcbiAgICByZXR1cm4gaW5wdXQ7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVDbGljayhlbGVtZW50LCB0YXJnZXRNb2RpZmllcktleSkge1xuICAgIHZhciB0byA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS10b1wiKSxcbiAgICAgICAgbWV0aG9kID0gYnVpbGRIaWRkZW5JbnB1dChcIl9tZXRob2RcIiwgZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLW1ldGhvZFwiKSksXG4gICAgICAgIGNzcmYgPSBidWlsZEhpZGRlbklucHV0KFwiX2NzcmZfdG9rZW5cIiwgZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNzcmZcIikpLFxuICAgICAgICBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZvcm1cIiksXG4gICAgICAgIHN1Ym1pdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSxcbiAgICAgICAgdGFyZ2V0ID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJ0YXJnZXRcIik7XG5cbiAgICBmb3JtLm1ldGhvZCA9IChlbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtbWV0aG9kXCIpID09PSBcImdldFwiKSA/IFwiZ2V0XCIgOiBcInBvc3RcIjtcbiAgICBmb3JtLmFjdGlvbiA9IHRvO1xuICAgIGZvcm0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXG4gICAgaWYgKHRhcmdldCkgZm9ybS50YXJnZXQgPSB0YXJnZXQ7XG4gICAgZWxzZSBpZiAodGFyZ2V0TW9kaWZpZXJLZXkpIGZvcm0udGFyZ2V0ID0gXCJfYmxhbmtcIjtcblxuICAgIGZvcm0uYXBwZW5kQ2hpbGQoY3NyZik7XG4gICAgZm9ybS5hcHBlbmRDaGlsZChtZXRob2QpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZm9ybSk7XG5cbiAgICAvLyBJbnNlcnQgYSBidXR0b24gYW5kIGNsaWNrIGl0IGluc3RlYWQgb2YgdXNpbmcgYGZvcm0uc3VibWl0YFxuICAgIC8vIGJlY2F1c2UgdGhlIGBzdWJtaXRgIGZ1bmN0aW9uIGRvZXMgbm90IGVtaXQgYSBgc3VibWl0YCBldmVudC5cbiAgICBzdWJtaXQudHlwZSA9IFwic3VibWl0XCI7XG4gICAgZm9ybS5hcHBlbmRDaGlsZChzdWJtaXQpO1xuICAgIHN1Ym1pdC5jbGljaygpO1xuICB9XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihlKSB7XG4gICAgdmFyIGVsZW1lbnQgPSBlLnRhcmdldDtcbiAgICBpZiAoZS5kZWZhdWx0UHJldmVudGVkKSByZXR1cm47XG5cbiAgICB3aGlsZSAoZWxlbWVudCAmJiBlbGVtZW50LmdldEF0dHJpYnV0ZSkge1xuICAgICAgdmFyIHBob2VuaXhMaW5rRXZlbnQgPSBuZXcgUG9seWZpbGxFdmVudCgncGhvZW5peC5saW5rLmNsaWNrJywge1xuICAgICAgICBcImJ1YmJsZXNcIjogdHJ1ZSwgXCJjYW5jZWxhYmxlXCI6IHRydWVcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIWVsZW1lbnQuZGlzcGF0Y2hFdmVudChwaG9lbml4TGlua0V2ZW50KSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1tZXRob2RcIikpIHtcbiAgICAgICAgaGFuZGxlQ2xpY2soZWxlbWVudCwgZS5tZXRhS2V5IHx8IGUuc2hpZnRLZXkpO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgICB9XG4gICAgfVxuICB9LCBmYWxzZSk7XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Bob2VuaXgubGluay5jbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIG1lc3NhZ2UgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNvbmZpcm1cIik7XG4gICAgaWYobWVzc2FnZSAmJiAhd2luZG93LmNvbmZpcm0obWVzc2FnZSkpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH0sIGZhbHNlKTtcbn0pKCk7XG4iLCAiLy8gd3JhcHMgdmFsdWUgaW4gY2xvc3VyZSBvciByZXR1cm5zIGNsb3N1cmVcbmV4cG9ydCBsZXQgY2xvc3VyZSA9ICh2YWx1ZSkgPT4ge1xuICBpZih0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIil7XG4gICAgcmV0dXJuIHZhbHVlXG4gIH0gZWxzZSB7XG4gICAgbGV0IGNsb3N1cmUgPSBmdW5jdGlvbiAoKXsgcmV0dXJuIHZhbHVlIH1cbiAgICByZXR1cm4gY2xvc3VyZVxuICB9XG59XG4iLCAiZXhwb3J0IGNvbnN0IGdsb2JhbFNlbGYgPSB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiBudWxsXG5leHBvcnQgY29uc3QgcGh4V2luZG93ID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IG51bGxcbmV4cG9ydCBjb25zdCBnbG9iYWwgPSBnbG9iYWxTZWxmIHx8IHBoeFdpbmRvdyB8fCBnbG9iYWxcbmV4cG9ydCBjb25zdCBERUZBVUxUX1ZTTiA9IFwiMi4wLjBcIlxuZXhwb3J0IGNvbnN0IFNPQ0tFVF9TVEFURVMgPSB7Y29ubmVjdGluZzogMCwgb3BlbjogMSwgY2xvc2luZzogMiwgY2xvc2VkOiAzfVxuZXhwb3J0IGNvbnN0IERFRkFVTFRfVElNRU9VVCA9IDEwMDAwXG5leHBvcnQgY29uc3QgV1NfQ0xPU0VfTk9STUFMID0gMTAwMFxuZXhwb3J0IGNvbnN0IENIQU5ORUxfU1RBVEVTID0ge1xuICBjbG9zZWQ6IFwiY2xvc2VkXCIsXG4gIGVycm9yZWQ6IFwiZXJyb3JlZFwiLFxuICBqb2luZWQ6IFwiam9pbmVkXCIsXG4gIGpvaW5pbmc6IFwiam9pbmluZ1wiLFxuICBsZWF2aW5nOiBcImxlYXZpbmdcIixcbn1cbmV4cG9ydCBjb25zdCBDSEFOTkVMX0VWRU5UUyA9IHtcbiAgY2xvc2U6IFwicGh4X2Nsb3NlXCIsXG4gIGVycm9yOiBcInBoeF9lcnJvclwiLFxuICBqb2luOiBcInBoeF9qb2luXCIsXG4gIHJlcGx5OiBcInBoeF9yZXBseVwiLFxuICBsZWF2ZTogXCJwaHhfbGVhdmVcIlxufVxuXG5leHBvcnQgY29uc3QgVFJBTlNQT1JUUyA9IHtcbiAgbG9uZ3BvbGw6IFwibG9uZ3BvbGxcIixcbiAgd2Vic29ja2V0OiBcIndlYnNvY2tldFwiXG59XG5leHBvcnQgY29uc3QgWEhSX1NUQVRFUyA9IHtcbiAgY29tcGxldGU6IDRcbn1cbiIsICIvKipcbiAqIEluaXRpYWxpemVzIHRoZSBQdXNoXG4gKiBAcGFyYW0ge0NoYW5uZWx9IGNoYW5uZWwgLSBUaGUgQ2hhbm5lbFxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50IC0gVGhlIGV2ZW50LCBmb3IgZXhhbXBsZSBgXCJwaHhfam9pblwiYFxuICogQHBhcmFtIHtPYmplY3R9IHBheWxvYWQgLSBUaGUgcGF5bG9hZCwgZm9yIGV4YW1wbGUgYHt1c2VyX2lkOiAxMjN9YFxuICogQHBhcmFtIHtudW1iZXJ9IHRpbWVvdXQgLSBUaGUgcHVzaCB0aW1lb3V0IGluIG1pbGxpc2Vjb25kc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQdXNoIHtcbiAgY29uc3RydWN0b3IoY2hhbm5lbCwgZXZlbnQsIHBheWxvYWQsIHRpbWVvdXQpe1xuICAgIHRoaXMuY2hhbm5lbCA9IGNoYW5uZWxcbiAgICB0aGlzLmV2ZW50ID0gZXZlbnRcbiAgICB0aGlzLnBheWxvYWQgPSBwYXlsb2FkIHx8IGZ1bmN0aW9uICgpeyByZXR1cm4ge30gfVxuICAgIHRoaXMucmVjZWl2ZWRSZXNwID0gbnVsbFxuICAgIHRoaXMudGltZW91dCA9IHRpbWVvdXRcbiAgICB0aGlzLnRpbWVvdXRUaW1lciA9IG51bGxcbiAgICB0aGlzLnJlY0hvb2tzID0gW11cbiAgICB0aGlzLnNlbnQgPSBmYWxzZVxuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lb3V0XG4gICAqL1xuICByZXNlbmQodGltZW91dCl7XG4gICAgdGhpcy50aW1lb3V0ID0gdGltZW91dFxuICAgIHRoaXMucmVzZXQoKVxuICAgIHRoaXMuc2VuZCgpXG4gIH1cblxuICAvKipcbiAgICpcbiAgICovXG4gIHNlbmQoKXtcbiAgICBpZih0aGlzLmhhc1JlY2VpdmVkKFwidGltZW91dFwiKSl7IHJldHVybiB9XG4gICAgdGhpcy5zdGFydFRpbWVvdXQoKVxuICAgIHRoaXMuc2VudCA9IHRydWVcbiAgICB0aGlzLmNoYW5uZWwuc29ja2V0LnB1c2goe1xuICAgICAgdG9waWM6IHRoaXMuY2hhbm5lbC50b3BpYyxcbiAgICAgIGV2ZW50OiB0aGlzLmV2ZW50LFxuICAgICAgcGF5bG9hZDogdGhpcy5wYXlsb2FkKCksXG4gICAgICByZWY6IHRoaXMucmVmLFxuICAgICAgam9pbl9yZWY6IHRoaXMuY2hhbm5lbC5qb2luUmVmKClcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gc3RhdHVzXG4gICAqIEBwYXJhbSB7Kn0gY2FsbGJhY2tcbiAgICovXG4gIHJlY2VpdmUoc3RhdHVzLCBjYWxsYmFjayl7XG4gICAgaWYodGhpcy5oYXNSZWNlaXZlZChzdGF0dXMpKXtcbiAgICAgIGNhbGxiYWNrKHRoaXMucmVjZWl2ZWRSZXNwLnJlc3BvbnNlKVxuICAgIH1cblxuICAgIHRoaXMucmVjSG9va3MucHVzaCh7c3RhdHVzLCBjYWxsYmFja30pXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcmVzZXQoKXtcbiAgICB0aGlzLmNhbmNlbFJlZkV2ZW50KClcbiAgICB0aGlzLnJlZiA9IG51bGxcbiAgICB0aGlzLnJlZkV2ZW50ID0gbnVsbFxuICAgIHRoaXMucmVjZWl2ZWRSZXNwID0gbnVsbFxuICAgIHRoaXMuc2VudCA9IGZhbHNlXG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIG1hdGNoUmVjZWl2ZSh7c3RhdHVzLCByZXNwb25zZSwgX3JlZn0pe1xuICAgIHRoaXMucmVjSG9va3MuZmlsdGVyKGggPT4gaC5zdGF0dXMgPT09IHN0YXR1cylcbiAgICAgIC5mb3JFYWNoKGggPT4gaC5jYWxsYmFjayhyZXNwb25zZSkpXG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNhbmNlbFJlZkV2ZW50KCl7XG4gICAgaWYoIXRoaXMucmVmRXZlbnQpeyByZXR1cm4gfVxuICAgIHRoaXMuY2hhbm5lbC5vZmYodGhpcy5yZWZFdmVudClcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY2FuY2VsVGltZW91dCgpe1xuICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRUaW1lcilcbiAgICB0aGlzLnRpbWVvdXRUaW1lciA9IG51bGxcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RhcnRUaW1lb3V0KCl7XG4gICAgaWYodGhpcy50aW1lb3V0VGltZXIpeyB0aGlzLmNhbmNlbFRpbWVvdXQoKSB9XG4gICAgdGhpcy5yZWYgPSB0aGlzLmNoYW5uZWwuc29ja2V0Lm1ha2VSZWYoKVxuICAgIHRoaXMucmVmRXZlbnQgPSB0aGlzLmNoYW5uZWwucmVwbHlFdmVudE5hbWUodGhpcy5yZWYpXG5cbiAgICB0aGlzLmNoYW5uZWwub24odGhpcy5yZWZFdmVudCwgcGF5bG9hZCA9PiB7XG4gICAgICB0aGlzLmNhbmNlbFJlZkV2ZW50KClcbiAgICAgIHRoaXMuY2FuY2VsVGltZW91dCgpXG4gICAgICB0aGlzLnJlY2VpdmVkUmVzcCA9IHBheWxvYWRcbiAgICAgIHRoaXMubWF0Y2hSZWNlaXZlKHBheWxvYWQpXG4gICAgfSlcblxuICAgIHRoaXMudGltZW91dFRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnRyaWdnZXIoXCJ0aW1lb3V0XCIsIHt9KVxuICAgIH0sIHRoaXMudGltZW91dClcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaGFzUmVjZWl2ZWQoc3RhdHVzKXtcbiAgICByZXR1cm4gdGhpcy5yZWNlaXZlZFJlc3AgJiYgdGhpcy5yZWNlaXZlZFJlc3Auc3RhdHVzID09PSBzdGF0dXNcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdHJpZ2dlcihzdGF0dXMsIHJlc3BvbnNlKXtcbiAgICB0aGlzLmNoYW5uZWwudHJpZ2dlcih0aGlzLnJlZkV2ZW50LCB7c3RhdHVzLCByZXNwb25zZX0pXG4gIH1cbn1cbiIsICIvKipcbiAqXG4gKiBDcmVhdGVzIGEgdGltZXIgdGhhdCBhY2NlcHRzIGEgYHRpbWVyQ2FsY2AgZnVuY3Rpb24gdG8gcGVyZm9ybVxuICogY2FsY3VsYXRlZCB0aW1lb3V0IHJldHJpZXMsIHN1Y2ggYXMgZXhwb25lbnRpYWwgYmFja29mZi5cbiAqXG4gKiBAZXhhbXBsZVxuICogbGV0IHJlY29ubmVjdFRpbWVyID0gbmV3IFRpbWVyKCgpID0+IHRoaXMuY29ubmVjdCgpLCBmdW5jdGlvbih0cmllcyl7XG4gKiAgIHJldHVybiBbMTAwMCwgNTAwMCwgMTAwMDBdW3RyaWVzIC0gMV0gfHwgMTAwMDBcbiAqIH0pXG4gKiByZWNvbm5lY3RUaW1lci5zY2hlZHVsZVRpbWVvdXQoKSAvLyBmaXJlcyBhZnRlciAxMDAwXG4gKiByZWNvbm5lY3RUaW1lci5zY2hlZHVsZVRpbWVvdXQoKSAvLyBmaXJlcyBhZnRlciA1MDAwXG4gKiByZWNvbm5lY3RUaW1lci5yZXNldCgpXG4gKiByZWNvbm5lY3RUaW1lci5zY2hlZHVsZVRpbWVvdXQoKSAvLyBmaXJlcyBhZnRlciAxMDAwXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRpbWVyQ2FsY1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUaW1lciB7XG4gIGNvbnN0cnVjdG9yKGNhbGxiYWNrLCB0aW1lckNhbGMpe1xuICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFja1xuICAgIHRoaXMudGltZXJDYWxjID0gdGltZXJDYWxjXG4gICAgdGhpcy50aW1lciA9IG51bGxcbiAgICB0aGlzLnRyaWVzID0gMFxuICB9XG5cbiAgcmVzZXQoKXtcbiAgICB0aGlzLnRyaWVzID0gMFxuICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKVxuICB9XG5cbiAgLyoqXG4gICAqIENhbmNlbHMgYW55IHByZXZpb3VzIHNjaGVkdWxlVGltZW91dCBhbmQgc2NoZWR1bGVzIGNhbGxiYWNrXG4gICAqL1xuICBzY2hlZHVsZVRpbWVvdXQoKXtcbiAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcilcblxuICAgIHRoaXMudGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMudHJpZXMgPSB0aGlzLnRyaWVzICsgMVxuICAgICAgdGhpcy5jYWxsYmFjaygpXG4gICAgfSwgdGhpcy50aW1lckNhbGModGhpcy50cmllcyArIDEpKVxuICB9XG59XG4iLCAiaW1wb3J0IHtjbG9zdXJlfSBmcm9tIFwiLi91dGlsc1wiXG5pbXBvcnQge1xuICBDSEFOTkVMX0VWRU5UUyxcbiAgQ0hBTk5FTF9TVEFURVMsXG59IGZyb20gXCIuL2NvbnN0YW50c1wiXG5cbmltcG9ydCBQdXNoIGZyb20gXCIuL3B1c2hcIlxuaW1wb3J0IFRpbWVyIGZyb20gXCIuL3RpbWVyXCJcblxuLyoqXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRvcGljXG4gKiBAcGFyYW0geyhPYmplY3R8ZnVuY3Rpb24pfSBwYXJhbXNcbiAqIEBwYXJhbSB7U29ja2V0fSBzb2NrZXRcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2hhbm5lbCB7XG4gIGNvbnN0cnVjdG9yKHRvcGljLCBwYXJhbXMsIHNvY2tldCl7XG4gICAgdGhpcy5zdGF0ZSA9IENIQU5ORUxfU1RBVEVTLmNsb3NlZFxuICAgIHRoaXMudG9waWMgPSB0b3BpY1xuICAgIHRoaXMucGFyYW1zID0gY2xvc3VyZShwYXJhbXMgfHwge30pXG4gICAgdGhpcy5zb2NrZXQgPSBzb2NrZXRcbiAgICB0aGlzLmJpbmRpbmdzID0gW11cbiAgICB0aGlzLmJpbmRpbmdSZWYgPSAwXG4gICAgdGhpcy50aW1lb3V0ID0gdGhpcy5zb2NrZXQudGltZW91dFxuICAgIHRoaXMuam9pbmVkT25jZSA9IGZhbHNlXG4gICAgdGhpcy5qb2luUHVzaCA9IG5ldyBQdXNoKHRoaXMsIENIQU5ORUxfRVZFTlRTLmpvaW4sIHRoaXMucGFyYW1zLCB0aGlzLnRpbWVvdXQpXG4gICAgdGhpcy5wdXNoQnVmZmVyID0gW11cbiAgICB0aGlzLnN0YXRlQ2hhbmdlUmVmcyA9IFtdXG5cbiAgICB0aGlzLnJlam9pblRpbWVyID0gbmV3IFRpbWVyKCgpID0+IHtcbiAgICAgIGlmKHRoaXMuc29ja2V0LmlzQ29ubmVjdGVkKCkpeyB0aGlzLnJlam9pbigpIH1cbiAgICB9LCB0aGlzLnNvY2tldC5yZWpvaW5BZnRlck1zKVxuICAgIHRoaXMuc3RhdGVDaGFuZ2VSZWZzLnB1c2godGhpcy5zb2NrZXQub25FcnJvcigoKSA9PiB0aGlzLnJlam9pblRpbWVyLnJlc2V0KCkpKVxuICAgIHRoaXMuc3RhdGVDaGFuZ2VSZWZzLnB1c2godGhpcy5zb2NrZXQub25PcGVuKCgpID0+IHtcbiAgICAgIHRoaXMucmVqb2luVGltZXIucmVzZXQoKVxuICAgICAgaWYodGhpcy5pc0Vycm9yZWQoKSl7IHRoaXMucmVqb2luKCkgfVxuICAgIH0pXG4gICAgKVxuICAgIHRoaXMuam9pblB1c2gucmVjZWl2ZShcIm9rXCIsICgpID0+IHtcbiAgICAgIHRoaXMuc3RhdGUgPSBDSEFOTkVMX1NUQVRFUy5qb2luZWRcbiAgICAgIHRoaXMucmVqb2luVGltZXIucmVzZXQoKVxuICAgICAgdGhpcy5wdXNoQnVmZmVyLmZvckVhY2gocHVzaEV2ZW50ID0+IHB1c2hFdmVudC5zZW5kKCkpXG4gICAgICB0aGlzLnB1c2hCdWZmZXIgPSBbXVxuICAgIH0pXG4gICAgdGhpcy5qb2luUHVzaC5yZWNlaXZlKFwiZXJyb3JcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5zdGF0ZSA9IENIQU5ORUxfU1RBVEVTLmVycm9yZWRcbiAgICAgIGlmKHRoaXMuc29ja2V0LmlzQ29ubmVjdGVkKCkpeyB0aGlzLnJlam9pblRpbWVyLnNjaGVkdWxlVGltZW91dCgpIH1cbiAgICB9KVxuICAgIHRoaXMub25DbG9zZSgoKSA9PiB7XG4gICAgICB0aGlzLnJlam9pblRpbWVyLnJlc2V0KClcbiAgICAgIGlmKHRoaXMuc29ja2V0Lmhhc0xvZ2dlcigpKSB0aGlzLnNvY2tldC5sb2coXCJjaGFubmVsXCIsIGBjbG9zZSAke3RoaXMudG9waWN9ICR7dGhpcy5qb2luUmVmKCl9YClcbiAgICAgIHRoaXMuc3RhdGUgPSBDSEFOTkVMX1NUQVRFUy5jbG9zZWRcbiAgICAgIHRoaXMuc29ja2V0LnJlbW92ZSh0aGlzKVxuICAgIH0pXG4gICAgdGhpcy5vbkVycm9yKHJlYXNvbiA9PiB7XG4gICAgICBpZih0aGlzLnNvY2tldC5oYXNMb2dnZXIoKSkgdGhpcy5zb2NrZXQubG9nKFwiY2hhbm5lbFwiLCBgZXJyb3IgJHt0aGlzLnRvcGljfWAsIHJlYXNvbilcbiAgICAgIGlmKHRoaXMuaXNKb2luaW5nKCkpeyB0aGlzLmpvaW5QdXNoLnJlc2V0KCkgfVxuICAgICAgdGhpcy5zdGF0ZSA9IENIQU5ORUxfU1RBVEVTLmVycm9yZWRcbiAgICAgIGlmKHRoaXMuc29ja2V0LmlzQ29ubmVjdGVkKCkpeyB0aGlzLnJlam9pblRpbWVyLnNjaGVkdWxlVGltZW91dCgpIH1cbiAgICB9KVxuICAgIHRoaXMuam9pblB1c2gucmVjZWl2ZShcInRpbWVvdXRcIiwgKCkgPT4ge1xuICAgICAgaWYodGhpcy5zb2NrZXQuaGFzTG9nZ2VyKCkpIHRoaXMuc29ja2V0LmxvZyhcImNoYW5uZWxcIiwgYHRpbWVvdXQgJHt0aGlzLnRvcGljfSAoJHt0aGlzLmpvaW5SZWYoKX0pYCwgdGhpcy5qb2luUHVzaC50aW1lb3V0KVxuICAgICAgbGV0IGxlYXZlUHVzaCA9IG5ldyBQdXNoKHRoaXMsIENIQU5ORUxfRVZFTlRTLmxlYXZlLCBjbG9zdXJlKHt9KSwgdGhpcy50aW1lb3V0KVxuICAgICAgbGVhdmVQdXNoLnNlbmQoKVxuICAgICAgdGhpcy5zdGF0ZSA9IENIQU5ORUxfU1RBVEVTLmVycm9yZWRcbiAgICAgIHRoaXMuam9pblB1c2gucmVzZXQoKVxuICAgICAgaWYodGhpcy5zb2NrZXQuaXNDb25uZWN0ZWQoKSl7IHRoaXMucmVqb2luVGltZXIuc2NoZWR1bGVUaW1lb3V0KCkgfVxuICAgIH0pXG4gICAgdGhpcy5vbihDSEFOTkVMX0VWRU5UUy5yZXBseSwgKHBheWxvYWQsIHJlZikgPT4ge1xuICAgICAgdGhpcy50cmlnZ2VyKHRoaXMucmVwbHlFdmVudE5hbWUocmVmKSwgcGF5bG9hZClcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIEpvaW4gdGhlIGNoYW5uZWxcbiAgICogQHBhcmFtIHtpbnRlZ2VyfSB0aW1lb3V0XG4gICAqIEByZXR1cm5zIHtQdXNofVxuICAgKi9cbiAgam9pbih0aW1lb3V0ID0gdGhpcy50aW1lb3V0KXtcbiAgICBpZih0aGlzLmpvaW5lZE9uY2Upe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwidHJpZWQgdG8gam9pbiBtdWx0aXBsZSB0aW1lcy4gJ2pvaW4nIGNhbiBvbmx5IGJlIGNhbGxlZCBhIHNpbmdsZSB0aW1lIHBlciBjaGFubmVsIGluc3RhbmNlXCIpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudGltZW91dCA9IHRpbWVvdXRcbiAgICAgIHRoaXMuam9pbmVkT25jZSA9IHRydWVcbiAgICAgIHRoaXMucmVqb2luKClcbiAgICAgIHJldHVybiB0aGlzLmpvaW5QdXNoXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhvb2sgaW50byBjaGFubmVsIGNsb3NlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAqL1xuICBvbkNsb3NlKGNhbGxiYWNrKXtcbiAgICB0aGlzLm9uKENIQU5ORUxfRVZFTlRTLmNsb3NlLCBjYWxsYmFjaylcbiAgfVxuXG4gIC8qKlxuICAgKiBIb29rIGludG8gY2hhbm5lbCBlcnJvcnNcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICovXG4gIG9uRXJyb3IoY2FsbGJhY2spe1xuICAgIHJldHVybiB0aGlzLm9uKENIQU5ORUxfRVZFTlRTLmVycm9yLCByZWFzb24gPT4gY2FsbGJhY2socmVhc29uKSlcbiAgfVxuXG4gIC8qKlxuICAgKiBTdWJzY3JpYmVzIG9uIGNoYW5uZWwgZXZlbnRzXG4gICAqXG4gICAqIFN1YnNjcmlwdGlvbiByZXR1cm5zIGEgcmVmIGNvdW50ZXIsIHdoaWNoIGNhbiBiZSB1c2VkIGxhdGVyIHRvXG4gICAqIHVuc3Vic2NyaWJlIHRoZSBleGFjdCBldmVudCBsaXN0ZW5lclxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBjb25zdCByZWYxID0gY2hhbm5lbC5vbihcImV2ZW50XCIsIGRvX3N0dWZmKVxuICAgKiBjb25zdCByZWYyID0gY2hhbm5lbC5vbihcImV2ZW50XCIsIGRvX290aGVyX3N0dWZmKVxuICAgKiBjaGFubmVsLm9mZihcImV2ZW50XCIsIHJlZjEpXG4gICAqIC8vIFNpbmNlIHVuc3Vic2NyaXB0aW9uLCBkb19zdHVmZiB3b24ndCBmaXJlLFxuICAgKiAvLyB3aGlsZSBkb19vdGhlcl9zdHVmZiB3aWxsIGtlZXAgZmlyaW5nIG9uIHRoZSBcImV2ZW50XCJcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAqIEByZXR1cm5zIHtpbnRlZ2VyfSByZWZcbiAgICovXG4gIG9uKGV2ZW50LCBjYWxsYmFjayl7XG4gICAgbGV0IHJlZiA9IHRoaXMuYmluZGluZ1JlZisrXG4gICAgdGhpcy5iaW5kaW5ncy5wdXNoKHtldmVudCwgcmVmLCBjYWxsYmFja30pXG4gICAgcmV0dXJuIHJlZlxuICB9XG5cbiAgLyoqXG4gICAqIFVuc3Vic2NyaWJlcyBvZmYgb2YgY2hhbm5lbCBldmVudHNcbiAgICpcbiAgICogVXNlIHRoZSByZWYgcmV0dXJuZWQgZnJvbSBhIGNoYW5uZWwub24oKSB0byB1bnN1YnNjcmliZSBvbmVcbiAgICogaGFuZGxlciwgb3IgcGFzcyBub3RoaW5nIGZvciB0aGUgcmVmIHRvIHVuc3Vic2NyaWJlIGFsbFxuICAgKiBoYW5kbGVycyBmb3IgdGhlIGdpdmVuIGV2ZW50LlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiAvLyBVbnN1YnNjcmliZSB0aGUgZG9fc3R1ZmYgaGFuZGxlclxuICAgKiBjb25zdCByZWYxID0gY2hhbm5lbC5vbihcImV2ZW50XCIsIGRvX3N0dWZmKVxuICAgKiBjaGFubmVsLm9mZihcImV2ZW50XCIsIHJlZjEpXG4gICAqXG4gICAqIC8vIFVuc3Vic2NyaWJlIGFsbCBoYW5kbGVycyBmcm9tIGV2ZW50XG4gICAqIGNoYW5uZWwub2ZmKFwiZXZlbnRcIilcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50XG4gICAqIEBwYXJhbSB7aW50ZWdlcn0gcmVmXG4gICAqL1xuICBvZmYoZXZlbnQsIHJlZil7XG4gICAgdGhpcy5iaW5kaW5ncyA9IHRoaXMuYmluZGluZ3MuZmlsdGVyKChiaW5kKSA9PiB7XG4gICAgICByZXR1cm4gIShiaW5kLmV2ZW50ID09PSBldmVudCAmJiAodHlwZW9mIHJlZiA9PT0gXCJ1bmRlZmluZWRcIiB8fCByZWYgPT09IGJpbmQucmVmKSlcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjYW5QdXNoKCl7IHJldHVybiB0aGlzLnNvY2tldC5pc0Nvbm5lY3RlZCgpICYmIHRoaXMuaXNKb2luZWQoKSB9XG5cbiAgLyoqXG4gICAqIFNlbmRzIGEgbWVzc2FnZSBgZXZlbnRgIHRvIHBob2VuaXggd2l0aCB0aGUgcGF5bG9hZCBgcGF5bG9hZGAuXG4gICAqIFBob2VuaXggcmVjZWl2ZXMgdGhpcyBpbiB0aGUgYGhhbmRsZV9pbihldmVudCwgcGF5bG9hZCwgc29ja2V0KWBcbiAgICogZnVuY3Rpb24uIGlmIHBob2VuaXggcmVwbGllcyBvciBpdCB0aW1lcyBvdXQgKGRlZmF1bHQgMTAwMDBtcyksXG4gICAqIHRoZW4gb3B0aW9uYWxseSB0aGUgcmVwbHkgY2FuIGJlIHJlY2VpdmVkLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBjaGFubmVsLnB1c2goXCJldmVudFwiKVxuICAgKiAgIC5yZWNlaXZlKFwib2tcIiwgcGF5bG9hZCA9PiBjb25zb2xlLmxvZyhcInBob2VuaXggcmVwbGllZDpcIiwgcGF5bG9hZCkpXG4gICAqICAgLnJlY2VpdmUoXCJlcnJvclwiLCBlcnIgPT4gY29uc29sZS5sb2coXCJwaG9lbml4IGVycm9yZWRcIiwgZXJyKSlcbiAgICogICAucmVjZWl2ZShcInRpbWVvdXRcIiwgKCkgPT4gY29uc29sZS5sb2coXCJ0aW1lZCBvdXQgcHVzaGluZ1wiKSlcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwYXlsb2FkXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbdGltZW91dF1cbiAgICogQHJldHVybnMge1B1c2h9XG4gICAqL1xuICBwdXNoKGV2ZW50LCBwYXlsb2FkLCB0aW1lb3V0ID0gdGhpcy50aW1lb3V0KXtcbiAgICBwYXlsb2FkID0gcGF5bG9hZCB8fCB7fVxuICAgIGlmKCF0aGlzLmpvaW5lZE9uY2Upe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGB0cmllZCB0byBwdXNoICcke2V2ZW50fScgdG8gJyR7dGhpcy50b3BpY30nIGJlZm9yZSBqb2luaW5nLiBVc2UgY2hhbm5lbC5qb2luKCkgYmVmb3JlIHB1c2hpbmcgZXZlbnRzYClcbiAgICB9XG4gICAgbGV0IHB1c2hFdmVudCA9IG5ldyBQdXNoKHRoaXMsIGV2ZW50LCBmdW5jdGlvbiAoKXsgcmV0dXJuIHBheWxvYWQgfSwgdGltZW91dClcbiAgICBpZih0aGlzLmNhblB1c2goKSl7XG4gICAgICBwdXNoRXZlbnQuc2VuZCgpXG4gICAgfSBlbHNlIHtcbiAgICAgIHB1c2hFdmVudC5zdGFydFRpbWVvdXQoKVxuICAgICAgdGhpcy5wdXNoQnVmZmVyLnB1c2gocHVzaEV2ZW50KVxuICAgIH1cblxuICAgIHJldHVybiBwdXNoRXZlbnRcbiAgfVxuXG4gIC8qKiBMZWF2ZXMgdGhlIGNoYW5uZWxcbiAgICpcbiAgICogVW5zdWJzY3JpYmVzIGZyb20gc2VydmVyIGV2ZW50cywgYW5kXG4gICAqIGluc3RydWN0cyBjaGFubmVsIHRvIHRlcm1pbmF0ZSBvbiBzZXJ2ZXJcbiAgICpcbiAgICogVHJpZ2dlcnMgb25DbG9zZSgpIGhvb2tzXG4gICAqXG4gICAqIFRvIHJlY2VpdmUgbGVhdmUgYWNrbm93bGVkZ2VtZW50cywgdXNlIHRoZSBgcmVjZWl2ZWBcbiAgICogaG9vayB0byBiaW5kIHRvIHRoZSBzZXJ2ZXIgYWNrLCBpZTpcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogY2hhbm5lbC5sZWF2ZSgpLnJlY2VpdmUoXCJva1wiLCAoKSA9PiBhbGVydChcImxlZnQhXCIpIClcbiAgICpcbiAgICogQHBhcmFtIHtpbnRlZ2VyfSB0aW1lb3V0XG4gICAqIEByZXR1cm5zIHtQdXNofVxuICAgKi9cbiAgbGVhdmUodGltZW91dCA9IHRoaXMudGltZW91dCl7XG4gICAgdGhpcy5yZWpvaW5UaW1lci5yZXNldCgpXG4gICAgdGhpcy5qb2luUHVzaC5jYW5jZWxUaW1lb3V0KClcblxuICAgIHRoaXMuc3RhdGUgPSBDSEFOTkVMX1NUQVRFUy5sZWF2aW5nXG4gICAgbGV0IG9uQ2xvc2UgPSAoKSA9PiB7XG4gICAgICBpZih0aGlzLnNvY2tldC5oYXNMb2dnZXIoKSkgdGhpcy5zb2NrZXQubG9nKFwiY2hhbm5lbFwiLCBgbGVhdmUgJHt0aGlzLnRvcGljfWApXG4gICAgICB0aGlzLnRyaWdnZXIoQ0hBTk5FTF9FVkVOVFMuY2xvc2UsIFwibGVhdmVcIilcbiAgICB9XG4gICAgbGV0IGxlYXZlUHVzaCA9IG5ldyBQdXNoKHRoaXMsIENIQU5ORUxfRVZFTlRTLmxlYXZlLCBjbG9zdXJlKHt9KSwgdGltZW91dClcbiAgICBsZWF2ZVB1c2gucmVjZWl2ZShcIm9rXCIsICgpID0+IG9uQ2xvc2UoKSlcbiAgICAgIC5yZWNlaXZlKFwidGltZW91dFwiLCAoKSA9PiBvbkNsb3NlKCkpXG4gICAgbGVhdmVQdXNoLnNlbmQoKVxuICAgIGlmKCF0aGlzLmNhblB1c2goKSl7IGxlYXZlUHVzaC50cmlnZ2VyKFwib2tcIiwge30pIH1cblxuICAgIHJldHVybiBsZWF2ZVB1c2hcbiAgfVxuXG4gIC8qKlxuICAgKiBPdmVycmlkYWJsZSBtZXNzYWdlIGhvb2tcbiAgICpcbiAgICogUmVjZWl2ZXMgYWxsIGV2ZW50cyBmb3Igc3BlY2lhbGl6ZWQgbWVzc2FnZSBoYW5kbGluZ1xuICAgKiBiZWZvcmUgZGlzcGF0Y2hpbmcgdG8gdGhlIGNoYW5uZWwgY2FsbGJhY2tzLlxuICAgKlxuICAgKiBNdXN0IHJldHVybiB0aGUgcGF5bG9hZCwgbW9kaWZpZWQgb3IgdW5tb2RpZmllZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRcbiAgICogQHBhcmFtIHtPYmplY3R9IHBheWxvYWRcbiAgICogQHBhcmFtIHtpbnRlZ2VyfSByZWZcbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG4gIG9uTWVzc2FnZShfZXZlbnQsIHBheWxvYWQsIF9yZWYpeyByZXR1cm4gcGF5bG9hZCB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBpc01lbWJlcih0b3BpYywgZXZlbnQsIHBheWxvYWQsIGpvaW5SZWYpe1xuICAgIGlmKHRoaXMudG9waWMgIT09IHRvcGljKXsgcmV0dXJuIGZhbHNlIH1cblxuICAgIGlmKGpvaW5SZWYgJiYgam9pblJlZiAhPT0gdGhpcy5qb2luUmVmKCkpe1xuICAgICAgaWYodGhpcy5zb2NrZXQuaGFzTG9nZ2VyKCkpIHRoaXMuc29ja2V0LmxvZyhcImNoYW5uZWxcIiwgXCJkcm9wcGluZyBvdXRkYXRlZCBtZXNzYWdlXCIsIHt0b3BpYywgZXZlbnQsIHBheWxvYWQsIGpvaW5SZWZ9KVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBqb2luUmVmKCl7IHJldHVybiB0aGlzLmpvaW5QdXNoLnJlZiB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICByZWpvaW4odGltZW91dCA9IHRoaXMudGltZW91dCl7XG4gICAgaWYodGhpcy5pc0xlYXZpbmcoKSl7IHJldHVybiB9XG4gICAgdGhpcy5zb2NrZXQubGVhdmVPcGVuVG9waWModGhpcy50b3BpYylcbiAgICB0aGlzLnN0YXRlID0gQ0hBTk5FTF9TVEFURVMuam9pbmluZ1xuICAgIHRoaXMuam9pblB1c2gucmVzZW5kKHRpbWVvdXQpXG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRyaWdnZXIoZXZlbnQsIHBheWxvYWQsIHJlZiwgam9pblJlZil7XG4gICAgbGV0IGhhbmRsZWRQYXlsb2FkID0gdGhpcy5vbk1lc3NhZ2UoZXZlbnQsIHBheWxvYWQsIHJlZiwgam9pblJlZilcbiAgICBpZihwYXlsb2FkICYmICFoYW5kbGVkUGF5bG9hZCl7IHRocm93IG5ldyBFcnJvcihcImNoYW5uZWwgb25NZXNzYWdlIGNhbGxiYWNrcyBtdXN0IHJldHVybiB0aGUgcGF5bG9hZCwgbW9kaWZpZWQgb3IgdW5tb2RpZmllZFwiKSB9XG5cbiAgICBsZXQgZXZlbnRCaW5kaW5ncyA9IHRoaXMuYmluZGluZ3MuZmlsdGVyKGJpbmQgPT4gYmluZC5ldmVudCA9PT0gZXZlbnQpXG5cbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgZXZlbnRCaW5kaW5ncy5sZW5ndGg7IGkrKyl7XG4gICAgICBsZXQgYmluZCA9IGV2ZW50QmluZGluZ3NbaV1cbiAgICAgIGJpbmQuY2FsbGJhY2soaGFuZGxlZFBheWxvYWQsIHJlZiwgam9pblJlZiB8fCB0aGlzLmpvaW5SZWYoKSlcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHJlcGx5RXZlbnROYW1lKHJlZil7IHJldHVybiBgY2hhbl9yZXBseV8ke3JlZn1gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGlzQ2xvc2VkKCl7IHJldHVybiB0aGlzLnN0YXRlID09PSBDSEFOTkVMX1NUQVRFUy5jbG9zZWQgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaXNFcnJvcmVkKCl7IHJldHVybiB0aGlzLnN0YXRlID09PSBDSEFOTkVMX1NUQVRFUy5lcnJvcmVkIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGlzSm9pbmVkKCl7IHJldHVybiB0aGlzLnN0YXRlID09PSBDSEFOTkVMX1NUQVRFUy5qb2luZWQgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaXNKb2luaW5nKCl7IHJldHVybiB0aGlzLnN0YXRlID09PSBDSEFOTkVMX1NUQVRFUy5qb2luaW5nIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGlzTGVhdmluZygpeyByZXR1cm4gdGhpcy5zdGF0ZSA9PT0gQ0hBTk5FTF9TVEFURVMubGVhdmluZyB9XG59XG4iLCAiaW1wb3J0IHtcbiAgZ2xvYmFsLFxuICBYSFJfU1RBVEVTXG59IGZyb20gXCIuL2NvbnN0YW50c1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFqYXgge1xuXG4gIHN0YXRpYyByZXF1ZXN0KG1ldGhvZCwgZW5kUG9pbnQsIGFjY2VwdCwgYm9keSwgdGltZW91dCwgb250aW1lb3V0LCBjYWxsYmFjayl7XG4gICAgaWYoZ2xvYmFsLlhEb21haW5SZXF1ZXN0KXtcbiAgICAgIGxldCByZXEgPSBuZXcgZ2xvYmFsLlhEb21haW5SZXF1ZXN0KCkgLy8gSUU4LCBJRTlcbiAgICAgIHJldHVybiB0aGlzLnhkb21haW5SZXF1ZXN0KHJlcSwgbWV0aG9kLCBlbmRQb2ludCwgYm9keSwgdGltZW91dCwgb250aW1lb3V0LCBjYWxsYmFjaylcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHJlcSA9IG5ldyBnbG9iYWwuWE1MSHR0cFJlcXVlc3QoKSAvLyBJRTcrLCBGaXJlZm94LCBDaHJvbWUsIE9wZXJhLCBTYWZhcmlcbiAgICAgIHJldHVybiB0aGlzLnhoclJlcXVlc3QocmVxLCBtZXRob2QsIGVuZFBvaW50LCBhY2NlcHQsIGJvZHksIHRpbWVvdXQsIG9udGltZW91dCwgY2FsbGJhY2spXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHhkb21haW5SZXF1ZXN0KHJlcSwgbWV0aG9kLCBlbmRQb2ludCwgYm9keSwgdGltZW91dCwgb250aW1lb3V0LCBjYWxsYmFjayl7XG4gICAgcmVxLnRpbWVvdXQgPSB0aW1lb3V0XG4gICAgcmVxLm9wZW4obWV0aG9kLCBlbmRQb2ludClcbiAgICByZXEub25sb2FkID0gKCkgPT4ge1xuICAgICAgbGV0IHJlc3BvbnNlID0gdGhpcy5wYXJzZUpTT04ocmVxLnJlc3BvbnNlVGV4dClcbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKHJlc3BvbnNlKVxuICAgIH1cbiAgICBpZihvbnRpbWVvdXQpeyByZXEub250aW1lb3V0ID0gb250aW1lb3V0IH1cblxuICAgIC8vIFdvcmsgYXJvdW5kIGJ1ZyBpbiBJRTkgdGhhdCByZXF1aXJlcyBhbiBhdHRhY2hlZCBvbnByb2dyZXNzIGhhbmRsZXJcbiAgICByZXEub25wcm9ncmVzcyA9ICgpID0+IHsgfVxuXG4gICAgcmVxLnNlbmQoYm9keSlcbiAgICByZXR1cm4gcmVxXG4gIH1cblxuICBzdGF0aWMgeGhyUmVxdWVzdChyZXEsIG1ldGhvZCwgZW5kUG9pbnQsIGFjY2VwdCwgYm9keSwgdGltZW91dCwgb250aW1lb3V0LCBjYWxsYmFjayl7XG4gICAgcmVxLm9wZW4obWV0aG9kLCBlbmRQb2ludCwgdHJ1ZSlcbiAgICByZXEudGltZW91dCA9IHRpbWVvdXRcbiAgICByZXEuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLCBhY2NlcHQpXG4gICAgcmVxLm9uZXJyb3IgPSAoKSA9PiBjYWxsYmFjayAmJiBjYWxsYmFjayhudWxsKVxuICAgIHJlcS5vbnJlYWR5c3RhdGVjaGFuZ2UgPSAoKSA9PiB7XG4gICAgICBpZihyZXEucmVhZHlTdGF0ZSA9PT0gWEhSX1NUQVRFUy5jb21wbGV0ZSAmJiBjYWxsYmFjayl7XG4gICAgICAgIGxldCByZXNwb25zZSA9IHRoaXMucGFyc2VKU09OKHJlcS5yZXNwb25zZVRleHQpXG4gICAgICAgIGNhbGxiYWNrKHJlc3BvbnNlKVxuICAgICAgfVxuICAgIH1cbiAgICBpZihvbnRpbWVvdXQpeyByZXEub250aW1lb3V0ID0gb250aW1lb3V0IH1cblxuICAgIHJlcS5zZW5kKGJvZHkpXG4gICAgcmV0dXJuIHJlcVxuICB9XG5cbiAgc3RhdGljIHBhcnNlSlNPTihyZXNwKXtcbiAgICBpZighcmVzcCB8fCByZXNwID09PSBcIlwiKXsgcmV0dXJuIG51bGwgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBKU09OLnBhcnNlKHJlc3ApXG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICBjb25zb2xlICYmIGNvbnNvbGUubG9nKFwiZmFpbGVkIHRvIHBhcnNlIEpTT04gcmVzcG9uc2VcIiwgcmVzcClcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShvYmosIHBhcmVudEtleSl7XG4gICAgbGV0IHF1ZXJ5U3RyID0gW11cbiAgICBmb3IodmFyIGtleSBpbiBvYmope1xuICAgICAgaWYoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpeyBjb250aW51ZSB9XG4gICAgICBsZXQgcGFyYW1LZXkgPSBwYXJlbnRLZXkgPyBgJHtwYXJlbnRLZXl9WyR7a2V5fV1gIDoga2V5XG4gICAgICBsZXQgcGFyYW1WYWwgPSBvYmpba2V5XVxuICAgICAgaWYodHlwZW9mIHBhcmFtVmFsID09PSBcIm9iamVjdFwiKXtcbiAgICAgICAgcXVlcnlTdHIucHVzaCh0aGlzLnNlcmlhbGl6ZShwYXJhbVZhbCwgcGFyYW1LZXkpKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcXVlcnlTdHIucHVzaChlbmNvZGVVUklDb21wb25lbnQocGFyYW1LZXkpICsgXCI9XCIgKyBlbmNvZGVVUklDb21wb25lbnQocGFyYW1WYWwpKVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcXVlcnlTdHIuam9pbihcIiZcIilcbiAgfVxuXG4gIHN0YXRpYyBhcHBlbmRQYXJhbXModXJsLCBwYXJhbXMpe1xuICAgIGlmKE9iamVjdC5rZXlzKHBhcmFtcykubGVuZ3RoID09PSAwKXsgcmV0dXJuIHVybCB9XG5cbiAgICBsZXQgcHJlZml4ID0gdXJsLm1hdGNoKC9cXD8vKSA/IFwiJlwiIDogXCI/XCJcbiAgICByZXR1cm4gYCR7dXJsfSR7cHJlZml4fSR7dGhpcy5zZXJpYWxpemUocGFyYW1zKX1gXG4gIH1cbn1cbiIsICJpbXBvcnQge1xuICBTT0NLRVRfU1RBVEVTLFxuICBUUkFOU1BPUlRTXG59IGZyb20gXCIuL2NvbnN0YW50c1wiXG5cbmltcG9ydCBBamF4IGZyb20gXCIuL2FqYXhcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb25nUG9sbCB7XG5cbiAgY29uc3RydWN0b3IoZW5kUG9pbnQpe1xuICAgIHRoaXMuZW5kUG9pbnQgPSBudWxsXG4gICAgdGhpcy50b2tlbiA9IG51bGxcbiAgICB0aGlzLnNraXBIZWFydGJlYXQgPSB0cnVlXG4gICAgdGhpcy5yZXFzID0gbmV3IFNldCgpXG4gICAgdGhpcy5vbm9wZW4gPSBmdW5jdGlvbiAoKXsgfSAvLyBub29wXG4gICAgdGhpcy5vbmVycm9yID0gZnVuY3Rpb24gKCl7IH0gLy8gbm9vcFxuICAgIHRoaXMub25tZXNzYWdlID0gZnVuY3Rpb24gKCl7IH0gLy8gbm9vcFxuICAgIHRoaXMub25jbG9zZSA9IGZ1bmN0aW9uICgpeyB9IC8vIG5vb3BcbiAgICB0aGlzLnBvbGxFbmRwb2ludCA9IHRoaXMubm9ybWFsaXplRW5kcG9pbnQoZW5kUG9pbnQpXG4gICAgdGhpcy5yZWFkeVN0YXRlID0gU09DS0VUX1NUQVRFUy5jb25uZWN0aW5nXG4gICAgdGhpcy5wb2xsKClcbiAgfVxuXG4gIG5vcm1hbGl6ZUVuZHBvaW50KGVuZFBvaW50KXtcbiAgICByZXR1cm4gKGVuZFBvaW50XG4gICAgICAucmVwbGFjZShcIndzOi8vXCIsIFwiaHR0cDovL1wiKVxuICAgICAgLnJlcGxhY2UoXCJ3c3M6Ly9cIiwgXCJodHRwczovL1wiKVxuICAgICAgLnJlcGxhY2UobmV3IFJlZ0V4cChcIiguKilcXC9cIiArIFRSQU5TUE9SVFMud2Vic29ja2V0KSwgXCIkMS9cIiArIFRSQU5TUE9SVFMubG9uZ3BvbGwpKVxuICB9XG5cbiAgZW5kcG9pbnRVUkwoKXtcbiAgICByZXR1cm4gQWpheC5hcHBlbmRQYXJhbXModGhpcy5wb2xsRW5kcG9pbnQsIHt0b2tlbjogdGhpcy50b2tlbn0pXG4gIH1cblxuICBjbG9zZUFuZFJldHJ5KGNvZGUsIHJlYXNvbiwgd2FzQ2xlYW4pe1xuICAgIHRoaXMuY2xvc2UoY29kZSwgcmVhc29uLCB3YXNDbGVhbilcbiAgICB0aGlzLnJlYWR5U3RhdGUgPSBTT0NLRVRfU1RBVEVTLmNvbm5lY3RpbmdcbiAgfVxuXG4gIG9udGltZW91dCgpe1xuICAgIHRoaXMub25lcnJvcihcInRpbWVvdXRcIilcbiAgICB0aGlzLmNsb3NlQW5kUmV0cnkoMTAwNSwgXCJ0aW1lb3V0XCIsIGZhbHNlKVxuICB9XG5cbiAgaXNBY3RpdmUoKXsgcmV0dXJuIHRoaXMucmVhZHlTdGF0ZSA9PT0gU09DS0VUX1NUQVRFUy5vcGVuIHx8IHRoaXMucmVhZHlTdGF0ZSA9PT0gU09DS0VUX1NUQVRFUy5jb25uZWN0aW5nIH1cblxuICBwb2xsKCl7XG4gICAgdGhpcy5hamF4KFwiR0VUXCIsIG51bGwsICgpID0+IHRoaXMub250aW1lb3V0KCksIHJlc3AgPT4ge1xuICAgICAgaWYocmVzcCl7XG4gICAgICAgIHZhciB7c3RhdHVzLCB0b2tlbiwgbWVzc2FnZXN9ID0gcmVzcFxuICAgICAgICB0aGlzLnRva2VuID0gdG9rZW5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXR1cyA9IDBcbiAgICAgIH1cblxuICAgICAgc3dpdGNoKHN0YXR1cyl7XG4gICAgICAgIGNhc2UgMjAwOlxuICAgICAgICAgIG1lc3NhZ2VzLmZvckVhY2gobXNnID0+IHtcbiAgICAgICAgICAgIC8vIFRhc2tzIGFyZSB3aGF0IHRoaW5ncyBsaWtlIGV2ZW50IGhhbmRsZXJzLCBzZXRUaW1lb3V0IGNhbGxiYWNrcyxcbiAgICAgICAgICAgIC8vIHByb21pc2UgcmVzb2x2ZXMgYW5kIG1vcmUgYXJlIHJ1biB3aXRoaW4uXG4gICAgICAgICAgICAvLyBJbiBtb2Rlcm4gYnJvd3NlcnMsIHRoZXJlIGFyZSB0d28gZGlmZmVyZW50IGtpbmRzIG9mIHRhc2tzLFxuICAgICAgICAgICAgLy8gbWljcm90YXNrcyBhbmQgbWFjcm90YXNrcy5cbiAgICAgICAgICAgIC8vIE1pY3JvdGFza3MgYXJlIG1haW5seSB1c2VkIGZvciBQcm9taXNlcywgd2hpbGUgbWFjcm90YXNrcyBhcmVcbiAgICAgICAgICAgIC8vIHVzZWQgZm9yIGV2ZXJ5dGhpbmcgZWxzZS5cbiAgICAgICAgICAgIC8vIE1pY3JvdGFza3MgYWx3YXlzIGhhdmUgcHJpb3JpdHkgb3ZlciBtYWNyb3Rhc2tzLiBJZiB0aGUgSlMgZW5naW5lXG4gICAgICAgICAgICAvLyBpcyBsb29raW5nIGZvciBhIHRhc2sgdG8gcnVuLCBpdCB3aWxsIGFsd2F5cyB0cnkgdG8gZW1wdHkgdGhlXG4gICAgICAgICAgICAvLyBtaWNyb3Rhc2sgcXVldWUgYmVmb3JlIGF0dGVtcHRpbmcgdG8gcnVuIGFueXRoaW5nIGZyb20gdGhlXG4gICAgICAgICAgICAvLyBtYWNyb3Rhc2sgcXVldWUuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gRm9yIHRoZSBXZWJTb2NrZXQgdHJhbnNwb3J0LCBtZXNzYWdlcyBhbHdheXMgYXJyaXZlIGluIHRoZWlyIG93blxuICAgICAgICAgICAgLy8gZXZlbnQuIFRoaXMgbWVhbnMgdGhhdCBpZiBhbnkgcHJvbWlzZXMgYXJlIHJlc29sdmVkIGZyb20gd2l0aGluLFxuICAgICAgICAgICAgLy8gdGhlaXIgY2FsbGJhY2tzIHdpbGwgYWx3YXlzIGZpbmlzaCBleGVjdXRpb24gYnkgdGhlIHRpbWUgdGhlXG4gICAgICAgICAgICAvLyBuZXh0IG1lc3NhZ2UgZXZlbnQgaGFuZGxlciBpcyBydW4uXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gSW4gb3JkZXIgdG8gZW11bGF0ZSB0aGlzIGJlaGF2aW91ciwgd2UgbmVlZCB0byBtYWtlIHN1cmUgZWFjaFxuICAgICAgICAgICAgLy8gb25tZXNzYWdlIGhhbmRsZXIgaXMgcnVuIHdpdGhpbiBpdCdzIG93biBtYWNyb3Rhc2suXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMub25tZXNzYWdlKHtkYXRhOiBtc2d9KSwgMClcbiAgICAgICAgICB9KVxuICAgICAgICAgIHRoaXMucG9sbCgpXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAyMDQ6XG4gICAgICAgICAgdGhpcy5wb2xsKClcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDQxMDpcbiAgICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSBTT0NLRVRfU1RBVEVTLm9wZW5cbiAgICAgICAgICB0aGlzLm9ub3Blbih7fSlcbiAgICAgICAgICB0aGlzLnBvbGwoKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgNDAzOlxuICAgICAgICAgIHRoaXMub25lcnJvcig0MDMpXG4gICAgICAgICAgdGhpcy5jbG9zZSgxMDA4LCBcImZvcmJpZGRlblwiLCBmYWxzZSlcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgIGNhc2UgNTAwOlxuICAgICAgICAgIHRoaXMub25lcnJvcig1MDApXG4gICAgICAgICAgdGhpcy5jbG9zZUFuZFJldHJ5KDEwMTEsIFwiaW50ZXJuYWwgc2VydmVyIGVycm9yXCIsIDUwMClcbiAgICAgICAgICBicmVha1xuICAgICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoYHVuaGFuZGxlZCBwb2xsIHN0YXR1cyAke3N0YXR1c31gKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBzZW5kKGJvZHkpe1xuICAgIHRoaXMuYWpheChcIlBPU1RcIiwgYm9keSwgKCkgPT4gdGhpcy5vbmVycm9yKFwidGltZW91dFwiKSwgcmVzcCA9PiB7XG4gICAgICBpZighcmVzcCB8fCByZXNwLnN0YXR1cyAhPT0gMjAwKXtcbiAgICAgICAgdGhpcy5vbmVycm9yKHJlc3AgJiYgcmVzcC5zdGF0dXMpXG4gICAgICAgIHRoaXMuY2xvc2VBbmRSZXRyeSgxMDExLCBcImludGVybmFsIHNlcnZlciBlcnJvclwiLCBmYWxzZSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgY2xvc2UoY29kZSwgcmVhc29uLCB3YXNDbGVhbil7XG4gICAgZm9yKGxldCByZXEgb2YgdGhpcy5yZXFzKXsgcmVxLmFib3J0KCkgfVxuICAgIHRoaXMucmVhZHlTdGF0ZSA9IFNPQ0tFVF9TVEFURVMuY2xvc2VkXG4gICAgbGV0IG9wdHMgPSBPYmplY3QuYXNzaWduKHtjb2RlOiAxMDAwLCByZWFzb246IHVuZGVmaW5lZCwgd2FzQ2xlYW46IHRydWV9LCB7Y29kZSwgcmVhc29uLCB3YXNDbGVhbn0pXG4gICAgaWYodHlwZW9mKENsb3NlRXZlbnQpICE9PSBcInVuZGVmaW5lZFwiKXtcbiAgICAgIHRoaXMub25jbG9zZShuZXcgQ2xvc2VFdmVudChcImNsb3NlXCIsIG9wdHMpKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm9uY2xvc2Uob3B0cylcbiAgICB9XG4gIH1cblxuICBhamF4KG1ldGhvZCwgYm9keSwgb25DYWxsZXJUaW1lb3V0LCBjYWxsYmFjayl7XG4gICAgbGV0IHJlcVxuICAgIGxldCBvbnRpbWVvdXQgPSAoKSA9PiB7XG4gICAgICB0aGlzLnJlcXMuZGVsZXRlKHJlcSlcbiAgICAgIG9uQ2FsbGVyVGltZW91dCgpXG4gICAgfVxuICAgIHJlcSA9IEFqYXgucmVxdWVzdChtZXRob2QsIHRoaXMuZW5kcG9pbnRVUkwoKSwgXCJhcHBsaWNhdGlvbi9qc29uXCIsIGJvZHksIHRoaXMudGltZW91dCwgb250aW1lb3V0LCByZXNwID0+IHtcbiAgICAgIHRoaXMucmVxcy5kZWxldGUocmVxKVxuICAgICAgaWYodGhpcy5pc0FjdGl2ZSgpKXsgY2FsbGJhY2socmVzcCkgfVxuICAgIH0pXG4gICAgdGhpcy5yZXFzLmFkZChyZXEpXG4gIH1cbn1cbiIsICIvKipcbiAqIEluaXRpYWxpemVzIHRoZSBQcmVzZW5jZVxuICogQHBhcmFtIHtDaGFubmVsfSBjaGFubmVsIC0gVGhlIENoYW5uZWxcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gVGhlIG9wdGlvbnMsXG4gKiAgICAgICAgZm9yIGV4YW1wbGUgYHtldmVudHM6IHtzdGF0ZTogXCJzdGF0ZVwiLCBkaWZmOiBcImRpZmZcIn19YFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcmVzZW5jZSB7XG5cbiAgY29uc3RydWN0b3IoY2hhbm5lbCwgb3B0cyA9IHt9KXtcbiAgICBsZXQgZXZlbnRzID0gb3B0cy5ldmVudHMgfHwge3N0YXRlOiBcInByZXNlbmNlX3N0YXRlXCIsIGRpZmY6IFwicHJlc2VuY2VfZGlmZlwifVxuICAgIHRoaXMuc3RhdGUgPSB7fVxuICAgIHRoaXMucGVuZGluZ0RpZmZzID0gW11cbiAgICB0aGlzLmNoYW5uZWwgPSBjaGFubmVsXG4gICAgdGhpcy5qb2luUmVmID0gbnVsbFxuICAgIHRoaXMuY2FsbGVyID0ge1xuICAgICAgb25Kb2luOiBmdW5jdGlvbiAoKXsgfSxcbiAgICAgIG9uTGVhdmU6IGZ1bmN0aW9uICgpeyB9LFxuICAgICAgb25TeW5jOiBmdW5jdGlvbiAoKXsgfVxuICAgIH1cblxuICAgIHRoaXMuY2hhbm5lbC5vbihldmVudHMuc3RhdGUsIG5ld1N0YXRlID0+IHtcbiAgICAgIGxldCB7b25Kb2luLCBvbkxlYXZlLCBvblN5bmN9ID0gdGhpcy5jYWxsZXJcblxuICAgICAgdGhpcy5qb2luUmVmID0gdGhpcy5jaGFubmVsLmpvaW5SZWYoKVxuICAgICAgdGhpcy5zdGF0ZSA9IFByZXNlbmNlLnN5bmNTdGF0ZSh0aGlzLnN0YXRlLCBuZXdTdGF0ZSwgb25Kb2luLCBvbkxlYXZlKVxuXG4gICAgICB0aGlzLnBlbmRpbmdEaWZmcy5mb3JFYWNoKGRpZmYgPT4ge1xuICAgICAgICB0aGlzLnN0YXRlID0gUHJlc2VuY2Uuc3luY0RpZmYodGhpcy5zdGF0ZSwgZGlmZiwgb25Kb2luLCBvbkxlYXZlKVxuICAgICAgfSlcbiAgICAgIHRoaXMucGVuZGluZ0RpZmZzID0gW11cbiAgICAgIG9uU3luYygpXG4gICAgfSlcblxuICAgIHRoaXMuY2hhbm5lbC5vbihldmVudHMuZGlmZiwgZGlmZiA9PiB7XG4gICAgICBsZXQge29uSm9pbiwgb25MZWF2ZSwgb25TeW5jfSA9IHRoaXMuY2FsbGVyXG5cbiAgICAgIGlmKHRoaXMuaW5QZW5kaW5nU3luY1N0YXRlKCkpe1xuICAgICAgICB0aGlzLnBlbmRpbmdEaWZmcy5wdXNoKGRpZmYpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnN0YXRlID0gUHJlc2VuY2Uuc3luY0RpZmYodGhpcy5zdGF0ZSwgZGlmZiwgb25Kb2luLCBvbkxlYXZlKVxuICAgICAgICBvblN5bmMoKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBvbkpvaW4oY2FsbGJhY2speyB0aGlzLmNhbGxlci5vbkpvaW4gPSBjYWxsYmFjayB9XG5cbiAgb25MZWF2ZShjYWxsYmFjayl7IHRoaXMuY2FsbGVyLm9uTGVhdmUgPSBjYWxsYmFjayB9XG5cbiAgb25TeW5jKGNhbGxiYWNrKXsgdGhpcy5jYWxsZXIub25TeW5jID0gY2FsbGJhY2sgfVxuXG4gIGxpc3QoYnkpeyByZXR1cm4gUHJlc2VuY2UubGlzdCh0aGlzLnN0YXRlLCBieSkgfVxuXG4gIGluUGVuZGluZ1N5bmNTdGF0ZSgpe1xuICAgIHJldHVybiAhdGhpcy5qb2luUmVmIHx8ICh0aGlzLmpvaW5SZWYgIT09IHRoaXMuY2hhbm5lbC5qb2luUmVmKCkpXG4gIH1cblxuICAvLyBsb3dlci1sZXZlbCBwdWJsaWMgc3RhdGljIEFQSVxuXG4gIC8qKlxuICAgKiBVc2VkIHRvIHN5bmMgdGhlIGxpc3Qgb2YgcHJlc2VuY2VzIG9uIHRoZSBzZXJ2ZXJcbiAgICogd2l0aCB0aGUgY2xpZW50J3Mgc3RhdGUuIEFuIG9wdGlvbmFsIGBvbkpvaW5gIGFuZCBgb25MZWF2ZWAgY2FsbGJhY2sgY2FuXG4gICAqIGJlIHByb3ZpZGVkIHRvIHJlYWN0IHRvIGNoYW5nZXMgaW4gdGhlIGNsaWVudCdzIGxvY2FsIHByZXNlbmNlcyBhY3Jvc3NcbiAgICogZGlzY29ubmVjdHMgYW5kIHJlY29ubmVjdHMgd2l0aCB0aGUgc2VydmVyLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJlc2VuY2V9XG4gICAqL1xuICBzdGF0aWMgc3luY1N0YXRlKGN1cnJlbnRTdGF0ZSwgbmV3U3RhdGUsIG9uSm9pbiwgb25MZWF2ZSl7XG4gICAgbGV0IHN0YXRlID0gdGhpcy5jbG9uZShjdXJyZW50U3RhdGUpXG4gICAgbGV0IGpvaW5zID0ge31cbiAgICBsZXQgbGVhdmVzID0ge31cblxuICAgIHRoaXMubWFwKHN0YXRlLCAoa2V5LCBwcmVzZW5jZSkgPT4ge1xuICAgICAgaWYoIW5ld1N0YXRlW2tleV0pe1xuICAgICAgICBsZWF2ZXNba2V5XSA9IHByZXNlbmNlXG4gICAgICB9XG4gICAgfSlcbiAgICB0aGlzLm1hcChuZXdTdGF0ZSwgKGtleSwgbmV3UHJlc2VuY2UpID0+IHtcbiAgICAgIGxldCBjdXJyZW50UHJlc2VuY2UgPSBzdGF0ZVtrZXldXG4gICAgICBpZihjdXJyZW50UHJlc2VuY2Upe1xuICAgICAgICBsZXQgbmV3UmVmcyA9IG5ld1ByZXNlbmNlLm1ldGFzLm1hcChtID0+IG0ucGh4X3JlZilcbiAgICAgICAgbGV0IGN1clJlZnMgPSBjdXJyZW50UHJlc2VuY2UubWV0YXMubWFwKG0gPT4gbS5waHhfcmVmKVxuICAgICAgICBsZXQgam9pbmVkTWV0YXMgPSBuZXdQcmVzZW5jZS5tZXRhcy5maWx0ZXIobSA9PiBjdXJSZWZzLmluZGV4T2YobS5waHhfcmVmKSA8IDApXG4gICAgICAgIGxldCBsZWZ0TWV0YXMgPSBjdXJyZW50UHJlc2VuY2UubWV0YXMuZmlsdGVyKG0gPT4gbmV3UmVmcy5pbmRleE9mKG0ucGh4X3JlZikgPCAwKVxuICAgICAgICBpZihqb2luZWRNZXRhcy5sZW5ndGggPiAwKXtcbiAgICAgICAgICBqb2luc1trZXldID0gbmV3UHJlc2VuY2VcbiAgICAgICAgICBqb2luc1trZXldLm1ldGFzID0gam9pbmVkTWV0YXNcbiAgICAgICAgfVxuICAgICAgICBpZihsZWZ0TWV0YXMubGVuZ3RoID4gMCl7XG4gICAgICAgICAgbGVhdmVzW2tleV0gPSB0aGlzLmNsb25lKGN1cnJlbnRQcmVzZW5jZSlcbiAgICAgICAgICBsZWF2ZXNba2V5XS5tZXRhcyA9IGxlZnRNZXRhc1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBqb2luc1trZXldID0gbmV3UHJlc2VuY2VcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiB0aGlzLnN5bmNEaWZmKHN0YXRlLCB7am9pbnM6IGpvaW5zLCBsZWF2ZXM6IGxlYXZlc30sIG9uSm9pbiwgb25MZWF2ZSlcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBVc2VkIHRvIHN5bmMgYSBkaWZmIG9mIHByZXNlbmNlIGpvaW4gYW5kIGxlYXZlXG4gICAqIGV2ZW50cyBmcm9tIHRoZSBzZXJ2ZXIsIGFzIHRoZXkgaGFwcGVuLiBMaWtlIGBzeW5jU3RhdGVgLCBgc3luY0RpZmZgXG4gICAqIGFjY2VwdHMgb3B0aW9uYWwgYG9uSm9pbmAgYW5kIGBvbkxlYXZlYCBjYWxsYmFja3MgdG8gcmVhY3QgdG8gYSB1c2VyXG4gICAqIGpvaW5pbmcgb3IgbGVhdmluZyBmcm9tIGEgZGV2aWNlLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJlc2VuY2V9XG4gICAqL1xuICBzdGF0aWMgc3luY0RpZmYoc3RhdGUsIGRpZmYsIG9uSm9pbiwgb25MZWF2ZSl7XG4gICAgbGV0IHtqb2lucywgbGVhdmVzfSA9IHRoaXMuY2xvbmUoZGlmZilcbiAgICBpZighb25Kb2luKXsgb25Kb2luID0gZnVuY3Rpb24gKCl7IH0gfVxuICAgIGlmKCFvbkxlYXZlKXsgb25MZWF2ZSA9IGZ1bmN0aW9uICgpeyB9IH1cblxuICAgIHRoaXMubWFwKGpvaW5zLCAoa2V5LCBuZXdQcmVzZW5jZSkgPT4ge1xuICAgICAgbGV0IGN1cnJlbnRQcmVzZW5jZSA9IHN0YXRlW2tleV1cbiAgICAgIHN0YXRlW2tleV0gPSB0aGlzLmNsb25lKG5ld1ByZXNlbmNlKVxuICAgICAgaWYoY3VycmVudFByZXNlbmNlKXtcbiAgICAgICAgbGV0IGpvaW5lZFJlZnMgPSBzdGF0ZVtrZXldLm1ldGFzLm1hcChtID0+IG0ucGh4X3JlZilcbiAgICAgICAgbGV0IGN1ck1ldGFzID0gY3VycmVudFByZXNlbmNlLm1ldGFzLmZpbHRlcihtID0+IGpvaW5lZFJlZnMuaW5kZXhPZihtLnBoeF9yZWYpIDwgMClcbiAgICAgICAgc3RhdGVba2V5XS5tZXRhcy51bnNoaWZ0KC4uLmN1ck1ldGFzKVxuICAgICAgfVxuICAgICAgb25Kb2luKGtleSwgY3VycmVudFByZXNlbmNlLCBuZXdQcmVzZW5jZSlcbiAgICB9KVxuICAgIHRoaXMubWFwKGxlYXZlcywgKGtleSwgbGVmdFByZXNlbmNlKSA9PiB7XG4gICAgICBsZXQgY3VycmVudFByZXNlbmNlID0gc3RhdGVba2V5XVxuICAgICAgaWYoIWN1cnJlbnRQcmVzZW5jZSl7IHJldHVybiB9XG4gICAgICBsZXQgcmVmc1RvUmVtb3ZlID0gbGVmdFByZXNlbmNlLm1ldGFzLm1hcChtID0+IG0ucGh4X3JlZilcbiAgICAgIGN1cnJlbnRQcmVzZW5jZS5tZXRhcyA9IGN1cnJlbnRQcmVzZW5jZS5tZXRhcy5maWx0ZXIocCA9PiB7XG4gICAgICAgIHJldHVybiByZWZzVG9SZW1vdmUuaW5kZXhPZihwLnBoeF9yZWYpIDwgMFxuICAgICAgfSlcbiAgICAgIG9uTGVhdmUoa2V5LCBjdXJyZW50UHJlc2VuY2UsIGxlZnRQcmVzZW5jZSlcbiAgICAgIGlmKGN1cnJlbnRQcmVzZW5jZS5tZXRhcy5sZW5ndGggPT09IDApe1xuICAgICAgICBkZWxldGUgc3RhdGVba2V5XVxuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIHN0YXRlXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJlc2VuY2VzLCB3aXRoIHNlbGVjdGVkIG1ldGFkYXRhLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gcHJlc2VuY2VzXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNob29zZXJcbiAgICpcbiAgICogQHJldHVybnMge1ByZXNlbmNlfVxuICAgKi9cbiAgc3RhdGljIGxpc3QocHJlc2VuY2VzLCBjaG9vc2VyKXtcbiAgICBpZighY2hvb3Nlcil7IGNob29zZXIgPSBmdW5jdGlvbiAoa2V5LCBwcmVzKXsgcmV0dXJuIHByZXMgfSB9XG5cbiAgICByZXR1cm4gdGhpcy5tYXAocHJlc2VuY2VzLCAoa2V5LCBwcmVzZW5jZSkgPT4ge1xuICAgICAgcmV0dXJuIGNob29zZXIoa2V5LCBwcmVzZW5jZSlcbiAgICB9KVxuICB9XG5cbiAgLy8gcHJpdmF0ZVxuXG4gIHN0YXRpYyBtYXAob2JqLCBmdW5jKXtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMob2JqKS5tYXAoa2V5ID0+IGZ1bmMoa2V5LCBvYmpba2V5XSkpXG4gIH1cblxuICBzdGF0aWMgY2xvbmUob2JqKXsgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSkgfVxufVxuIiwgIi8qIFRoZSBkZWZhdWx0IHNlcmlhbGl6ZXIgZm9yIGVuY29kaW5nIGFuZCBkZWNvZGluZyBtZXNzYWdlcyAqL1xuaW1wb3J0IHtcbiAgQ0hBTk5FTF9FVkVOVFNcbn0gZnJvbSBcIi4vY29uc3RhbnRzXCJcblxuZXhwb3J0IGRlZmF1bHQge1xuICBIRUFERVJfTEVOR1RIOiAxLFxuICBNRVRBX0xFTkdUSDogNCxcbiAgS0lORFM6IHtwdXNoOiAwLCByZXBseTogMSwgYnJvYWRjYXN0OiAyfSxcblxuICBlbmNvZGUobXNnLCBjYWxsYmFjayl7XG4gICAgaWYobXNnLnBheWxvYWQuY29uc3RydWN0b3IgPT09IEFycmF5QnVmZmVyKXtcbiAgICAgIHJldHVybiBjYWxsYmFjayh0aGlzLmJpbmFyeUVuY29kZShtc2cpKVxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgcGF5bG9hZCA9IFttc2cuam9pbl9yZWYsIG1zZy5yZWYsIG1zZy50b3BpYywgbXNnLmV2ZW50LCBtc2cucGF5bG9hZF1cbiAgICAgIHJldHVybiBjYWxsYmFjayhKU09OLnN0cmluZ2lmeShwYXlsb2FkKSlcbiAgICB9XG4gIH0sXG5cbiAgZGVjb2RlKHJhd1BheWxvYWQsIGNhbGxiYWNrKXtcbiAgICBpZihyYXdQYXlsb2FkLmNvbnN0cnVjdG9yID09PSBBcnJheUJ1ZmZlcil7XG4gICAgICByZXR1cm4gY2FsbGJhY2sodGhpcy5iaW5hcnlEZWNvZGUocmF3UGF5bG9hZCkpXG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBbam9pbl9yZWYsIHJlZiwgdG9waWMsIGV2ZW50LCBwYXlsb2FkXSA9IEpTT04ucGFyc2UocmF3UGF5bG9hZClcbiAgICAgIHJldHVybiBjYWxsYmFjayh7am9pbl9yZWYsIHJlZiwgdG9waWMsIGV2ZW50LCBwYXlsb2FkfSlcbiAgICB9XG4gIH0sXG5cbiAgLy8gcHJpdmF0ZVxuXG4gIGJpbmFyeUVuY29kZShtZXNzYWdlKXtcbiAgICBsZXQge2pvaW5fcmVmLCByZWYsIGV2ZW50LCB0b3BpYywgcGF5bG9hZH0gPSBtZXNzYWdlXG4gICAgbGV0IG1ldGFMZW5ndGggPSB0aGlzLk1FVEFfTEVOR1RIICsgam9pbl9yZWYubGVuZ3RoICsgcmVmLmxlbmd0aCArIHRvcGljLmxlbmd0aCArIGV2ZW50Lmxlbmd0aFxuICAgIGxldCBoZWFkZXIgPSBuZXcgQXJyYXlCdWZmZXIodGhpcy5IRUFERVJfTEVOR1RIICsgbWV0YUxlbmd0aClcbiAgICBsZXQgdmlldyA9IG5ldyBEYXRhVmlldyhoZWFkZXIpXG4gICAgbGV0IG9mZnNldCA9IDBcblxuICAgIHZpZXcuc2V0VWludDgob2Zmc2V0KyssIHRoaXMuS0lORFMucHVzaCkgLy8ga2luZFxuICAgIHZpZXcuc2V0VWludDgob2Zmc2V0KyssIGpvaW5fcmVmLmxlbmd0aClcbiAgICB2aWV3LnNldFVpbnQ4KG9mZnNldCsrLCByZWYubGVuZ3RoKVxuICAgIHZpZXcuc2V0VWludDgob2Zmc2V0KyssIHRvcGljLmxlbmd0aClcbiAgICB2aWV3LnNldFVpbnQ4KG9mZnNldCsrLCBldmVudC5sZW5ndGgpXG4gICAgQXJyYXkuZnJvbShqb2luX3JlZiwgY2hhciA9PiB2aWV3LnNldFVpbnQ4KG9mZnNldCsrLCBjaGFyLmNoYXJDb2RlQXQoMCkpKVxuICAgIEFycmF5LmZyb20ocmVmLCBjaGFyID0+IHZpZXcuc2V0VWludDgob2Zmc2V0KyssIGNoYXIuY2hhckNvZGVBdCgwKSkpXG4gICAgQXJyYXkuZnJvbSh0b3BpYywgY2hhciA9PiB2aWV3LnNldFVpbnQ4KG9mZnNldCsrLCBjaGFyLmNoYXJDb2RlQXQoMCkpKVxuICAgIEFycmF5LmZyb20oZXZlbnQsIGNoYXIgPT4gdmlldy5zZXRVaW50OChvZmZzZXQrKywgY2hhci5jaGFyQ29kZUF0KDApKSlcblxuICAgIHZhciBjb21iaW5lZCA9IG5ldyBVaW50OEFycmF5KGhlYWRlci5ieXRlTGVuZ3RoICsgcGF5bG9hZC5ieXRlTGVuZ3RoKVxuICAgIGNvbWJpbmVkLnNldChuZXcgVWludDhBcnJheShoZWFkZXIpLCAwKVxuICAgIGNvbWJpbmVkLnNldChuZXcgVWludDhBcnJheShwYXlsb2FkKSwgaGVhZGVyLmJ5dGVMZW5ndGgpXG5cbiAgICByZXR1cm4gY29tYmluZWQuYnVmZmVyXG4gIH0sXG5cbiAgYmluYXJ5RGVjb2RlKGJ1ZmZlcil7XG4gICAgbGV0IHZpZXcgPSBuZXcgRGF0YVZpZXcoYnVmZmVyKVxuICAgIGxldCBraW5kID0gdmlldy5nZXRVaW50OCgwKVxuICAgIGxldCBkZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKClcbiAgICBzd2l0Y2goa2luZCl7XG4gICAgICBjYXNlIHRoaXMuS0lORFMucHVzaDogcmV0dXJuIHRoaXMuZGVjb2RlUHVzaChidWZmZXIsIHZpZXcsIGRlY29kZXIpXG4gICAgICBjYXNlIHRoaXMuS0lORFMucmVwbHk6IHJldHVybiB0aGlzLmRlY29kZVJlcGx5KGJ1ZmZlciwgdmlldywgZGVjb2RlcilcbiAgICAgIGNhc2UgdGhpcy5LSU5EUy5icm9hZGNhc3Q6IHJldHVybiB0aGlzLmRlY29kZUJyb2FkY2FzdChidWZmZXIsIHZpZXcsIGRlY29kZXIpXG4gICAgfVxuICB9LFxuXG4gIGRlY29kZVB1c2goYnVmZmVyLCB2aWV3LCBkZWNvZGVyKXtcbiAgICBsZXQgam9pblJlZlNpemUgPSB2aWV3LmdldFVpbnQ4KDEpXG4gICAgbGV0IHRvcGljU2l6ZSA9IHZpZXcuZ2V0VWludDgoMilcbiAgICBsZXQgZXZlbnRTaXplID0gdmlldy5nZXRVaW50OCgzKVxuICAgIGxldCBvZmZzZXQgPSB0aGlzLkhFQURFUl9MRU5HVEggKyB0aGlzLk1FVEFfTEVOR1RIIC0gMSAvLyBwdXNoZXMgaGF2ZSBubyByZWZcbiAgICBsZXQgam9pblJlZiA9IGRlY29kZXIuZGVjb2RlKGJ1ZmZlci5zbGljZShvZmZzZXQsIG9mZnNldCArIGpvaW5SZWZTaXplKSlcbiAgICBvZmZzZXQgPSBvZmZzZXQgKyBqb2luUmVmU2l6ZVxuICAgIGxldCB0b3BpYyA9IGRlY29kZXIuZGVjb2RlKGJ1ZmZlci5zbGljZShvZmZzZXQsIG9mZnNldCArIHRvcGljU2l6ZSkpXG4gICAgb2Zmc2V0ID0gb2Zmc2V0ICsgdG9waWNTaXplXG4gICAgbGV0IGV2ZW50ID0gZGVjb2Rlci5kZWNvZGUoYnVmZmVyLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgZXZlbnRTaXplKSlcbiAgICBvZmZzZXQgPSBvZmZzZXQgKyBldmVudFNpemVcbiAgICBsZXQgZGF0YSA9IGJ1ZmZlci5zbGljZShvZmZzZXQsIGJ1ZmZlci5ieXRlTGVuZ3RoKVxuICAgIHJldHVybiB7am9pbl9yZWY6IGpvaW5SZWYsIHJlZjogbnVsbCwgdG9waWM6IHRvcGljLCBldmVudDogZXZlbnQsIHBheWxvYWQ6IGRhdGF9XG4gIH0sXG5cbiAgZGVjb2RlUmVwbHkoYnVmZmVyLCB2aWV3LCBkZWNvZGVyKXtcbiAgICBsZXQgam9pblJlZlNpemUgPSB2aWV3LmdldFVpbnQ4KDEpXG4gICAgbGV0IHJlZlNpemUgPSB2aWV3LmdldFVpbnQ4KDIpXG4gICAgbGV0IHRvcGljU2l6ZSA9IHZpZXcuZ2V0VWludDgoMylcbiAgICBsZXQgZXZlbnRTaXplID0gdmlldy5nZXRVaW50OCg0KVxuICAgIGxldCBvZmZzZXQgPSB0aGlzLkhFQURFUl9MRU5HVEggKyB0aGlzLk1FVEFfTEVOR1RIXG4gICAgbGV0IGpvaW5SZWYgPSBkZWNvZGVyLmRlY29kZShidWZmZXIuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyBqb2luUmVmU2l6ZSkpXG4gICAgb2Zmc2V0ID0gb2Zmc2V0ICsgam9pblJlZlNpemVcbiAgICBsZXQgcmVmID0gZGVjb2Rlci5kZWNvZGUoYnVmZmVyLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgcmVmU2l6ZSkpXG4gICAgb2Zmc2V0ID0gb2Zmc2V0ICsgcmVmU2l6ZVxuICAgIGxldCB0b3BpYyA9IGRlY29kZXIuZGVjb2RlKGJ1ZmZlci5zbGljZShvZmZzZXQsIG9mZnNldCArIHRvcGljU2l6ZSkpXG4gICAgb2Zmc2V0ID0gb2Zmc2V0ICsgdG9waWNTaXplXG4gICAgbGV0IGV2ZW50ID0gZGVjb2Rlci5kZWNvZGUoYnVmZmVyLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgZXZlbnRTaXplKSlcbiAgICBvZmZzZXQgPSBvZmZzZXQgKyBldmVudFNpemVcbiAgICBsZXQgZGF0YSA9IGJ1ZmZlci5zbGljZShvZmZzZXQsIGJ1ZmZlci5ieXRlTGVuZ3RoKVxuICAgIGxldCBwYXlsb2FkID0ge3N0YXR1czogZXZlbnQsIHJlc3BvbnNlOiBkYXRhfVxuICAgIHJldHVybiB7am9pbl9yZWY6IGpvaW5SZWYsIHJlZjogcmVmLCB0b3BpYzogdG9waWMsIGV2ZW50OiBDSEFOTkVMX0VWRU5UUy5yZXBseSwgcGF5bG9hZDogcGF5bG9hZH1cbiAgfSxcblxuICBkZWNvZGVCcm9hZGNhc3QoYnVmZmVyLCB2aWV3LCBkZWNvZGVyKXtcbiAgICBsZXQgdG9waWNTaXplID0gdmlldy5nZXRVaW50OCgxKVxuICAgIGxldCBldmVudFNpemUgPSB2aWV3LmdldFVpbnQ4KDIpXG4gICAgbGV0IG9mZnNldCA9IHRoaXMuSEVBREVSX0xFTkdUSCArIDJcbiAgICBsZXQgdG9waWMgPSBkZWNvZGVyLmRlY29kZShidWZmZXIuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyB0b3BpY1NpemUpKVxuICAgIG9mZnNldCA9IG9mZnNldCArIHRvcGljU2l6ZVxuICAgIGxldCBldmVudCA9IGRlY29kZXIuZGVjb2RlKGJ1ZmZlci5zbGljZShvZmZzZXQsIG9mZnNldCArIGV2ZW50U2l6ZSkpXG4gICAgb2Zmc2V0ID0gb2Zmc2V0ICsgZXZlbnRTaXplXG4gICAgbGV0IGRhdGEgPSBidWZmZXIuc2xpY2Uob2Zmc2V0LCBidWZmZXIuYnl0ZUxlbmd0aClcblxuICAgIHJldHVybiB7am9pbl9yZWY6IG51bGwsIHJlZjogbnVsbCwgdG9waWM6IHRvcGljLCBldmVudDogZXZlbnQsIHBheWxvYWQ6IGRhdGF9XG4gIH1cbn1cbiIsICJpbXBvcnQge1xuICBnbG9iYWwsXG4gIHBoeFdpbmRvdyxcbiAgQ0hBTk5FTF9FVkVOVFMsXG4gIERFRkFVTFRfVElNRU9VVCxcbiAgREVGQVVMVF9WU04sXG4gIFNPQ0tFVF9TVEFURVMsXG4gIFRSQU5TUE9SVFMsXG4gIFdTX0NMT1NFX05PUk1BTFxufSBmcm9tIFwiLi9jb25zdGFudHNcIlxuXG5pbXBvcnQge1xuICBjbG9zdXJlXG59IGZyb20gXCIuL3V0aWxzXCJcblxuaW1wb3J0IEFqYXggZnJvbSBcIi4vYWpheFwiXG5pbXBvcnQgQ2hhbm5lbCBmcm9tIFwiLi9jaGFubmVsXCJcbmltcG9ydCBMb25nUG9sbCBmcm9tIFwiLi9sb25ncG9sbFwiXG5pbXBvcnQgU2VyaWFsaXplciBmcm9tIFwiLi9zZXJpYWxpemVyXCJcbmltcG9ydCBUaW1lciBmcm9tIFwiLi90aW1lclwiXG5cbi8qKiBJbml0aWFsaXplcyB0aGUgU29ja2V0ICpcbiAqXG4gKiBGb3IgSUU4IHN1cHBvcnQgdXNlIGFuIEVTNS1zaGltIChodHRwczovL2dpdGh1Yi5jb20vZXMtc2hpbXMvZXM1LXNoaW0pXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGVuZFBvaW50IC0gVGhlIHN0cmluZyBXZWJTb2NrZXQgZW5kcG9pbnQsIGllLCBgXCJ3czovL2V4YW1wbGUuY29tL3NvY2tldFwiYCxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgXCJ3c3M6Ly9leGFtcGxlLmNvbVwiYFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBcIi9zb2NrZXRcImAgKGluaGVyaXRlZCBob3N0ICYgcHJvdG9jb2wpXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdHNdIC0gT3B0aW9uYWwgY29uZmlndXJhdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdHMudHJhbnNwb3J0XSAtIFRoZSBXZWJzb2NrZXQgVHJhbnNwb3J0LCBmb3IgZXhhbXBsZSBXZWJTb2NrZXQgb3IgUGhvZW5peC5Mb25nUG9sbC5cbiAqXG4gKiBEZWZhdWx0cyB0byBXZWJTb2NrZXQgd2l0aCBhdXRvbWF0aWMgTG9uZ1BvbGwgZmFsbGJhY2suXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3B0cy5lbmNvZGVdIC0gVGhlIGZ1bmN0aW9uIHRvIGVuY29kZSBvdXRnb2luZyBtZXNzYWdlcy5cbiAqXG4gKiBEZWZhdWx0cyB0byBKU09OIGVuY29kZXIuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdHMuZGVjb2RlXSAtIFRoZSBmdW5jdGlvbiB0byBkZWNvZGUgaW5jb21pbmcgbWVzc2FnZXMuXG4gKlxuICogRGVmYXVsdHMgdG8gSlNPTjpcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiAocGF5bG9hZCwgY2FsbGJhY2spID0+IGNhbGxiYWNrKEpTT04ucGFyc2UocGF5bG9hZCkpXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdHMudGltZW91dF0gLSBUaGUgZGVmYXVsdCB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyB0byB0cmlnZ2VyIHB1c2ggdGltZW91dHMuXG4gKlxuICogRGVmYXVsdHMgYERFRkFVTFRfVElNRU9VVGBcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5oZWFydGJlYXRJbnRlcnZhbE1zXSAtIFRoZSBtaWxsaXNlYyBpbnRlcnZhbCB0byBzZW5kIGEgaGVhcnRiZWF0IG1lc3NhZ2VcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5yZWNvbm5lY3RBZnRlck1zXSAtIFRoZSBvcHRpb25hbCBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIG1pbGxpc2VjXG4gKiBzb2NrZXQgcmVjb25uZWN0IGludGVydmFsLlxuICpcbiAqIERlZmF1bHRzIHRvIHN0ZXBwZWQgYmFja29mZiBvZjpcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBmdW5jdGlvbih0cmllcyl7XG4gKiAgIHJldHVybiBbMTAsIDUwLCAxMDAsIDE1MCwgMjAwLCAyNTAsIDUwMCwgMTAwMCwgMjAwMF1bdHJpZXMgLSAxXSB8fCA1MDAwXG4gKiB9XG4gKiBgYGBgXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnJlam9pbkFmdGVyTXNdIC0gVGhlIG9wdGlvbmFsIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgbWlsbGlzZWNcbiAqIHJlam9pbiBpbnRlcnZhbCBmb3IgaW5kaXZpZHVhbCBjaGFubmVscy5cbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBmdW5jdGlvbih0cmllcyl7XG4gKiAgIHJldHVybiBbMTAwMCwgMjAwMCwgNTAwMF1bdHJpZXMgLSAxXSB8fCAxMDAwMFxuICogfVxuICogYGBgYFxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRzLmxvZ2dlcl0gLSBUaGUgb3B0aW9uYWwgZnVuY3Rpb24gZm9yIHNwZWNpYWxpemVkIGxvZ2dpbmcsIGllOlxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIGZ1bmN0aW9uKGtpbmQsIG1zZywgZGF0YSkge1xuICogICBjb25zb2xlLmxvZyhgJHtraW5kfTogJHttc2d9YCwgZGF0YSlcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5sb25ncG9sbGVyVGltZW91dF0gLSBUaGUgbWF4aW11bSB0aW1lb3V0IG9mIGEgbG9uZyBwb2xsIEFKQVggcmVxdWVzdC5cbiAqXG4gKiBEZWZhdWx0cyB0byAyMHMgKGRvdWJsZSB0aGUgc2VydmVyIGxvbmcgcG9sbCB0aW1lcikuXG4gKlxuICogQHBhcmFtIHsoT2JqZWN0fGZ1bmN0aW9uKX0gW29wdHMucGFyYW1zXSAtIFRoZSBvcHRpb25hbCBwYXJhbXMgdG8gcGFzcyB3aGVuIGNvbm5lY3RpbmdcbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5iaW5hcnlUeXBlXSAtIFRoZSBiaW5hcnkgdHlwZSB0byB1c2UgZm9yIGJpbmFyeSBXZWJTb2NrZXQgZnJhbWVzLlxuICpcbiAqIERlZmF1bHRzIHRvIFwiYXJyYXlidWZmZXJcIlxuICpcbiAqIEBwYXJhbSB7dnNufSBbb3B0cy52c25dIC0gVGhlIHNlcmlhbGl6ZXIncyBwcm90b2NvbCB2ZXJzaW9uIHRvIHNlbmQgb24gY29ubmVjdC5cbiAqXG4gKiBEZWZhdWx0cyB0byBERUZBVUxUX1ZTTi5cbiovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTb2NrZXQge1xuICBjb25zdHJ1Y3RvcihlbmRQb2ludCwgb3B0cyA9IHt9KXtcbiAgICB0aGlzLnN0YXRlQ2hhbmdlQ2FsbGJhY2tzID0ge29wZW46IFtdLCBjbG9zZTogW10sIGVycm9yOiBbXSwgbWVzc2FnZTogW119XG4gICAgdGhpcy5jaGFubmVscyA9IFtdXG4gICAgdGhpcy5zZW5kQnVmZmVyID0gW11cbiAgICB0aGlzLnJlZiA9IDBcbiAgICB0aGlzLnRpbWVvdXQgPSBvcHRzLnRpbWVvdXQgfHwgREVGQVVMVF9USU1FT1VUXG4gICAgdGhpcy50cmFuc3BvcnQgPSBvcHRzLnRyYW5zcG9ydCB8fCBnbG9iYWwuV2ViU29ja2V0IHx8IExvbmdQb2xsXG4gICAgdGhpcy5lc3RhYmxpc2hlZENvbm5lY3Rpb25zID0gMFxuICAgIHRoaXMuZGVmYXVsdEVuY29kZXIgPSBTZXJpYWxpemVyLmVuY29kZS5iaW5kKFNlcmlhbGl6ZXIpXG4gICAgdGhpcy5kZWZhdWx0RGVjb2RlciA9IFNlcmlhbGl6ZXIuZGVjb2RlLmJpbmQoU2VyaWFsaXplcilcbiAgICB0aGlzLmNsb3NlV2FzQ2xlYW4gPSBmYWxzZVxuICAgIHRoaXMuYmluYXJ5VHlwZSA9IG9wdHMuYmluYXJ5VHlwZSB8fCBcImFycmF5YnVmZmVyXCJcbiAgICB0aGlzLmNvbm5lY3RDbG9jayA9IDFcbiAgICBpZih0aGlzLnRyYW5zcG9ydCAhPT0gTG9uZ1BvbGwpe1xuICAgICAgdGhpcy5lbmNvZGUgPSBvcHRzLmVuY29kZSB8fCB0aGlzLmRlZmF1bHRFbmNvZGVyXG4gICAgICB0aGlzLmRlY29kZSA9IG9wdHMuZGVjb2RlIHx8IHRoaXMuZGVmYXVsdERlY29kZXJcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbmNvZGUgPSB0aGlzLmRlZmF1bHRFbmNvZGVyXG4gICAgICB0aGlzLmRlY29kZSA9IHRoaXMuZGVmYXVsdERlY29kZXJcbiAgICB9XG4gICAgbGV0IGF3YWl0aW5nQ29ubmVjdGlvbk9uUGFnZVNob3cgPSBudWxsXG4gICAgaWYocGh4V2luZG93ICYmIHBoeFdpbmRvdy5hZGRFdmVudExpc3RlbmVyKXtcbiAgICAgIHBoeFdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicGFnZWhpZGVcIiwgX2UgPT4ge1xuICAgICAgICBpZih0aGlzLmNvbm4pe1xuICAgICAgICAgIHRoaXMuZGlzY29ubmVjdCgpXG4gICAgICAgICAgYXdhaXRpbmdDb25uZWN0aW9uT25QYWdlU2hvdyA9IHRoaXMuY29ubmVjdENsb2NrXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICBwaHhXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBhZ2VzaG93XCIsIF9lID0+IHtcbiAgICAgICAgaWYoYXdhaXRpbmdDb25uZWN0aW9uT25QYWdlU2hvdyA9PT0gdGhpcy5jb25uZWN0Q2xvY2spe1xuICAgICAgICAgIGF3YWl0aW5nQ29ubmVjdGlvbk9uUGFnZVNob3cgPSBudWxsXG4gICAgICAgICAgdGhpcy5jb25uZWN0KClcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gICAgdGhpcy5oZWFydGJlYXRJbnRlcnZhbE1zID0gb3B0cy5oZWFydGJlYXRJbnRlcnZhbE1zIHx8IDMwMDAwXG4gICAgdGhpcy5yZWpvaW5BZnRlck1zID0gKHRyaWVzKSA9PiB7XG4gICAgICBpZihvcHRzLnJlam9pbkFmdGVyTXMpe1xuICAgICAgICByZXR1cm4gb3B0cy5yZWpvaW5BZnRlck1zKHRyaWVzKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFsxMDAwLCAyMDAwLCA1MDAwXVt0cmllcyAtIDFdIHx8IDEwMDAwXG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMucmVjb25uZWN0QWZ0ZXJNcyA9ICh0cmllcykgPT4ge1xuICAgICAgaWYob3B0cy5yZWNvbm5lY3RBZnRlck1zKXtcbiAgICAgICAgcmV0dXJuIG9wdHMucmVjb25uZWN0QWZ0ZXJNcyh0cmllcylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBbMTAsIDUwLCAxMDAsIDE1MCwgMjAwLCAyNTAsIDUwMCwgMTAwMCwgMjAwMF1bdHJpZXMgLSAxXSB8fCA1MDAwXG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMubG9nZ2VyID0gb3B0cy5sb2dnZXIgfHwgbnVsbFxuICAgIHRoaXMubG9uZ3BvbGxlclRpbWVvdXQgPSBvcHRzLmxvbmdwb2xsZXJUaW1lb3V0IHx8IDIwMDAwXG4gICAgdGhpcy5wYXJhbXMgPSBjbG9zdXJlKG9wdHMucGFyYW1zIHx8IHt9KVxuICAgIHRoaXMuZW5kUG9pbnQgPSBgJHtlbmRQb2ludH0vJHtUUkFOU1BPUlRTLndlYnNvY2tldH1gXG4gICAgdGhpcy52c24gPSBvcHRzLnZzbiB8fCBERUZBVUxUX1ZTTlxuICAgIHRoaXMuaGVhcnRiZWF0VGltZW91dFRpbWVyID0gbnVsbFxuICAgIHRoaXMuaGVhcnRiZWF0VGltZXIgPSBudWxsXG4gICAgdGhpcy5wZW5kaW5nSGVhcnRiZWF0UmVmID0gbnVsbFxuICAgIHRoaXMucmVjb25uZWN0VGltZXIgPSBuZXcgVGltZXIoKCkgPT4ge1xuICAgICAgdGhpcy50ZWFyZG93bigoKSA9PiB0aGlzLmNvbm5lY3QoKSlcbiAgICB9LCB0aGlzLnJlY29ubmVjdEFmdGVyTXMpXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgTG9uZ1BvbGwgdHJhbnNwb3J0IHJlZmVyZW5jZVxuICAgKi9cbiAgZ2V0TG9uZ1BvbGxUcmFuc3BvcnQoKXsgcmV0dXJuIExvbmdQb2xsIH1cblxuICAvKipcbiAgICogRGlzY29ubmVjdHMgYW5kIHJlcGxhY2VzIHRoZSBhY3RpdmUgdHJhbnNwb3J0XG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IG5ld1RyYW5zcG9ydCAtIFRoZSBuZXcgdHJhbnNwb3J0IGNsYXNzIHRvIGluc3RhbnRpYXRlXG4gICAqXG4gICAqL1xuICByZXBsYWNlVHJhbnNwb3J0KG5ld1RyYW5zcG9ydCl7XG4gICAgdGhpcy5jb25uZWN0Q2xvY2srK1xuICAgIHRoaXMuY2xvc2VXYXNDbGVhbiA9IHRydWVcbiAgICB0aGlzLnJlY29ubmVjdFRpbWVyLnJlc2V0KClcbiAgICB0aGlzLnNlbmRCdWZmZXIgPSBbXVxuICAgIGlmKHRoaXMuY29ubil7XG4gICAgICB0aGlzLmNvbm4uY2xvc2UoKVxuICAgICAgdGhpcy5jb25uID0gbnVsbFxuICAgIH1cbiAgICB0aGlzLnRyYW5zcG9ydCA9IG5ld1RyYW5zcG9ydFxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHNvY2tldCBwcm90b2NvbFxuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgcHJvdG9jb2woKXsgcmV0dXJuIGxvY2F0aW9uLnByb3RvY29sLm1hdGNoKC9eaHR0cHMvKSA/IFwid3NzXCIgOiBcIndzXCIgfVxuXG4gIC8qKlxuICAgKiBUaGUgZnVsbHkgcXVhbGlmaWVkIHNvY2tldCB1cmxcbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIGVuZFBvaW50VVJMKCl7XG4gICAgbGV0IHVyaSA9IEFqYXguYXBwZW5kUGFyYW1zKFxuICAgICAgQWpheC5hcHBlbmRQYXJhbXModGhpcy5lbmRQb2ludCwgdGhpcy5wYXJhbXMoKSksIHt2c246IHRoaXMudnNufSlcbiAgICBpZih1cmkuY2hhckF0KDApICE9PSBcIi9cIil7IHJldHVybiB1cmkgfVxuICAgIGlmKHVyaS5jaGFyQXQoMSkgPT09IFwiL1wiKXsgcmV0dXJuIGAke3RoaXMucHJvdG9jb2woKX06JHt1cml9YCB9XG5cbiAgICByZXR1cm4gYCR7dGhpcy5wcm90b2NvbCgpfTovLyR7bG9jYXRpb24uaG9zdH0ke3VyaX1gXG4gIH1cblxuICAvKipcbiAgICogRGlzY29ubmVjdHMgdGhlIHNvY2tldFxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0Nsb3NlRXZlbnQjU3RhdHVzX2NvZGVzIGZvciB2YWxpZCBzdGF0dXMgY29kZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gT3B0aW9uYWwgY2FsbGJhY2sgd2hpY2ggaXMgY2FsbGVkIGFmdGVyIHNvY2tldCBpcyBkaXNjb25uZWN0ZWQuXG4gICAqIEBwYXJhbSB7aW50ZWdlcn0gY29kZSAtIEEgc3RhdHVzIGNvZGUgZm9yIGRpc2Nvbm5lY3Rpb24gKE9wdGlvbmFsKS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHJlYXNvbiAtIEEgdGV4dHVhbCBkZXNjcmlwdGlvbiBvZiB0aGUgcmVhc29uIHRvIGRpc2Nvbm5lY3QuIChPcHRpb25hbClcbiAgICovXG4gIGRpc2Nvbm5lY3QoY2FsbGJhY2ssIGNvZGUsIHJlYXNvbil7XG4gICAgdGhpcy5jb25uZWN0Q2xvY2srK1xuICAgIHRoaXMuY2xvc2VXYXNDbGVhbiA9IHRydWVcbiAgICB0aGlzLnJlY29ubmVjdFRpbWVyLnJlc2V0KClcbiAgICB0aGlzLnRlYXJkb3duKGNhbGxiYWNrLCBjb2RlLCByZWFzb24pXG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyAtIFRoZSBwYXJhbXMgdG8gc2VuZCB3aGVuIGNvbm5lY3RpbmcsIGZvciBleGFtcGxlIGB7dXNlcl9pZDogdXNlclRva2VufWBcbiAgICpcbiAgICogUGFzc2luZyBwYXJhbXMgdG8gY29ubmVjdCBpcyBkZXByZWNhdGVkOyBwYXNzIHRoZW0gaW4gdGhlIFNvY2tldCBjb25zdHJ1Y3RvciBpbnN0ZWFkOlxuICAgKiBgbmV3IFNvY2tldChcIi9zb2NrZXRcIiwge3BhcmFtczoge3VzZXJfaWQ6IHVzZXJUb2tlbn19KWAuXG4gICAqL1xuICBjb25uZWN0KHBhcmFtcyl7XG4gICAgaWYocGFyYW1zKXtcbiAgICAgIGNvbnNvbGUgJiYgY29uc29sZS5sb2coXCJwYXNzaW5nIHBhcmFtcyB0byBjb25uZWN0IGlzIGRlcHJlY2F0ZWQuIEluc3RlYWQgcGFzcyA6cGFyYW1zIHRvIHRoZSBTb2NrZXQgY29uc3RydWN0b3JcIilcbiAgICAgIHRoaXMucGFyYW1zID0gY2xvc3VyZShwYXJhbXMpXG4gICAgfVxuICAgIGlmKHRoaXMuY29ubil7IHJldHVybiB9XG5cbiAgICB0aGlzLmNvbm5lY3RDbG9jaysrXG4gICAgdGhpcy5jbG9zZVdhc0NsZWFuID0gZmFsc2VcbiAgICB0aGlzLmNvbm4gPSBuZXcgdGhpcy50cmFuc3BvcnQodGhpcy5lbmRQb2ludFVSTCgpKVxuICAgIHRoaXMuY29ubi5iaW5hcnlUeXBlID0gdGhpcy5iaW5hcnlUeXBlXG4gICAgdGhpcy5jb25uLnRpbWVvdXQgPSB0aGlzLmxvbmdwb2xsZXJUaW1lb3V0XG4gICAgdGhpcy5jb25uLm9ub3BlbiA9ICgpID0+IHRoaXMub25Db25uT3BlbigpXG4gICAgdGhpcy5jb25uLm9uZXJyb3IgPSBlcnJvciA9PiB0aGlzLm9uQ29ubkVycm9yKGVycm9yKVxuICAgIHRoaXMuY29ubi5vbm1lc3NhZ2UgPSBldmVudCA9PiB0aGlzLm9uQ29ubk1lc3NhZ2UoZXZlbnQpXG4gICAgdGhpcy5jb25uLm9uY2xvc2UgPSBldmVudCA9PiB0aGlzLm9uQ29ubkNsb3NlKGV2ZW50KVxuICB9XG5cbiAgLyoqXG4gICAqIExvZ3MgdGhlIG1lc3NhZ2UuIE92ZXJyaWRlIGB0aGlzLmxvZ2dlcmAgZm9yIHNwZWNpYWxpemVkIGxvZ2dpbmcuIG5vb3BzIGJ5IGRlZmF1bHRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtpbmRcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1zZ1xuICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuICAgKi9cbiAgbG9nKGtpbmQsIG1zZywgZGF0YSl7IHRoaXMubG9nZ2VyKGtpbmQsIG1zZywgZGF0YSkgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgYSBsb2dnZXIgaGFzIGJlZW4gc2V0IG9uIHRoaXMgc29ja2V0LlxuICAgKi9cbiAgaGFzTG9nZ2VyKCl7IHJldHVybiB0aGlzLmxvZ2dlciAhPT0gbnVsbCB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyBjYWxsYmFja3MgZm9yIGNvbm5lY3Rpb24gb3BlbiBldmVudHNcbiAgICpcbiAgICogQGV4YW1wbGUgc29ja2V0Lm9uT3BlbihmdW5jdGlvbigpeyBjb25zb2xlLmluZm8oXCJ0aGUgc29ja2V0IHdhcyBvcGVuZWRcIikgfSlcbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICovXG4gIG9uT3BlbihjYWxsYmFjayl7XG4gICAgbGV0IHJlZiA9IHRoaXMubWFrZVJlZigpXG4gICAgdGhpcy5zdGF0ZUNoYW5nZUNhbGxiYWNrcy5vcGVuLnB1c2goW3JlZiwgY2FsbGJhY2tdKVxuICAgIHJldHVybiByZWZcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgY2FsbGJhY2tzIGZvciBjb25uZWN0aW9uIGNsb3NlIGV2ZW50c1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKi9cbiAgb25DbG9zZShjYWxsYmFjayl7XG4gICAgbGV0IHJlZiA9IHRoaXMubWFrZVJlZigpXG4gICAgdGhpcy5zdGF0ZUNoYW5nZUNhbGxiYWNrcy5jbG9zZS5wdXNoKFtyZWYsIGNhbGxiYWNrXSlcbiAgICByZXR1cm4gcmVmXG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXJzIGNhbGxiYWNrcyBmb3IgY29ubmVjdGlvbiBlcnJvciBldmVudHNcbiAgICpcbiAgICogQGV4YW1wbGUgc29ja2V0Lm9uRXJyb3IoZnVuY3Rpb24oZXJyb3IpeyBhbGVydChcIkFuIGVycm9yIG9jY3VycmVkXCIpIH0pXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAqL1xuICBvbkVycm9yKGNhbGxiYWNrKXtcbiAgICBsZXQgcmVmID0gdGhpcy5tYWtlUmVmKClcbiAgICB0aGlzLnN0YXRlQ2hhbmdlQ2FsbGJhY2tzLmVycm9yLnB1c2goW3JlZiwgY2FsbGJhY2tdKVxuICAgIHJldHVybiByZWZcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgY2FsbGJhY2tzIGZvciBjb25uZWN0aW9uIG1lc3NhZ2UgZXZlbnRzXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAqL1xuICBvbk1lc3NhZ2UoY2FsbGJhY2spe1xuICAgIGxldCByZWYgPSB0aGlzLm1ha2VSZWYoKVxuICAgIHRoaXMuc3RhdGVDaGFuZ2VDYWxsYmFja3MubWVzc2FnZS5wdXNoKFtyZWYsIGNhbGxiYWNrXSlcbiAgICByZXR1cm4gcmVmXG4gIH1cblxuICAvKipcbiAgICogUGluZ3MgdGhlIHNlcnZlciBhbmQgaW52b2tlcyB0aGUgY2FsbGJhY2sgd2l0aCB0aGUgUlRUIGluIG1pbGxpc2Vjb25kc1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHBpbmcgd2FzIHB1c2hlZCBvciBmYWxzZSBpZiB1bmFibGUgdG8gYmUgcHVzaGVkLlxuICAgKi9cbiAgcGluZyhjYWxsYmFjayl7XG4gICAgaWYoIXRoaXMuaXNDb25uZWN0ZWQoKSl7IHJldHVybiBmYWxzZSB9XG4gICAgbGV0IHJlZiA9IHRoaXMubWFrZVJlZigpXG4gICAgbGV0IHN0YXJ0VGltZSA9IERhdGUubm93KClcbiAgICB0aGlzLnB1c2goe3RvcGljOiBcInBob2VuaXhcIiwgZXZlbnQ6IFwiaGVhcnRiZWF0XCIsIHBheWxvYWQ6IHt9LCByZWY6IHJlZn0pXG4gICAgbGV0IG9uTXNnUmVmID0gdGhpcy5vbk1lc3NhZ2UobXNnID0+IHtcbiAgICAgIGlmKG1zZy5yZWYgPT09IHJlZil7XG4gICAgICAgIHRoaXMub2ZmKFtvbk1zZ1JlZl0pXG4gICAgICAgIGNhbGxiYWNrKERhdGUubm93KCkgLSBzdGFydFRpbWUpXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG4gIGNsZWFySGVhcnRiZWF0cygpe1xuICAgIGNsZWFyVGltZW91dCh0aGlzLmhlYXJ0YmVhdFRpbWVyKVxuICAgIGNsZWFyVGltZW91dCh0aGlzLmhlYXJ0YmVhdFRpbWVvdXRUaW1lcilcbiAgfVxuXG4gIG9uQ29ubk9wZW4oKXtcbiAgICBpZih0aGlzLmhhc0xvZ2dlcigpKSB0aGlzLmxvZyhcInRyYW5zcG9ydFwiLCBgY29ubmVjdGVkIHRvICR7dGhpcy5lbmRQb2ludFVSTCgpfWApXG4gICAgdGhpcy5jbG9zZVdhc0NsZWFuID0gZmFsc2VcbiAgICB0aGlzLmVzdGFibGlzaGVkQ29ubmVjdGlvbnMrK1xuICAgIHRoaXMuZmx1c2hTZW5kQnVmZmVyKClcbiAgICB0aGlzLnJlY29ubmVjdFRpbWVyLnJlc2V0KClcbiAgICB0aGlzLnJlc2V0SGVhcnRiZWF0KClcbiAgICB0aGlzLnN0YXRlQ2hhbmdlQ2FsbGJhY2tzLm9wZW4uZm9yRWFjaCgoWywgY2FsbGJhY2tdKSA9PiBjYWxsYmFjaygpKVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG4gIGhlYXJ0YmVhdFRpbWVvdXQoKXtcbiAgICBpZih0aGlzLnBlbmRpbmdIZWFydGJlYXRSZWYpe1xuICAgICAgdGhpcy5wZW5kaW5nSGVhcnRiZWF0UmVmID0gbnVsbFxuICAgICAgaWYodGhpcy5oYXNMb2dnZXIoKSl7IHRoaXMubG9nKFwidHJhbnNwb3J0XCIsIFwiaGVhcnRiZWF0IHRpbWVvdXQuIEF0dGVtcHRpbmcgdG8gcmUtZXN0YWJsaXNoIGNvbm5lY3Rpb25cIikgfVxuICAgICAgdGhpcy50cmlnZ2VyQ2hhbkVycm9yKClcbiAgICAgIHRoaXMuY2xvc2VXYXNDbGVhbiA9IGZhbHNlXG4gICAgICB0aGlzLnRlYXJkb3duKCgpID0+IHRoaXMucmVjb25uZWN0VGltZXIuc2NoZWR1bGVUaW1lb3V0KCksIFdTX0NMT1NFX05PUk1BTCwgXCJoZWFydGJlYXQgdGltZW91dFwiKVxuICAgIH1cbiAgfVxuXG4gIHJlc2V0SGVhcnRiZWF0KCl7XG4gICAgaWYodGhpcy5jb25uICYmIHRoaXMuY29ubi5za2lwSGVhcnRiZWF0KXsgcmV0dXJuIH1cbiAgICB0aGlzLnBlbmRpbmdIZWFydGJlYXRSZWYgPSBudWxsXG4gICAgdGhpcy5jbGVhckhlYXJ0YmVhdHMoKVxuICAgIHRoaXMuaGVhcnRiZWF0VGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHRoaXMuc2VuZEhlYXJ0YmVhdCgpLCB0aGlzLmhlYXJ0YmVhdEludGVydmFsTXMpXG4gIH1cblxuICB0ZWFyZG93bihjYWxsYmFjaywgY29kZSwgcmVhc29uKXtcbiAgICBpZighdGhpcy5jb25uKXtcbiAgICAgIHJldHVybiBjYWxsYmFjayAmJiBjYWxsYmFjaygpXG4gICAgfVxuXG4gICAgdGhpcy53YWl0Rm9yQnVmZmVyRG9uZSgoKSA9PiB7XG4gICAgICBpZih0aGlzLmNvbm4pe1xuICAgICAgICBpZihjb2RlKXsgdGhpcy5jb25uLmNsb3NlKGNvZGUsIHJlYXNvbiB8fCBcIlwiKSB9IGVsc2UgeyB0aGlzLmNvbm4uY2xvc2UoKSB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMud2FpdEZvclNvY2tldENsb3NlZCgoKSA9PiB7XG4gICAgICAgIGlmKHRoaXMuY29ubil7XG4gICAgICAgICAgdGhpcy5jb25uLm9ub3BlbiA9IGZ1bmN0aW9uICgpeyB9IC8vIG5vb3BcbiAgICAgICAgICB0aGlzLmNvbm4ub25lcnJvciA9IGZ1bmN0aW9uICgpeyB9IC8vIG5vb3BcbiAgICAgICAgICB0aGlzLmNvbm4ub25tZXNzYWdlID0gZnVuY3Rpb24gKCl7IH0gLy8gbm9vcFxuICAgICAgICAgIHRoaXMuY29ubi5vbmNsb3NlID0gZnVuY3Rpb24gKCl7IH0gLy8gbm9vcFxuICAgICAgICAgIHRoaXMuY29ubiA9IG51bGxcbiAgICAgICAgfVxuXG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKClcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIHdhaXRGb3JCdWZmZXJEb25lKGNhbGxiYWNrLCB0cmllcyA9IDEpe1xuICAgIGlmKHRyaWVzID09PSA1IHx8ICF0aGlzLmNvbm4gfHwgIXRoaXMuY29ubi5idWZmZXJlZEFtb3VudCl7XG4gICAgICBjYWxsYmFjaygpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMud2FpdEZvckJ1ZmZlckRvbmUoY2FsbGJhY2ssIHRyaWVzICsgMSlcbiAgICB9LCAxNTAgKiB0cmllcylcbiAgfVxuXG4gIHdhaXRGb3JTb2NrZXRDbG9zZWQoY2FsbGJhY2ssIHRyaWVzID0gMSl7XG4gICAgaWYodHJpZXMgPT09IDUgfHwgIXRoaXMuY29ubiB8fCB0aGlzLmNvbm4ucmVhZHlTdGF0ZSA9PT0gU09DS0VUX1NUQVRFUy5jbG9zZWQpe1xuICAgICAgY2FsbGJhY2soKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLndhaXRGb3JTb2NrZXRDbG9zZWQoY2FsbGJhY2ssIHRyaWVzICsgMSlcbiAgICB9LCAxNTAgKiB0cmllcylcbiAgfVxuXG4gIG9uQ29ubkNsb3NlKGV2ZW50KXtcbiAgICBsZXQgY2xvc2VDb2RlID0gZXZlbnQgJiYgZXZlbnQuY29kZVxuICAgIGlmKHRoaXMuaGFzTG9nZ2VyKCkpIHRoaXMubG9nKFwidHJhbnNwb3J0XCIsIFwiY2xvc2VcIiwgZXZlbnQpXG4gICAgdGhpcy50cmlnZ2VyQ2hhbkVycm9yKClcbiAgICB0aGlzLmNsZWFySGVhcnRiZWF0cygpXG4gICAgaWYoIXRoaXMuY2xvc2VXYXNDbGVhbiAmJiBjbG9zZUNvZGUgIT09IDEwMDApe1xuICAgICAgdGhpcy5yZWNvbm5lY3RUaW1lci5zY2hlZHVsZVRpbWVvdXQoKVxuICAgIH1cbiAgICB0aGlzLnN0YXRlQ2hhbmdlQ2FsbGJhY2tzLmNsb3NlLmZvckVhY2goKFssIGNhbGxiYWNrXSkgPT4gY2FsbGJhY2soZXZlbnQpKVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBvbkNvbm5FcnJvcihlcnJvcil7XG4gICAgaWYodGhpcy5oYXNMb2dnZXIoKSkgdGhpcy5sb2coXCJ0cmFuc3BvcnRcIiwgZXJyb3IpXG4gICAgbGV0IHRyYW5zcG9ydEJlZm9yZSA9IHRoaXMudHJhbnNwb3J0XG4gICAgbGV0IGVzdGFibGlzaGVkQmVmb3JlID0gdGhpcy5lc3RhYmxpc2hlZENvbm5lY3Rpb25zXG4gICAgdGhpcy5zdGF0ZUNoYW5nZUNhbGxiYWNrcy5lcnJvci5mb3JFYWNoKChbLCBjYWxsYmFja10pID0+IHtcbiAgICAgIGNhbGxiYWNrKGVycm9yLCB0cmFuc3BvcnRCZWZvcmUsIGVzdGFibGlzaGVkQmVmb3JlKVxuICAgIH0pXG4gICAgaWYodHJhbnNwb3J0QmVmb3JlID09PSB0aGlzLnRyYW5zcG9ydCB8fCBlc3RhYmxpc2hlZEJlZm9yZSA+IDApe1xuICAgICAgdGhpcy50cmlnZ2VyQ2hhbkVycm9yKClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRyaWdnZXJDaGFuRXJyb3IoKXtcbiAgICB0aGlzLmNoYW5uZWxzLmZvckVhY2goY2hhbm5lbCA9PiB7XG4gICAgICBpZighKGNoYW5uZWwuaXNFcnJvcmVkKCkgfHwgY2hhbm5lbC5pc0xlYXZpbmcoKSB8fCBjaGFubmVsLmlzQ2xvc2VkKCkpKXtcbiAgICAgICAgY2hhbm5lbC50cmlnZ2VyKENIQU5ORUxfRVZFTlRTLmVycm9yKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIGNvbm5lY3Rpb25TdGF0ZSgpe1xuICAgIHN3aXRjaCh0aGlzLmNvbm4gJiYgdGhpcy5jb25uLnJlYWR5U3RhdGUpe1xuICAgICAgY2FzZSBTT0NLRVRfU1RBVEVTLmNvbm5lY3Rpbmc6IHJldHVybiBcImNvbm5lY3RpbmdcIlxuICAgICAgY2FzZSBTT0NLRVRfU1RBVEVTLm9wZW46IHJldHVybiBcIm9wZW5cIlxuICAgICAgY2FzZSBTT0NLRVRfU1RBVEVTLmNsb3Npbmc6IHJldHVybiBcImNsb3NpbmdcIlxuICAgICAgZGVmYXVsdDogcmV0dXJuIFwiY2xvc2VkXCJcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBpc0Nvbm5lY3RlZCgpeyByZXR1cm4gdGhpcy5jb25uZWN0aW9uU3RhdGUoKSA9PT0gXCJvcGVuXCIgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKlxuICAgKiBAcGFyYW0ge0NoYW5uZWx9XG4gICAqL1xuICByZW1vdmUoY2hhbm5lbCl7XG4gICAgdGhpcy5vZmYoY2hhbm5lbC5zdGF0ZUNoYW5nZVJlZnMpXG4gICAgdGhpcy5jaGFubmVscyA9IHRoaXMuY2hhbm5lbHMuZmlsdGVyKGMgPT4gYy5qb2luUmVmKCkgIT09IGNoYW5uZWwuam9pblJlZigpKVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYG9uT3BlbmAsIGBvbkNsb3NlYCwgYG9uRXJyb3IsYCBhbmQgYG9uTWVzc2FnZWAgcmVnaXN0cmF0aW9ucy5cbiAgICpcbiAgICogQHBhcmFtIHtyZWZzfSAtIGxpc3Qgb2YgcmVmcyByZXR1cm5lZCBieSBjYWxscyB0b1xuICAgKiAgICAgICAgICAgICAgICAgYG9uT3BlbmAsIGBvbkNsb3NlYCwgYG9uRXJyb3IsYCBhbmQgYG9uTWVzc2FnZWBcbiAgICovXG4gIG9mZihyZWZzKXtcbiAgICBmb3IobGV0IGtleSBpbiB0aGlzLnN0YXRlQ2hhbmdlQ2FsbGJhY2tzKXtcbiAgICAgIHRoaXMuc3RhdGVDaGFuZ2VDYWxsYmFja3Nba2V5XSA9IHRoaXMuc3RhdGVDaGFuZ2VDYWxsYmFja3Nba2V5XS5maWx0ZXIoKFtyZWZdKSA9PiB7XG4gICAgICAgIHJldHVybiByZWZzLmluZGV4T2YocmVmKSA9PT0gLTFcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYXRlcyBhIG5ldyBjaGFubmVsIGZvciB0aGUgZ2l2ZW4gdG9waWNcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRvcGljXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjaGFuUGFyYW1zIC0gUGFyYW1ldGVycyBmb3IgdGhlIGNoYW5uZWxcbiAgICogQHJldHVybnMge0NoYW5uZWx9XG4gICAqL1xuICBjaGFubmVsKHRvcGljLCBjaGFuUGFyYW1zID0ge30pe1xuICAgIGxldCBjaGFuID0gbmV3IENoYW5uZWwodG9waWMsIGNoYW5QYXJhbXMsIHRoaXMpXG4gICAgdGhpcy5jaGFubmVscy5wdXNoKGNoYW4pXG4gICAgcmV0dXJuIGNoYW5cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuICAgKi9cbiAgcHVzaChkYXRhKXtcbiAgICBpZih0aGlzLmhhc0xvZ2dlcigpKXtcbiAgICAgIGxldCB7dG9waWMsIGV2ZW50LCBwYXlsb2FkLCByZWYsIGpvaW5fcmVmfSA9IGRhdGFcbiAgICAgIHRoaXMubG9nKFwicHVzaFwiLCBgJHt0b3BpY30gJHtldmVudH0gKCR7am9pbl9yZWZ9LCAke3JlZn0pYCwgcGF5bG9hZClcbiAgICB9XG5cbiAgICBpZih0aGlzLmlzQ29ubmVjdGVkKCkpe1xuICAgICAgdGhpcy5lbmNvZGUoZGF0YSwgcmVzdWx0ID0+IHRoaXMuY29ubi5zZW5kKHJlc3VsdCkpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2VuZEJ1ZmZlci5wdXNoKCgpID0+IHRoaXMuZW5jb2RlKGRhdGEsIHJlc3VsdCA9PiB0aGlzLmNvbm4uc2VuZChyZXN1bHQpKSlcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBuZXh0IG1lc3NhZ2UgcmVmLCBhY2NvdW50aW5nIGZvciBvdmVyZmxvd3NcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIG1ha2VSZWYoKXtcbiAgICBsZXQgbmV3UmVmID0gdGhpcy5yZWYgKyAxXG4gICAgaWYobmV3UmVmID09PSB0aGlzLnJlZil7IHRoaXMucmVmID0gMCB9IGVsc2UgeyB0aGlzLnJlZiA9IG5ld1JlZiB9XG5cbiAgICByZXR1cm4gdGhpcy5yZWYudG9TdHJpbmcoKVxuICB9XG5cbiAgc2VuZEhlYXJ0YmVhdCgpe1xuICAgIGlmKHRoaXMucGVuZGluZ0hlYXJ0YmVhdFJlZiAmJiAhdGhpcy5pc0Nvbm5lY3RlZCgpKXsgcmV0dXJuIH1cbiAgICB0aGlzLnBlbmRpbmdIZWFydGJlYXRSZWYgPSB0aGlzLm1ha2VSZWYoKVxuICAgIHRoaXMucHVzaCh7dG9waWM6IFwicGhvZW5peFwiLCBldmVudDogXCJoZWFydGJlYXRcIiwgcGF5bG9hZDoge30sIHJlZjogdGhpcy5wZW5kaW5nSGVhcnRiZWF0UmVmfSlcbiAgICB0aGlzLmhlYXJ0YmVhdFRpbWVvdXRUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4gdGhpcy5oZWFydGJlYXRUaW1lb3V0KCksIHRoaXMuaGVhcnRiZWF0SW50ZXJ2YWxNcylcbiAgfVxuXG4gIGZsdXNoU2VuZEJ1ZmZlcigpe1xuICAgIGlmKHRoaXMuaXNDb25uZWN0ZWQoKSAmJiB0aGlzLnNlbmRCdWZmZXIubGVuZ3RoID4gMCl7XG4gICAgICB0aGlzLnNlbmRCdWZmZXIuZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjaygpKVxuICAgICAgdGhpcy5zZW5kQnVmZmVyID0gW11cbiAgICB9XG4gIH1cblxuICBvbkNvbm5NZXNzYWdlKHJhd01lc3NhZ2Upe1xuICAgIHRoaXMuZGVjb2RlKHJhd01lc3NhZ2UuZGF0YSwgbXNnID0+IHtcbiAgICAgIGxldCB7dG9waWMsIGV2ZW50LCBwYXlsb2FkLCByZWYsIGpvaW5fcmVmfSA9IG1zZ1xuICAgICAgaWYocmVmICYmIHJlZiA9PT0gdGhpcy5wZW5kaW5nSGVhcnRiZWF0UmVmKXtcbiAgICAgICAgdGhpcy5jbGVhckhlYXJ0YmVhdHMoKVxuICAgICAgICB0aGlzLnBlbmRpbmdIZWFydGJlYXRSZWYgPSBudWxsXG4gICAgICAgIHRoaXMuaGVhcnRiZWF0VGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHRoaXMuc2VuZEhlYXJ0YmVhdCgpLCB0aGlzLmhlYXJ0YmVhdEludGVydmFsTXMpXG4gICAgICB9XG5cbiAgICAgIGlmKHRoaXMuaGFzTG9nZ2VyKCkpIHRoaXMubG9nKFwicmVjZWl2ZVwiLCBgJHtwYXlsb2FkLnN0YXR1cyB8fCBcIlwifSAke3RvcGljfSAke2V2ZW50fSAke3JlZiAmJiBcIihcIiArIHJlZiArIFwiKVwiIHx8IFwiXCJ9YCwgcGF5bG9hZClcblxuICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuY2hhbm5lbHMubGVuZ3RoOyBpKyspe1xuICAgICAgICBjb25zdCBjaGFubmVsID0gdGhpcy5jaGFubmVsc1tpXVxuICAgICAgICBpZighY2hhbm5lbC5pc01lbWJlcih0b3BpYywgZXZlbnQsIHBheWxvYWQsIGpvaW5fcmVmKSl7IGNvbnRpbnVlIH1cbiAgICAgICAgY2hhbm5lbC50cmlnZ2VyKGV2ZW50LCBwYXlsb2FkLCByZWYsIGpvaW5fcmVmKVxuICAgICAgfVxuXG4gICAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5zdGF0ZUNoYW5nZUNhbGxiYWNrcy5tZXNzYWdlLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgbGV0IFssIGNhbGxiYWNrXSA9IHRoaXMuc3RhdGVDaGFuZ2VDYWxsYmFja3MubWVzc2FnZVtpXVxuICAgICAgICBjYWxsYmFjayhtc2cpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGxlYXZlT3BlblRvcGljKHRvcGljKXtcbiAgICBsZXQgZHVwQ2hhbm5lbCA9IHRoaXMuY2hhbm5lbHMuZmluZChjID0+IGMudG9waWMgPT09IHRvcGljICYmIChjLmlzSm9pbmVkKCkgfHwgYy5pc0pvaW5pbmcoKSkpXG4gICAgaWYoZHVwQ2hhbm5lbCl7XG4gICAgICBpZih0aGlzLmhhc0xvZ2dlcigpKSB0aGlzLmxvZyhcInRyYW5zcG9ydFwiLCBgbGVhdmluZyBkdXBsaWNhdGUgdG9waWMgXCIke3RvcGljfVwiYClcbiAgICAgIGR1cENoYW5uZWwubGVhdmUoKVxuICAgIH1cbiAgfVxufSIsICJcbmV4cG9ydCBjb25zdCBDT05TRUNVVElWRV9SRUxPQURTID0gXCJjb25zZWN1dGl2ZS1yZWxvYWRzXCJcbmV4cG9ydCBjb25zdCBNQVhfUkVMT0FEUyA9IDEwXG5leHBvcnQgY29uc3QgUkVMT0FEX0pJVFRFUl9NSU4gPSA1MDAwXG5leHBvcnQgY29uc3QgUkVMT0FEX0pJVFRFUl9NQVggPSAxMDAwMFxuZXhwb3J0IGNvbnN0IEZBSUxTQUZFX0pJVFRFUiA9IDMwMDAwXG5leHBvcnQgY29uc3QgUEhYX0VWRU5UX0NMQVNTRVMgPSBbXG4gIFwicGh4LWNsaWNrLWxvYWRpbmdcIiwgXCJwaHgtY2hhbmdlLWxvYWRpbmdcIiwgXCJwaHgtc3VibWl0LWxvYWRpbmdcIixcbiAgXCJwaHgta2V5ZG93bi1sb2FkaW5nXCIsIFwicGh4LWtleXVwLWxvYWRpbmdcIiwgXCJwaHgtYmx1ci1sb2FkaW5nXCIsIFwicGh4LWZvY3VzLWxvYWRpbmdcIlxuXVxuZXhwb3J0IGNvbnN0IFBIWF9DT01QT05FTlQgPSBcImRhdGEtcGh4LWNvbXBvbmVudFwiXG5leHBvcnQgY29uc3QgUEhYX0xJVkVfTElOSyA9IFwiZGF0YS1waHgtbGlua1wiXG5leHBvcnQgY29uc3QgUEhYX1RSQUNLX1NUQVRJQyA9IFwidHJhY2stc3RhdGljXCJcbmV4cG9ydCBjb25zdCBQSFhfTElOS19TVEFURSA9IFwiZGF0YS1waHgtbGluay1zdGF0ZVwiXG5leHBvcnQgY29uc3QgUEhYX1JFRiA9IFwiZGF0YS1waHgtcmVmXCJcbmV4cG9ydCBjb25zdCBQSFhfUkVGX1NSQyA9IFwiZGF0YS1waHgtcmVmLXNyY1wiXG5leHBvcnQgY29uc3QgUEhYX1RSQUNLX1VQTE9BRFMgPSBcInRyYWNrLXVwbG9hZHNcIlxuZXhwb3J0IGNvbnN0IFBIWF9VUExPQURfUkVGID0gXCJkYXRhLXBoeC11cGxvYWQtcmVmXCJcbmV4cG9ydCBjb25zdCBQSFhfUFJFRkxJR0hURURfUkVGUyA9IFwiZGF0YS1waHgtcHJlZmxpZ2h0ZWQtcmVmc1wiXG5leHBvcnQgY29uc3QgUEhYX0RPTkVfUkVGUyA9IFwiZGF0YS1waHgtZG9uZS1yZWZzXCJcbmV4cG9ydCBjb25zdCBQSFhfRFJPUF9UQVJHRVQgPSBcImRyb3AtdGFyZ2V0XCJcbmV4cG9ydCBjb25zdCBQSFhfQUNUSVZFX0VOVFJZX1JFRlMgPSBcImRhdGEtcGh4LWFjdGl2ZS1yZWZzXCJcbmV4cG9ydCBjb25zdCBQSFhfTElWRV9GSUxFX1VQREFURUQgPSBcInBoeDpsaXZlLWZpbGU6dXBkYXRlZFwiXG5leHBvcnQgY29uc3QgUEhYX1NLSVAgPSBcImRhdGEtcGh4LXNraXBcIlxuZXhwb3J0IGNvbnN0IFBIWF9QUlVORSA9IFwiZGF0YS1waHgtcHJ1bmVcIlxuZXhwb3J0IGNvbnN0IFBIWF9QQUdFX0xPQURJTkcgPSBcInBhZ2UtbG9hZGluZ1wiXG5leHBvcnQgY29uc3QgUEhYX0NPTk5FQ1RFRF9DTEFTUyA9IFwicGh4LWNvbm5lY3RlZFwiXG5leHBvcnQgY29uc3QgUEhYX0RJU0NPTk5FQ1RFRF9DTEFTUyA9IFwicGh4LWxvYWRpbmdcIlxuZXhwb3J0IGNvbnN0IFBIWF9OT19GRUVEQkFDS19DTEFTUyA9IFwicGh4LW5vLWZlZWRiYWNrXCJcbmV4cG9ydCBjb25zdCBQSFhfRVJST1JfQ0xBU1MgPSBcInBoeC1lcnJvclwiXG5leHBvcnQgY29uc3QgUEhYX1BBUkVOVF9JRCA9IFwiZGF0YS1waHgtcGFyZW50LWlkXCJcbmV4cG9ydCBjb25zdCBQSFhfTUFJTiA9IFwiZGF0YS1waHgtbWFpblwiXG5leHBvcnQgY29uc3QgUEhYX1JPT1RfSUQgPSBcImRhdGEtcGh4LXJvb3QtaWRcIlxuZXhwb3J0IGNvbnN0IFBIWF9UUklHR0VSX0FDVElPTiA9IFwidHJpZ2dlci1hY3Rpb25cIlxuZXhwb3J0IGNvbnN0IFBIWF9GRUVEQkFDS19GT1IgPSBcImZlZWRiYWNrLWZvclwiXG5leHBvcnQgY29uc3QgUEhYX0hBU19GT0NVU0VEID0gXCJwaHgtaGFzLWZvY3VzZWRcIlxuZXhwb3J0IGNvbnN0IEZPQ1VTQUJMRV9JTlBVVFMgPSBbXCJ0ZXh0XCIsIFwidGV4dGFyZWFcIiwgXCJudW1iZXJcIiwgXCJlbWFpbFwiLCBcInBhc3N3b3JkXCIsIFwic2VhcmNoXCIsIFwidGVsXCIsIFwidXJsXCIsIFwiZGF0ZVwiLCBcInRpbWVcIiwgXCJkYXRldGltZS1sb2NhbFwiLCBcImNvbG9yXCIsIFwicmFuZ2VcIl1cbmV4cG9ydCBjb25zdCBDSEVDS0FCTEVfSU5QVVRTID0gW1wiY2hlY2tib3hcIiwgXCJyYWRpb1wiXVxuZXhwb3J0IGNvbnN0IFBIWF9IQVNfU1VCTUlUVEVEID0gXCJwaHgtaGFzLXN1Ym1pdHRlZFwiXG5leHBvcnQgY29uc3QgUEhYX1NFU1NJT04gPSBcImRhdGEtcGh4LXNlc3Npb25cIlxuZXhwb3J0IGNvbnN0IFBIWF9WSUVXX1NFTEVDVE9SID0gYFske1BIWF9TRVNTSU9OfV1gXG5leHBvcnQgY29uc3QgUEhYX1NUSUNLWSA9IFwiZGF0YS1waHgtc3RpY2t5XCJcbmV4cG9ydCBjb25zdCBQSFhfU1RBVElDID0gXCJkYXRhLXBoeC1zdGF0aWNcIlxuZXhwb3J0IGNvbnN0IFBIWF9SRUFET05MWSA9IFwiZGF0YS1waHgtcmVhZG9ubHlcIlxuZXhwb3J0IGNvbnN0IFBIWF9ESVNBQkxFRCA9IFwiZGF0YS1waHgtZGlzYWJsZWRcIlxuZXhwb3J0IGNvbnN0IFBIWF9ESVNBQkxFX1dJVEggPSBcImRpc2FibGUtd2l0aFwiXG5leHBvcnQgY29uc3QgUEhYX0RJU0FCTEVfV0lUSF9SRVNUT1JFID0gXCJkYXRhLXBoeC1kaXNhYmxlLXdpdGgtcmVzdG9yZVwiXG5leHBvcnQgY29uc3QgUEhYX0hPT0sgPSBcImhvb2tcIlxuZXhwb3J0IGNvbnN0IFBIWF9ERUJPVU5DRSA9IFwiZGVib3VuY2VcIlxuZXhwb3J0IGNvbnN0IFBIWF9USFJPVFRMRSA9IFwidGhyb3R0bGVcIlxuZXhwb3J0IGNvbnN0IFBIWF9VUERBVEUgPSBcInVwZGF0ZVwiXG5leHBvcnQgY29uc3QgUEhYX0tFWSA9IFwia2V5XCJcbmV4cG9ydCBjb25zdCBQSFhfUFJJVkFURSA9IFwicGh4UHJpdmF0ZVwiXG5leHBvcnQgY29uc3QgUEhYX0FVVE9fUkVDT1ZFUiA9IFwiYXV0by1yZWNvdmVyXCJcbmV4cG9ydCBjb25zdCBQSFhfTFZfREVCVUcgPSBcInBoeDpsaXZlLXNvY2tldDpkZWJ1Z1wiXG5leHBvcnQgY29uc3QgUEhYX0xWX1BST0ZJTEUgPSBcInBoeDpsaXZlLXNvY2tldDpwcm9maWxpbmdcIlxuZXhwb3J0IGNvbnN0IFBIWF9MVl9MQVRFTkNZX1NJTSA9IFwicGh4OmxpdmUtc29ja2V0OmxhdGVuY3ktc2ltXCJcbmV4cG9ydCBjb25zdCBQSFhfUFJPR1JFU1MgPSBcInByb2dyZXNzXCJcbmV4cG9ydCBjb25zdCBMT0FERVJfVElNRU9VVCA9IDFcbmV4cG9ydCBjb25zdCBCRUZPUkVfVU5MT0FEX0xPQURFUl9USU1FT1VUID0gMjAwXG5leHBvcnQgY29uc3QgQklORElOR19QUkVGSVggPSBcInBoeC1cIlxuZXhwb3J0IGNvbnN0IFBVU0hfVElNRU9VVCA9IDMwMDAwXG5leHBvcnQgY29uc3QgTElOS19IRUFERVIgPSBcIngtcmVxdWVzdGVkLXdpdGhcIlxuZXhwb3J0IGNvbnN0IFJFU1BPTlNFX1VSTF9IRUFERVIgPSBcIngtcmVzcG9uc2UtdXJsXCJcbmV4cG9ydCBjb25zdCBERUJPVU5DRV9UUklHR0VSID0gXCJkZWJvdW5jZS10cmlnZ2VyXCJcbmV4cG9ydCBjb25zdCBUSFJPVFRMRUQgPSBcInRocm90dGxlZFwiXG5leHBvcnQgY29uc3QgREVCT1VOQ0VfUFJFVl9LRVkgPSBcImRlYm91bmNlLXByZXYta2V5XCJcbmV4cG9ydCBjb25zdCBERUZBVUxUUyA9IHtcbiAgZGVib3VuY2U6IDMwMCxcbiAgdGhyb3R0bGU6IDMwMFxufVxuXG4vLyBSZW5kZXJlZFxuZXhwb3J0IGNvbnN0IERZTkFNSUNTID0gXCJkXCJcbmV4cG9ydCBjb25zdCBTVEFUSUMgPSBcInNcIlxuZXhwb3J0IGNvbnN0IENPTVBPTkVOVFMgPSBcImNcIlxuZXhwb3J0IGNvbnN0IEVWRU5UUyA9IFwiZVwiXG5leHBvcnQgY29uc3QgUkVQTFkgPSBcInJcIlxuZXhwb3J0IGNvbnN0IFRJVExFID0gXCJ0XCJcbmV4cG9ydCBjb25zdCBURU1QTEFURVMgPSBcInBcIlxuIiwgImltcG9ydCB7XG4gIGxvZ0Vycm9yXG59IGZyb20gXCIuL3V0aWxzXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRW50cnlVcGxvYWRlciB7XG4gIGNvbnN0cnVjdG9yKGVudHJ5LCBjaHVua1NpemUsIGxpdmVTb2NrZXQpe1xuICAgIHRoaXMubGl2ZVNvY2tldCA9IGxpdmVTb2NrZXRcbiAgICB0aGlzLmVudHJ5ID0gZW50cnlcbiAgICB0aGlzLm9mZnNldCA9IDBcbiAgICB0aGlzLmNodW5rU2l6ZSA9IGNodW5rU2l6ZVxuICAgIHRoaXMuY2h1bmtUaW1lciA9IG51bGxcbiAgICB0aGlzLnVwbG9hZENoYW5uZWwgPSBsaXZlU29ja2V0LmNoYW5uZWwoYGx2dToke2VudHJ5LnJlZn1gLCB7dG9rZW46IGVudHJ5Lm1ldGFkYXRhKCl9KVxuICB9XG5cbiAgZXJyb3IocmVhc29uKXtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5jaHVua1RpbWVyKVxuICAgIHRoaXMudXBsb2FkQ2hhbm5lbC5sZWF2ZSgpXG4gICAgdGhpcy5lbnRyeS5lcnJvcihyZWFzb24pXG4gIH1cblxuICB1cGxvYWQoKXtcbiAgICB0aGlzLnVwbG9hZENoYW5uZWwub25FcnJvcihyZWFzb24gPT4gdGhpcy5lcnJvcihyZWFzb24pKVxuICAgIHRoaXMudXBsb2FkQ2hhbm5lbC5qb2luKClcbiAgICAgIC5yZWNlaXZlKFwib2tcIiwgX2RhdGEgPT4gdGhpcy5yZWFkTmV4dENodW5rKCkpXG4gICAgICAucmVjZWl2ZShcImVycm9yXCIsIHJlYXNvbiA9PiB0aGlzLmVycm9yKHJlYXNvbikpXG4gIH1cblxuICBpc0RvbmUoKXsgcmV0dXJuIHRoaXMub2Zmc2V0ID49IHRoaXMuZW50cnkuZmlsZS5zaXplIH1cblxuICByZWFkTmV4dENodW5rKCl7XG4gICAgbGV0IHJlYWRlciA9IG5ldyB3aW5kb3cuRmlsZVJlYWRlcigpXG4gICAgbGV0IGJsb2IgPSB0aGlzLmVudHJ5LmZpbGUuc2xpY2UodGhpcy5vZmZzZXQsIHRoaXMuY2h1bmtTaXplICsgdGhpcy5vZmZzZXQpXG4gICAgcmVhZGVyLm9ubG9hZCA9IChlKSA9PiB7XG4gICAgICBpZihlLnRhcmdldC5lcnJvciA9PT0gbnVsbCl7XG4gICAgICAgIHRoaXMub2Zmc2V0ICs9IGUudGFyZ2V0LnJlc3VsdC5ieXRlTGVuZ3RoXG4gICAgICAgIHRoaXMucHVzaENodW5rKGUudGFyZ2V0LnJlc3VsdClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBsb2dFcnJvcihcIlJlYWQgZXJyb3I6IFwiICsgZS50YXJnZXQuZXJyb3IpXG4gICAgICB9XG4gICAgfVxuICAgIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihibG9iKVxuICB9XG5cbiAgcHVzaENodW5rKGNodW5rKXtcbiAgICBpZighdGhpcy51cGxvYWRDaGFubmVsLmlzSm9pbmVkKCkpeyByZXR1cm4gfVxuICAgIHRoaXMudXBsb2FkQ2hhbm5lbC5wdXNoKFwiY2h1bmtcIiwgY2h1bmspXG4gICAgICAucmVjZWl2ZShcIm9rXCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5lbnRyeS5wcm9ncmVzcygodGhpcy5vZmZzZXQgLyB0aGlzLmVudHJ5LmZpbGUuc2l6ZSkgKiAxMDApXG4gICAgICAgIGlmKCF0aGlzLmlzRG9uZSgpKXtcbiAgICAgICAgICB0aGlzLmNodW5rVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHRoaXMucmVhZE5leHRDaHVuaygpLCB0aGlzLmxpdmVTb2NrZXQuZ2V0TGF0ZW5jeVNpbSgpIHx8IDApXG4gICAgICAgIH1cbiAgICAgIH0pXG4gIH1cbn1cbiIsICJpbXBvcnQge1xuICBQSFhfVklFV19TRUxFQ1RPUlxufSBmcm9tIFwiLi9jb25zdGFudHNcIlxuXG5pbXBvcnQgRW50cnlVcGxvYWRlciBmcm9tIFwiLi9lbnRyeV91cGxvYWRlclwiXG5cbmV4cG9ydCBsZXQgbG9nRXJyb3IgPSAobXNnLCBvYmopID0+IGNvbnNvbGUuZXJyb3IgJiYgY29uc29sZS5lcnJvcihtc2csIG9iailcblxuZXhwb3J0IGxldCBpc0NpZCA9IChjaWQpID0+IHtcbiAgbGV0IHR5cGUgPSB0eXBlb2YoY2lkKVxuICByZXR1cm4gdHlwZSA9PT0gXCJudW1iZXJcIiB8fCAodHlwZSA9PT0gXCJzdHJpbmdcIiAmJiAvXigwfFsxLTldXFxkKikkLy50ZXN0KGNpZCkpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZXRlY3REdXBsaWNhdGVJZHMoKXtcbiAgbGV0IGlkcyA9IG5ldyBTZXQoKVxuICBsZXQgZWxlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiKltpZF1cIilcbiAgZm9yKGxldCBpID0gMCwgbGVuID0gZWxlbXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspe1xuICAgIGlmKGlkcy5oYXMoZWxlbXNbaV0uaWQpKXtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYE11bHRpcGxlIElEcyBkZXRlY3RlZDogJHtlbGVtc1tpXS5pZH0uIEVuc3VyZSB1bmlxdWUgZWxlbWVudCBpZHMuYClcbiAgICB9IGVsc2Uge1xuICAgICAgaWRzLmFkZChlbGVtc1tpXS5pZClcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGxldCBkZWJ1ZyA9ICh2aWV3LCBraW5kLCBtc2csIG9iaikgPT4ge1xuICBpZih2aWV3LmxpdmVTb2NrZXQuaXNEZWJ1Z0VuYWJsZWQoKSl7XG4gICAgY29uc29sZS5sb2coYCR7dmlldy5pZH0gJHtraW5kfTogJHttc2d9IC0gYCwgb2JqKVxuICB9XG59XG5cbi8vIHdyYXBzIHZhbHVlIGluIGNsb3N1cmUgb3IgcmV0dXJucyBjbG9zdXJlXG5leHBvcnQgbGV0IGNsb3N1cmUgPSAodmFsKSA9PiB0eXBlb2YgdmFsID09PSBcImZ1bmN0aW9uXCIgPyB2YWwgOiBmdW5jdGlvbiAoKXsgcmV0dXJuIHZhbCB9XG5cbmV4cG9ydCBsZXQgY2xvbmUgPSAob2JqKSA9PiB7IHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iaikpIH1cblxuZXhwb3J0IGxldCBjbG9zZXN0UGh4QmluZGluZyA9IChlbCwgYmluZGluZywgYm9yZGVyRWwpID0+IHtcbiAgZG8ge1xuICAgIGlmKGVsLm1hdGNoZXMoYFske2JpbmRpbmd9XWApKXsgcmV0dXJuIGVsIH1cbiAgICBlbCA9IGVsLnBhcmVudEVsZW1lbnQgfHwgZWwucGFyZW50Tm9kZVxuICB9IHdoaWxlKGVsICE9PSBudWxsICYmIGVsLm5vZGVUeXBlID09PSAxICYmICEoKGJvcmRlckVsICYmIGJvcmRlckVsLmlzU2FtZU5vZGUoZWwpKSB8fCBlbC5tYXRjaGVzKFBIWF9WSUVXX1NFTEVDVE9SKSkpXG4gIHJldHVybiBudWxsXG59XG5cbmV4cG9ydCBsZXQgaXNPYmplY3QgPSAob2JqKSA9PiB7XG4gIHJldHVybiBvYmogIT09IG51bGwgJiYgdHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIiAmJiAhKG9iaiBpbnN0YW5jZW9mIEFycmF5KVxufVxuXG5leHBvcnQgbGV0IGlzRXF1YWxPYmogPSAob2JqMSwgb2JqMikgPT4gSlNPTi5zdHJpbmdpZnkob2JqMSkgPT09IEpTT04uc3RyaW5naWZ5KG9iajIpXG5cbmV4cG9ydCBsZXQgaXNFbXB0eSA9IChvYmopID0+IHtcbiAgZm9yKGxldCB4IGluIG9iail7IHJldHVybiBmYWxzZSB9XG4gIHJldHVybiB0cnVlXG59XG5cbmV4cG9ydCBsZXQgbWF5YmUgPSAoZWwsIGNhbGxiYWNrKSA9PiBlbCAmJiBjYWxsYmFjayhlbClcblxuZXhwb3J0IGxldCBjaGFubmVsVXBsb2FkZXIgPSBmdW5jdGlvbiAoZW50cmllcywgb25FcnJvciwgcmVzcCwgbGl2ZVNvY2tldCl7XG4gIGVudHJpZXMuZm9yRWFjaChlbnRyeSA9PiB7XG4gICAgbGV0IGVudHJ5VXBsb2FkZXIgPSBuZXcgRW50cnlVcGxvYWRlcihlbnRyeSwgcmVzcC5jb25maWcuY2h1bmtfc2l6ZSwgbGl2ZVNvY2tldClcbiAgICBlbnRyeVVwbG9hZGVyLnVwbG9hZCgpXG4gIH0pXG59XG4iLCAibGV0IEJyb3dzZXIgPSB7XG4gIGNhblB1c2hTdGF0ZSgpeyByZXR1cm4gKHR5cGVvZiAoaGlzdG9yeS5wdXNoU3RhdGUpICE9PSBcInVuZGVmaW5lZFwiKSB9LFxuXG4gIGRyb3BMb2NhbChsb2NhbFN0b3JhZ2UsIG5hbWVzcGFjZSwgc3Via2V5KXtcbiAgICByZXR1cm4gbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy5sb2NhbEtleShuYW1lc3BhY2UsIHN1YmtleSkpXG4gIH0sXG5cbiAgdXBkYXRlTG9jYWwobG9jYWxTdG9yYWdlLCBuYW1lc3BhY2UsIHN1YmtleSwgaW5pdGlhbCwgZnVuYyl7XG4gICAgbGV0IGN1cnJlbnQgPSB0aGlzLmdldExvY2FsKGxvY2FsU3RvcmFnZSwgbmFtZXNwYWNlLCBzdWJrZXkpXG4gICAgbGV0IGtleSA9IHRoaXMubG9jYWxLZXkobmFtZXNwYWNlLCBzdWJrZXkpXG4gICAgbGV0IG5ld1ZhbCA9IGN1cnJlbnQgPT09IG51bGwgPyBpbml0aWFsIDogZnVuYyhjdXJyZW50KVxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgSlNPTi5zdHJpbmdpZnkobmV3VmFsKSlcbiAgICByZXR1cm4gbmV3VmFsXG4gIH0sXG5cbiAgZ2V0TG9jYWwobG9jYWxTdG9yYWdlLCBuYW1lc3BhY2UsIHN1YmtleSl7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5sb2NhbEtleShuYW1lc3BhY2UsIHN1YmtleSkpKVxuICB9LFxuXG4gIHVwZGF0ZUN1cnJlbnRTdGF0ZShjYWxsYmFjayl7XG4gICAgaWYoIXRoaXMuY2FuUHVzaFN0YXRlKCkpeyByZXR1cm4gfVxuICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKGNhbGxiYWNrKGhpc3Rvcnkuc3RhdGUgfHwge30pLCBcIlwiLCB3aW5kb3cubG9jYXRpb24uaHJlZilcbiAgfSxcblxuICBwdXNoU3RhdGUoa2luZCwgbWV0YSwgdG8pe1xuICAgIGlmKHRoaXMuY2FuUHVzaFN0YXRlKCkpe1xuICAgICAgaWYodG8gIT09IHdpbmRvdy5sb2NhdGlvbi5ocmVmKXtcbiAgICAgICAgaWYobWV0YS50eXBlID09IFwicmVkaXJlY3RcIiAmJiBtZXRhLnNjcm9sbCl7XG4gICAgICAgICAgLy8gSWYgd2UncmUgcmVkaXJlY3Rpbmcgc3RvcmUgdGhlIGN1cnJlbnQgc2Nyb2xsWSBmb3IgdGhlIGN1cnJlbnQgaGlzdG9yeSBzdGF0ZS5cbiAgICAgICAgICBsZXQgY3VycmVudFN0YXRlID0gaGlzdG9yeS5zdGF0ZSB8fCB7fVxuICAgICAgICAgIGN1cnJlbnRTdGF0ZS5zY3JvbGwgPSBtZXRhLnNjcm9sbFxuICAgICAgICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKGN1cnJlbnRTdGF0ZSwgXCJcIiwgd2luZG93LmxvY2F0aW9uLmhyZWYpXG4gICAgICAgIH1cblxuICAgICAgICBkZWxldGUgbWV0YS5zY3JvbGwgLy8gT25seSBzdG9yZSB0aGUgc2Nyb2xsIGluIHRoZSByZWRpcmVjdCBjYXNlLlxuICAgICAgICBoaXN0b3J5W2tpbmQgKyBcIlN0YXRlXCJdKG1ldGEsIFwiXCIsIHRvIHx8IG51bGwpIC8vIElFIHdpbGwgY29lcmNlIHVuZGVmaW5lZCB0byBzdHJpbmdcbiAgICAgICAgbGV0IGhhc2hFbCA9IHRoaXMuZ2V0SGFzaFRhcmdldEVsKHdpbmRvdy5sb2NhdGlvbi5oYXNoKVxuXG4gICAgICAgIGlmKGhhc2hFbCl7XG4gICAgICAgICAgaGFzaEVsLnNjcm9sbEludG9WaWV3KClcbiAgICAgICAgfSBlbHNlIGlmKG1ldGEudHlwZSA9PT0gXCJyZWRpcmVjdFwiKXtcbiAgICAgICAgICB3aW5kb3cuc2Nyb2xsKDAsIDApXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZWRpcmVjdCh0bylcbiAgICB9XG4gIH0sXG5cbiAgc2V0Q29va2llKG5hbWUsIHZhbHVlKXtcbiAgICBkb2N1bWVudC5jb29raWUgPSBgJHtuYW1lfT0ke3ZhbHVlfWBcbiAgfSxcblxuICBnZXRDb29raWUobmFtZSl7XG4gICAgcmV0dXJuIGRvY3VtZW50LmNvb2tpZS5yZXBsYWNlKG5ldyBSZWdFeHAoYCg/Oig/Ol58Lio7XFxzKikke25hbWV9XFxzKlxcPVxccyooW147XSopLiokKXxeLiokYCksIFwiJDFcIilcbiAgfSxcblxuICByZWRpcmVjdCh0b1VSTCwgZmxhc2gpe1xuICAgIGlmKGZsYXNoKXsgQnJvd3Nlci5zZXRDb29raWUoXCJfX3Bob2VuaXhfZmxhc2hfX1wiLCBmbGFzaCArIFwiOyBtYXgtYWdlPTYwMDAwOyBwYXRoPS9cIikgfVxuICAgIHdpbmRvdy5sb2NhdGlvbiA9IHRvVVJMXG4gIH0sXG5cbiAgbG9jYWxLZXkobmFtZXNwYWNlLCBzdWJrZXkpeyByZXR1cm4gYCR7bmFtZXNwYWNlfS0ke3N1YmtleX1gIH0sXG5cbiAgZ2V0SGFzaFRhcmdldEVsKG1heWJlSGFzaCl7XG4gICAgbGV0IGhhc2ggPSBtYXliZUhhc2gudG9TdHJpbmcoKS5zdWJzdHJpbmcoMSlcbiAgICBpZihoYXNoID09PSBcIlwiKXsgcmV0dXJuIH1cbiAgICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaGFzaCkgfHwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgYVtuYW1lPVwiJHtoYXNofVwiXWApXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQnJvd3NlclxuIiwgImltcG9ydCB7XG4gIENIRUNLQUJMRV9JTlBVVFMsXG4gIERFQk9VTkNFX1BSRVZfS0VZLFxuICBERUJPVU5DRV9UUklHR0VSLFxuICBGT0NVU0FCTEVfSU5QVVRTLFxuICBQSFhfQ09NUE9ORU5ULFxuICBQSFhfRVZFTlRfQ0xBU1NFUyxcbiAgUEhYX0hBU19GT0NVU0VELFxuICBQSFhfSEFTX1NVQk1JVFRFRCxcbiAgUEhYX01BSU4sXG4gIFBIWF9OT19GRUVEQkFDS19DTEFTUyxcbiAgUEhYX1BBUkVOVF9JRCxcbiAgUEhYX1BSSVZBVEUsXG4gIFBIWF9SRUYsXG4gIFBIWF9SRUZfU1JDLFxuICBQSFhfUk9PVF9JRCxcbiAgUEhYX1NFU1NJT04sXG4gIFBIWF9TVEFUSUMsXG4gIFBIWF9VUExPQURfUkVGLFxuICBQSFhfVklFV19TRUxFQ1RPUixcbiAgUEhYX1NUSUNLWSxcbiAgVEhST1RUTEVEXG59IGZyb20gXCIuL2NvbnN0YW50c1wiXG5cbmltcG9ydCB7XG4gIGxvZ0Vycm9yXG59IGZyb20gXCIuL3V0aWxzXCJcblxubGV0IERPTSA9IHtcbiAgYnlJZChpZCl7IHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkgfHwgbG9nRXJyb3IoYG5vIGlkIGZvdW5kIGZvciAke2lkfWApIH0sXG5cbiAgcmVtb3ZlQ2xhc3MoZWwsIGNsYXNzTmFtZSl7XG4gICAgZWwuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpXG4gICAgaWYoZWwuY2xhc3NMaXN0Lmxlbmd0aCA9PT0gMCl7IGVsLnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpIH1cbiAgfSxcblxuICBhbGwobm9kZSwgcXVlcnksIGNhbGxiYWNrKXtcbiAgICBpZighbm9kZSl7IHJldHVybiBbXSB9XG4gICAgbGV0IGFycmF5ID0gQXJyYXkuZnJvbShub2RlLnF1ZXJ5U2VsZWN0b3JBbGwocXVlcnkpKVxuICAgIHJldHVybiBjYWxsYmFjayA/IGFycmF5LmZvckVhY2goY2FsbGJhY2spIDogYXJyYXlcbiAgfSxcblxuICBjaGlsZE5vZGVMZW5ndGgoaHRtbCl7XG4gICAgbGV0IHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRlbXBsYXRlXCIpXG4gICAgdGVtcGxhdGUuaW5uZXJIVE1MID0gaHRtbFxuICAgIHJldHVybiB0ZW1wbGF0ZS5jb250ZW50LmNoaWxkRWxlbWVudENvdW50XG4gIH0sXG5cbiAgaXNVcGxvYWRJbnB1dChlbCl7IHJldHVybiBlbC50eXBlID09PSBcImZpbGVcIiAmJiBlbC5nZXRBdHRyaWJ1dGUoUEhYX1VQTE9BRF9SRUYpICE9PSBudWxsIH0sXG5cbiAgZmluZFVwbG9hZElucHV0cyhub2RlKXsgcmV0dXJuIHRoaXMuYWxsKG5vZGUsIGBpbnB1dFt0eXBlPVwiZmlsZVwiXVske1BIWF9VUExPQURfUkVGfV1gKSB9LFxuXG4gIGZpbmRDb21wb25lbnROb2RlTGlzdChub2RlLCBjaWQpe1xuICAgIHJldHVybiB0aGlzLmZpbHRlcldpdGhpblNhbWVMaXZlVmlldyh0aGlzLmFsbChub2RlLCBgWyR7UEhYX0NPTVBPTkVOVH09XCIke2NpZH1cIl1gKSwgbm9kZSlcbiAgfSxcblxuICBpc1BoeERlc3Ryb3llZChub2RlKXtcbiAgICByZXR1cm4gbm9kZS5pZCAmJiBET00ucHJpdmF0ZShub2RlLCBcImRlc3Ryb3llZFwiKSA/IHRydWUgOiBmYWxzZVxuICB9LFxuXG4gIG1hcmtQaHhDaGlsZERlc3Ryb3llZChlbCl7XG4gICAgaWYodGhpcy5pc1BoeENoaWxkKGVsKSl7IGVsLnNldEF0dHJpYnV0ZShQSFhfU0VTU0lPTiwgXCJcIikgfVxuICAgIHRoaXMucHV0UHJpdmF0ZShlbCwgXCJkZXN0cm95ZWRcIiwgdHJ1ZSlcbiAgfSxcblxuICBmaW5kUGh4Q2hpbGRyZW5JbkZyYWdtZW50KGh0bWwsIHBhcmVudElkKXtcbiAgICBsZXQgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGVtcGxhdGVcIilcbiAgICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSBodG1sXG4gICAgcmV0dXJuIHRoaXMuZmluZFBoeENoaWxkcmVuKHRlbXBsYXRlLmNvbnRlbnQsIHBhcmVudElkKVxuICB9LFxuXG4gIGlzSWdub3JlZChlbCwgcGh4VXBkYXRlKXtcbiAgICByZXR1cm4gKGVsLmdldEF0dHJpYnV0ZShwaHhVcGRhdGUpIHx8IGVsLmdldEF0dHJpYnV0ZShcImRhdGEtcGh4LXVwZGF0ZVwiKSkgPT09IFwiaWdub3JlXCJcbiAgfSxcblxuICBpc1BoeFVwZGF0ZShlbCwgcGh4VXBkYXRlLCB1cGRhdGVUeXBlcyl7XG4gICAgcmV0dXJuIGVsLmdldEF0dHJpYnV0ZSAmJiB1cGRhdGVUeXBlcy5pbmRleE9mKGVsLmdldEF0dHJpYnV0ZShwaHhVcGRhdGUpKSA+PSAwXG4gIH0sXG5cbiAgZmluZFBoeFN0aWNreShlbCl7IHJldHVybiB0aGlzLmFsbChlbCwgYFske1BIWF9TVElDS1l9XWApIH0sXG5cbiAgZmluZFBoeENoaWxkcmVuKGVsLCBwYXJlbnRJZCl7XG4gICAgcmV0dXJuIHRoaXMuYWxsKGVsLCBgJHtQSFhfVklFV19TRUxFQ1RPUn1bJHtQSFhfUEFSRU5UX0lEfT1cIiR7cGFyZW50SWR9XCJdYClcbiAgfSxcblxuICBmaW5kUGFyZW50Q0lEcyhub2RlLCBjaWRzKXtcbiAgICBsZXQgaW5pdGlhbCA9IG5ldyBTZXQoY2lkcylcbiAgICByZXR1cm4gY2lkcy5yZWR1Y2UoKGFjYywgY2lkKSA9PiB7XG4gICAgICBsZXQgc2VsZWN0b3IgPSBgWyR7UEhYX0NPTVBPTkVOVH09XCIke2NpZH1cIl0gWyR7UEhYX0NPTVBPTkVOVH1dYFxuXG4gICAgICB0aGlzLmZpbHRlcldpdGhpblNhbWVMaXZlVmlldyh0aGlzLmFsbChub2RlLCBzZWxlY3RvciksIG5vZGUpXG4gICAgICAgIC5tYXAoZWwgPT4gcGFyc2VJbnQoZWwuZ2V0QXR0cmlidXRlKFBIWF9DT01QT05FTlQpKSlcbiAgICAgICAgLmZvckVhY2goY2hpbGRDSUQgPT4gYWNjLmRlbGV0ZShjaGlsZENJRCkpXG5cbiAgICAgIHJldHVybiBhY2NcbiAgICB9LCBpbml0aWFsKVxuICB9LFxuXG4gIGZpbHRlcldpdGhpblNhbWVMaXZlVmlldyhub2RlcywgcGFyZW50KXtcbiAgICBpZihwYXJlbnQucXVlcnlTZWxlY3RvcihQSFhfVklFV19TRUxFQ1RPUikpe1xuICAgICAgcmV0dXJuIG5vZGVzLmZpbHRlcihlbCA9PiB0aGlzLndpdGhpblNhbWVMaXZlVmlldyhlbCwgcGFyZW50KSlcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5vZGVzXG4gICAgfVxuICB9LFxuXG4gIHdpdGhpblNhbWVMaXZlVmlldyhub2RlLCBwYXJlbnQpe1xuICAgIHdoaWxlKG5vZGUgPSBub2RlLnBhcmVudE5vZGUpe1xuICAgICAgaWYobm9kZS5pc1NhbWVOb2RlKHBhcmVudCkpeyByZXR1cm4gdHJ1ZSB9XG4gICAgICBpZihub2RlLmdldEF0dHJpYnV0ZShQSFhfU0VTU0lPTikgIT09IG51bGwpeyByZXR1cm4gZmFsc2UgfVxuICAgIH1cbiAgfSxcblxuICBwcml2YXRlKGVsLCBrZXkpeyByZXR1cm4gZWxbUEhYX1BSSVZBVEVdICYmIGVsW1BIWF9QUklWQVRFXVtrZXldIH0sXG5cbiAgZGVsZXRlUHJpdmF0ZShlbCwga2V5KXsgZWxbUEhYX1BSSVZBVEVdICYmIGRlbGV0ZSAoZWxbUEhYX1BSSVZBVEVdW2tleV0pIH0sXG5cbiAgcHV0UHJpdmF0ZShlbCwga2V5LCB2YWx1ZSl7XG4gICAgaWYoIWVsW1BIWF9QUklWQVRFXSl7IGVsW1BIWF9QUklWQVRFXSA9IHt9IH1cbiAgICBlbFtQSFhfUFJJVkFURV1ba2V5XSA9IHZhbHVlXG4gIH0sXG5cbiAgdXBkYXRlUHJpdmF0ZShlbCwga2V5LCBkZWZhdWx0VmFsLCB1cGRhdGVGdW5jKXtcbiAgICBsZXQgZXhpc3RpbmcgPSB0aGlzLnByaXZhdGUoZWwsIGtleSlcbiAgICBpZihleGlzdGluZyA9PT0gdW5kZWZpbmVkKXtcbiAgICAgIHRoaXMucHV0UHJpdmF0ZShlbCwga2V5LCB1cGRhdGVGdW5jKGRlZmF1bHRWYWwpKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnB1dFByaXZhdGUoZWwsIGtleSwgdXBkYXRlRnVuYyhleGlzdGluZykpXG4gICAgfVxuICB9LFxuXG4gIGNvcHlQcml2YXRlcyh0YXJnZXQsIHNvdXJjZSl7XG4gICAgaWYoc291cmNlW1BIWF9QUklWQVRFXSl7XG4gICAgICB0YXJnZXRbUEhYX1BSSVZBVEVdID0gc291cmNlW1BIWF9QUklWQVRFXVxuICAgIH1cbiAgfSxcblxuICBwdXRUaXRsZShzdHIpe1xuICAgIGxldCB0aXRsZUVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcInRpdGxlXCIpXG4gICAgbGV0IHtwcmVmaXgsIHN1ZmZpeH0gPSB0aXRsZUVsLmRhdGFzZXRcbiAgICBkb2N1bWVudC50aXRsZSA9IGAke3ByZWZpeCB8fCBcIlwifSR7c3RyfSR7c3VmZml4IHx8IFwiXCJ9YFxuICB9LFxuXG4gIGRlYm91bmNlKGVsLCBldmVudCwgcGh4RGVib3VuY2UsIGRlZmF1bHREZWJvdW5jZSwgcGh4VGhyb3R0bGUsIGRlZmF1bHRUaHJvdHRsZSwgYXN5bmNGaWx0ZXIsIGNhbGxiYWNrKXtcbiAgICBsZXQgZGVib3VuY2UgPSBlbC5nZXRBdHRyaWJ1dGUocGh4RGVib3VuY2UpXG4gICAgbGV0IHRocm90dGxlID0gZWwuZ2V0QXR0cmlidXRlKHBoeFRocm90dGxlKVxuICAgIGlmKGRlYm91bmNlID09PSBcIlwiKXsgZGVib3VuY2UgPSBkZWZhdWx0RGVib3VuY2UgfVxuICAgIGlmKHRocm90dGxlID09PSBcIlwiKXsgdGhyb3R0bGUgPSBkZWZhdWx0VGhyb3R0bGUgfVxuICAgIGxldCB2YWx1ZSA9IGRlYm91bmNlIHx8IHRocm90dGxlXG4gICAgc3dpdGNoKHZhbHVlKXtcbiAgICAgIGNhc2UgbnVsbDogcmV0dXJuIGNhbGxiYWNrKClcblxuICAgICAgY2FzZSBcImJsdXJcIjpcbiAgICAgICAgaWYodGhpcy5vbmNlKGVsLCBcImRlYm91bmNlLWJsdXJcIikpe1xuICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsICgpID0+IGNhbGxiYWNrKCkpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGxldCB0aW1lb3V0ID0gcGFyc2VJbnQodmFsdWUpXG4gICAgICAgIGxldCB0cmlnZ2VyID0gKCkgPT4gdGhyb3R0bGUgPyB0aGlzLmRlbGV0ZVByaXZhdGUoZWwsIFRIUk9UVExFRCkgOiBjYWxsYmFjaygpXG4gICAgICAgIGxldCBjdXJyZW50Q3ljbGUgPSB0aGlzLmluY0N5Y2xlKGVsLCBERUJPVU5DRV9UUklHR0VSLCB0cmlnZ2VyKVxuICAgICAgICBpZihpc05hTih0aW1lb3V0KSl7IHJldHVybiBsb2dFcnJvcihgaW52YWxpZCB0aHJvdHRsZS9kZWJvdW5jZSB2YWx1ZTogJHt2YWx1ZX1gKSB9XG4gICAgICAgIGlmKHRocm90dGxlKXtcbiAgICAgICAgICBsZXQgbmV3S2V5RG93biA9IGZhbHNlXG4gICAgICAgICAgaWYoZXZlbnQudHlwZSA9PT0gXCJrZXlkb3duXCIpe1xuICAgICAgICAgICAgbGV0IHByZXZLZXkgPSB0aGlzLnByaXZhdGUoZWwsIERFQk9VTkNFX1BSRVZfS0VZKVxuICAgICAgICAgICAgdGhpcy5wdXRQcml2YXRlKGVsLCBERUJPVU5DRV9QUkVWX0tFWSwgZXZlbnQua2V5KVxuICAgICAgICAgICAgbmV3S2V5RG93biA9IHByZXZLZXkgIT09IGV2ZW50LmtleVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmKCFuZXdLZXlEb3duICYmIHRoaXMucHJpdmF0ZShlbCwgVEhST1RUTEVEKSl7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FsbGJhY2soKVxuICAgICAgICAgICAgdGhpcy5wdXRQcml2YXRlKGVsLCBUSFJPVFRMRUQsIHRydWUpXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgaWYoYXN5bmNGaWx0ZXIoKSl7IHRoaXMudHJpZ2dlckN5Y2xlKGVsLCBERUJPVU5DRV9UUklHR0VSKSB9XG4gICAgICAgICAgICB9LCB0aW1lb3V0KVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlmKGFzeW5jRmlsdGVyKCkpeyB0aGlzLnRyaWdnZXJDeWNsZShlbCwgREVCT1VOQ0VfVFJJR0dFUiwgY3VycmVudEN5Y2xlKSB9XG4gICAgICAgICAgfSwgdGltZW91dClcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBmb3JtID0gZWwuZm9ybVxuICAgICAgICBpZihmb3JtICYmIHRoaXMub25jZShmb3JtLCBcImJpbmQtZGVib3VuY2VcIikpe1xuICAgICAgICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoKSA9PiB7XG4gICAgICAgICAgICBBcnJheS5mcm9tKChuZXcgRm9ybURhdGEoZm9ybSkpLmVudHJpZXMoKSwgKFtuYW1lXSkgPT4ge1xuICAgICAgICAgICAgICBsZXQgaW5wdXQgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoYFtuYW1lPVwiJHtuYW1lfVwiXWApXG4gICAgICAgICAgICAgIHRoaXMuaW5jQ3ljbGUoaW5wdXQsIERFQk9VTkNFX1RSSUdHRVIpXG4gICAgICAgICAgICAgIHRoaXMuZGVsZXRlUHJpdmF0ZShpbnB1dCwgVEhST1RUTEVEKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIGlmKHRoaXMub25jZShlbCwgXCJiaW5kLWRlYm91bmNlXCIpKXtcbiAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLCAoKSA9PiB0aGlzLnRyaWdnZXJDeWNsZShlbCwgREVCT1VOQ0VfVFJJR0dFUikpXG4gICAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgdHJpZ2dlckN5Y2xlKGVsLCBrZXksIGN1cnJlbnRDeWNsZSl7XG4gICAgbGV0IFtjeWNsZSwgdHJpZ2dlcl0gPSB0aGlzLnByaXZhdGUoZWwsIGtleSlcbiAgICBpZighY3VycmVudEN5Y2xlKXsgY3VycmVudEN5Y2xlID0gY3ljbGUgfVxuICAgIGlmKGN1cnJlbnRDeWNsZSA9PT0gY3ljbGUpe1xuICAgICAgdGhpcy5pbmNDeWNsZShlbCwga2V5KVxuICAgICAgdHJpZ2dlcigpXG4gICAgfVxuICB9LFxuXG4gIG9uY2UoZWwsIGtleSl7XG4gICAgaWYodGhpcy5wcml2YXRlKGVsLCBrZXkpID09PSB0cnVlKXsgcmV0dXJuIGZhbHNlIH1cbiAgICB0aGlzLnB1dFByaXZhdGUoZWwsIGtleSwgdHJ1ZSlcbiAgICByZXR1cm4gdHJ1ZVxuICB9LFxuXG4gIGluY0N5Y2xlKGVsLCBrZXksIHRyaWdnZXIgPSBmdW5jdGlvbiAoKXsgfSl7XG4gICAgbGV0IFtjdXJyZW50Q3ljbGVdID0gdGhpcy5wcml2YXRlKGVsLCBrZXkpIHx8IFswLCB0cmlnZ2VyXVxuICAgIGN1cnJlbnRDeWNsZSsrXG4gICAgdGhpcy5wdXRQcml2YXRlKGVsLCBrZXksIFtjdXJyZW50Q3ljbGUsIHRyaWdnZXJdKVxuICAgIHJldHVybiBjdXJyZW50Q3ljbGVcbiAgfSxcblxuICBkaXNjYXJkRXJyb3IoY29udGFpbmVyLCBlbCwgcGh4RmVlZGJhY2tGb3Ipe1xuICAgIGxldCBmaWVsZCA9IGVsLmdldEF0dHJpYnV0ZSAmJiBlbC5nZXRBdHRyaWJ1dGUocGh4RmVlZGJhY2tGb3IpXG4gICAgLy8gVE9ETzogUmVtb3ZlIGlkIGxvb2t1cCBhZnRlciB3ZSB1cGRhdGUgUGhvZW5peCB0byB1c2UgaW5wdXRfbmFtZSBpbnN0ZWFkIG9mIGlucHV0X2lkXG4gICAgbGV0IGlucHV0ID0gZmllbGQgJiYgY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoYFtpZD1cIiR7ZmllbGR9XCJdLCBbbmFtZT1cIiR7ZmllbGR9XCJdYClcbiAgICBpZighaW5wdXQpeyByZXR1cm4gfVxuXG4gICAgaWYoISh0aGlzLnByaXZhdGUoaW5wdXQsIFBIWF9IQVNfRk9DVVNFRCkgfHwgdGhpcy5wcml2YXRlKGlucHV0LmZvcm0sIFBIWF9IQVNfU1VCTUlUVEVEKSkpe1xuICAgICAgZWwuY2xhc3NMaXN0LmFkZChQSFhfTk9fRkVFREJBQ0tfQ0xBU1MpXG4gICAgfVxuICB9LFxuXG4gIHNob3dFcnJvcihpbnB1dEVsLCBwaHhGZWVkYmFja0Zvcil7XG4gICAgaWYoaW5wdXRFbC5pZCB8fCBpbnB1dEVsLm5hbWUpe1xuICAgICAgdGhpcy5hbGwoaW5wdXRFbC5mb3JtLCBgWyR7cGh4RmVlZGJhY2tGb3J9PVwiJHtpbnB1dEVsLmlkfVwiXSwgWyR7cGh4RmVlZGJhY2tGb3J9PVwiJHtpbnB1dEVsLm5hbWV9XCJdYCwgKGVsKSA9PiB7XG4gICAgICAgIHRoaXMucmVtb3ZlQ2xhc3MoZWwsIFBIWF9OT19GRUVEQkFDS19DTEFTUylcbiAgICAgIH0pXG4gICAgfVxuICB9LFxuXG4gIGlzUGh4Q2hpbGQobm9kZSl7XG4gICAgcmV0dXJuIG5vZGUuZ2V0QXR0cmlidXRlICYmIG5vZGUuZ2V0QXR0cmlidXRlKFBIWF9QQVJFTlRfSUQpXG4gIH0sXG5cbiAgaXNQaHhTdGlja3kobm9kZSl7XG4gICAgcmV0dXJuIG5vZGUuZ2V0QXR0cmlidXRlICYmIG5vZGUuZ2V0QXR0cmlidXRlKFBIWF9TVElDS1kpICE9PSBudWxsXG4gIH0sXG5cbiAgZmlyc3RQaHhDaGlsZChlbCl7XG4gICAgcmV0dXJuIHRoaXMuaXNQaHhDaGlsZChlbCkgPyBlbCA6IHRoaXMuYWxsKGVsLCBgWyR7UEhYX1BBUkVOVF9JRH1dYClbMF1cbiAgfSxcblxuICBkaXNwYXRjaEV2ZW50KHRhcmdldCwgbmFtZSwgb3B0cyA9IHt9KXtcbiAgICBsZXQgYnViYmxlcyA9IG9wdHMuYnViYmxlcyA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6ICEhb3B0cy5idWJibGVzXG4gICAgbGV0IGV2ZW50T3B0cyA9IHtidWJibGVzOiBidWJibGVzLCBjYW5jZWxhYmxlOiB0cnVlLCBkZXRhaWw6IG9wdHMuZGV0YWlsIHx8IHt9fVxuICAgIGxldCBldmVudCA9IG5hbWUgPT09IFwiY2xpY2tcIiA/IG5ldyBNb3VzZUV2ZW50KFwiY2xpY2tcIiwgZXZlbnRPcHRzKSA6IG5ldyBDdXN0b21FdmVudChuYW1lLCBldmVudE9wdHMpXG4gICAgdGFyZ2V0LmRpc3BhdGNoRXZlbnQoZXZlbnQpXG4gIH0sXG5cbiAgY2xvbmVOb2RlKG5vZGUsIGh0bWwpe1xuICAgIGlmKHR5cGVvZiAoaHRtbCkgPT09IFwidW5kZWZpbmVkXCIpe1xuICAgICAgcmV0dXJuIG5vZGUuY2xvbmVOb2RlKHRydWUpXG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBjbG9uZWQgPSBub2RlLmNsb25lTm9kZShmYWxzZSlcbiAgICAgIGNsb25lZC5pbm5lckhUTUwgPSBodG1sXG4gICAgICByZXR1cm4gY2xvbmVkXG4gICAgfVxuICB9LFxuXG4gIG1lcmdlQXR0cnModGFyZ2V0LCBzb3VyY2UsIG9wdHMgPSB7fSl7XG4gICAgbGV0IGV4Y2x1ZGUgPSBvcHRzLmV4Y2x1ZGUgfHwgW11cbiAgICBsZXQgaXNJZ25vcmVkID0gb3B0cy5pc0lnbm9yZWRcbiAgICBsZXQgc291cmNlQXR0cnMgPSBzb3VyY2UuYXR0cmlidXRlc1xuICAgIGZvcihsZXQgaSA9IHNvdXJjZUF0dHJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKXtcbiAgICAgIGxldCBuYW1lID0gc291cmNlQXR0cnNbaV0ubmFtZVxuICAgICAgaWYoZXhjbHVkZS5pbmRleE9mKG5hbWUpIDwgMCl7IHRhcmdldC5zZXRBdHRyaWJ1dGUobmFtZSwgc291cmNlLmdldEF0dHJpYnV0ZShuYW1lKSkgfVxuICAgIH1cblxuICAgIGxldCB0YXJnZXRBdHRycyA9IHRhcmdldC5hdHRyaWJ1dGVzXG4gICAgZm9yKGxldCBpID0gdGFyZ2V0QXR0cnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pe1xuICAgICAgbGV0IG5hbWUgPSB0YXJnZXRBdHRyc1tpXS5uYW1lXG4gICAgICBpZihpc0lnbm9yZWQpe1xuICAgICAgICBpZihuYW1lLnN0YXJ0c1dpdGgoXCJkYXRhLVwiKSAmJiAhc291cmNlLmhhc0F0dHJpYnV0ZShuYW1lKSl7IHRhcmdldC5yZW1vdmVBdHRyaWJ1dGUobmFtZSkgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYoIXNvdXJjZS5oYXNBdHRyaWJ1dGUobmFtZSkpeyB0YXJnZXQucmVtb3ZlQXR0cmlidXRlKG5hbWUpIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgbWVyZ2VGb2N1c2VkSW5wdXQodGFyZ2V0LCBzb3VyY2Upe1xuICAgIC8vIHNraXAgc2VsZWN0cyBiZWNhdXNlIEZGIHdpbGwgcmVzZXQgaGlnaGxpZ2h0ZWQgaW5kZXggZm9yIGFueSBzZXRBdHRyaWJ1dGVcbiAgICBpZighKHRhcmdldCBpbnN0YW5jZW9mIEhUTUxTZWxlY3RFbGVtZW50KSl7IERPTS5tZXJnZUF0dHJzKHRhcmdldCwgc291cmNlLCB7ZXhjbHVkZTogW1widmFsdWVcIl19KSB9XG4gICAgaWYoc291cmNlLnJlYWRPbmx5KXtcbiAgICAgIHRhcmdldC5zZXRBdHRyaWJ1dGUoXCJyZWFkb25seVwiLCB0cnVlKVxuICAgIH0gZWxzZSB7XG4gICAgICB0YXJnZXQucmVtb3ZlQXR0cmlidXRlKFwicmVhZG9ubHlcIilcbiAgICB9XG4gIH0sXG5cbiAgaGFzU2VsZWN0aW9uUmFuZ2UoZWwpe1xuICAgIHJldHVybiBlbC5zZXRTZWxlY3Rpb25SYW5nZSAmJiAoZWwudHlwZSA9PT0gXCJ0ZXh0XCIgfHwgZWwudHlwZSA9PT0gXCJ0ZXh0YXJlYVwiKVxuICB9LFxuXG4gIHJlc3RvcmVGb2N1cyhmb2N1c2VkLCBzZWxlY3Rpb25TdGFydCwgc2VsZWN0aW9uRW5kKXtcbiAgICBpZighRE9NLmlzVGV4dHVhbElucHV0KGZvY3VzZWQpKXsgcmV0dXJuIH1cbiAgICBsZXQgd2FzRm9jdXNlZCA9IGZvY3VzZWQubWF0Y2hlcyhcIjpmb2N1c1wiKVxuICAgIGlmKGZvY3VzZWQucmVhZE9ubHkpeyBmb2N1c2VkLmJsdXIoKSB9XG4gICAgaWYoIXdhc0ZvY3VzZWQpeyBmb2N1c2VkLmZvY3VzKCkgfVxuICAgIGlmKHRoaXMuaGFzU2VsZWN0aW9uUmFuZ2UoZm9jdXNlZCkpe1xuICAgICAgZm9jdXNlZC5zZXRTZWxlY3Rpb25SYW5nZShzZWxlY3Rpb25TdGFydCwgc2VsZWN0aW9uRW5kKVxuICAgIH1cbiAgfSxcblxuICBpc0Zvcm1JbnB1dChlbCl7IHJldHVybiAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYSkkL2kudGVzdChlbC50YWdOYW1lKSAmJiBlbC50eXBlICE9PSBcImJ1dHRvblwiIH0sXG5cbiAgc3luY0F0dHJzVG9Qcm9wcyhlbCl7XG4gICAgaWYoZWwgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50ICYmIENIRUNLQUJMRV9JTlBVVFMuaW5kZXhPZihlbC50eXBlLnRvTG9jYWxlTG93ZXJDYXNlKCkpID49IDApe1xuICAgICAgZWwuY2hlY2tlZCA9IGVsLmdldEF0dHJpYnV0ZShcImNoZWNrZWRcIikgIT09IG51bGxcbiAgICB9XG4gIH0sXG5cbiAgaXNUZXh0dWFsSW5wdXQoZWwpeyByZXR1cm4gRk9DVVNBQkxFX0lOUFVUUy5pbmRleE9mKGVsLnR5cGUpID49IDAgfSxcblxuICBpc05vd1RyaWdnZXJGb3JtRXh0ZXJuYWwoZWwsIHBoeFRyaWdnZXJFeHRlcm5hbCl7XG4gICAgcmV0dXJuIGVsLmdldEF0dHJpYnV0ZSAmJiBlbC5nZXRBdHRyaWJ1dGUocGh4VHJpZ2dlckV4dGVybmFsKSAhPT0gbnVsbFxuICB9LFxuXG4gIHN5bmNQZW5kaW5nUmVmKGZyb21FbCwgdG9FbCwgZGlzYWJsZVdpdGgpe1xuICAgIGxldCByZWYgPSBmcm9tRWwuZ2V0QXR0cmlidXRlKFBIWF9SRUYpXG4gICAgaWYocmVmID09PSBudWxsKXsgcmV0dXJuIHRydWUgfVxuICAgIGxldCByZWZTcmMgPSBmcm9tRWwuZ2V0QXR0cmlidXRlKFBIWF9SRUZfU1JDKVxuXG4gICAgaWYoRE9NLmlzRm9ybUlucHV0KGZyb21FbCkgfHwgZnJvbUVsLmdldEF0dHJpYnV0ZShkaXNhYmxlV2l0aCkgIT09IG51bGwpe1xuICAgICAgaWYoRE9NLmlzVXBsb2FkSW5wdXQoZnJvbUVsKSl7IERPTS5tZXJnZUF0dHJzKGZyb21FbCwgdG9FbCwge2lzSWdub3JlZDogdHJ1ZX0pIH1cbiAgICAgIERPTS5wdXRQcml2YXRlKGZyb21FbCwgUEhYX1JFRiwgdG9FbClcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH0gZWxzZSB7XG4gICAgICBQSFhfRVZFTlRfQ0xBU1NFUy5mb3JFYWNoKGNsYXNzTmFtZSA9PiB7XG4gICAgICAgIGZyb21FbC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKSAmJiB0b0VsLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKVxuICAgICAgfSlcbiAgICAgIHRvRWwuc2V0QXR0cmlidXRlKFBIWF9SRUYsIHJlZilcbiAgICAgIHRvRWwuc2V0QXR0cmlidXRlKFBIWF9SRUZfU1JDLCByZWZTcmMpXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgfSxcblxuICBjbGVhbkNoaWxkTm9kZXMoY29udGFpbmVyLCBwaHhVcGRhdGUpe1xuICAgIGlmKERPTS5pc1BoeFVwZGF0ZShjb250YWluZXIsIHBoeFVwZGF0ZSwgW1wiYXBwZW5kXCIsIFwicHJlcGVuZFwiXSkpe1xuICAgICAgbGV0IHRvUmVtb3ZlID0gW11cbiAgICAgIGNvbnRhaW5lci5jaGlsZE5vZGVzLmZvckVhY2goY2hpbGROb2RlID0+IHtcbiAgICAgICAgaWYoIWNoaWxkTm9kZS5pZCl7XG4gICAgICAgICAgLy8gU2tpcCB3YXJuaW5nIGlmIGl0J3MgYW4gZW1wdHkgdGV4dCBub2RlIChlLmcuIGEgbmV3LWxpbmUpXG4gICAgICAgICAgbGV0IGlzRW1wdHlUZXh0Tm9kZSA9IGNoaWxkTm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUgJiYgY2hpbGROb2RlLm5vZGVWYWx1ZS50cmltKCkgPT09IFwiXCJcbiAgICAgICAgICBpZighaXNFbXB0eVRleHROb2RlKXtcbiAgICAgICAgICAgIGxvZ0Vycm9yKFwib25seSBIVE1MIGVsZW1lbnQgdGFncyB3aXRoIGFuIGlkIGFyZSBhbGxvd2VkIGluc2lkZSBjb250YWluZXJzIHdpdGggcGh4LXVwZGF0ZS5cXG5cXG5cIiArXG4gICAgICAgICAgICAgIGByZW1vdmluZyBpbGxlZ2FsIG5vZGU6IFwiJHsoY2hpbGROb2RlLm91dGVySFRNTCB8fCBjaGlsZE5vZGUubm9kZVZhbHVlKS50cmltKCl9XCJcXG5cXG5gKVxuICAgICAgICAgIH1cbiAgICAgICAgICB0b1JlbW92ZS5wdXNoKGNoaWxkTm9kZSlcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIHRvUmVtb3ZlLmZvckVhY2goY2hpbGROb2RlID0+IGNoaWxkTm9kZS5yZW1vdmUoKSlcbiAgICB9XG4gIH0sXG5cbiAgcmVwbGFjZVJvb3RDb250YWluZXIoY29udGFpbmVyLCB0YWdOYW1lLCBhdHRycyl7XG4gICAgbGV0IHJldGFpbmVkQXR0cnMgPSBuZXcgU2V0KFtcImlkXCIsIFBIWF9TRVNTSU9OLCBQSFhfU1RBVElDLCBQSFhfTUFJTiwgUEhYX1JPT1RfSURdKVxuICAgIGlmKGNvbnRhaW5lci50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09IHRhZ05hbWUudG9Mb3dlckNhc2UoKSl7XG4gICAgICBBcnJheS5mcm9tKGNvbnRhaW5lci5hdHRyaWJ1dGVzKVxuICAgICAgICAuZmlsdGVyKGF0dHIgPT4gIXJldGFpbmVkQXR0cnMuaGFzKGF0dHIubmFtZS50b0xvd2VyQ2FzZSgpKSlcbiAgICAgICAgLmZvckVhY2goYXR0ciA9PiBjb250YWluZXIucmVtb3ZlQXR0cmlidXRlKGF0dHIubmFtZSkpXG5cbiAgICAgIE9iamVjdC5rZXlzKGF0dHJzKVxuICAgICAgICAuZmlsdGVyKG5hbWUgPT4gIXJldGFpbmVkQXR0cnMuaGFzKG5hbWUudG9Mb3dlckNhc2UoKSkpXG4gICAgICAgIC5mb3JFYWNoKGF0dHIgPT4gY29udGFpbmVyLnNldEF0dHJpYnV0ZShhdHRyLCBhdHRyc1thdHRyXSkpXG5cbiAgICAgIHJldHVybiBjb250YWluZXJcblxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgbmV3Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKVxuICAgICAgT2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goYXR0ciA9PiBuZXdDb250YWluZXIuc2V0QXR0cmlidXRlKGF0dHIsIGF0dHJzW2F0dHJdKSlcbiAgICAgIHJldGFpbmVkQXR0cnMuZm9yRWFjaChhdHRyID0+IG5ld0NvbnRhaW5lci5zZXRBdHRyaWJ1dGUoYXR0ciwgY29udGFpbmVyLmdldEF0dHJpYnV0ZShhdHRyKSkpXG4gICAgICBuZXdDb250YWluZXIuaW5uZXJIVE1MID0gY29udGFpbmVyLmlubmVySFRNTFxuICAgICAgY29udGFpbmVyLnJlcGxhY2VXaXRoKG5ld0NvbnRhaW5lcilcbiAgICAgIHJldHVybiBuZXdDb250YWluZXJcbiAgICB9XG4gIH0sXG5cbiAgZ2V0U3RpY2t5KGVsLCBuYW1lLCBkZWZhdWx0VmFsKXtcbiAgICBsZXQgb3AgPSAoRE9NLnByaXZhdGUoZWwsIFwic3RpY2t5XCIpIHx8IFtdKS5maW5kKChbZXhpc3RpbmdOYW1lLCBdKSA9PiBuYW1lID09PSBleGlzdGluZ05hbWUpXG4gICAgaWYob3Ape1xuICAgICAgbGV0IFtfbmFtZSwgX29wLCBzdGFzaGVkUmVzdWx0XSA9IG9wXG4gICAgICByZXR1cm4gc3Rhc2hlZFJlc3VsdFxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdHlwZW9mKGRlZmF1bHRWYWwpID09PSBcImZ1bmN0aW9uXCIgPyBkZWZhdWx0VmFsKCkgOiBkZWZhdWx0VmFsXG4gICAgfVxuICB9LFxuXG4gIGRlbGV0ZVN0aWNreShlbCwgbmFtZSl7XG4gICAgdGhpcy51cGRhdGVQcml2YXRlKGVsLCBcInN0aWNreVwiLCBbXSwgb3BzID0+IHtcbiAgICAgIHJldHVybiBvcHMuZmlsdGVyKChbZXhpc3RpbmdOYW1lLCBfXSkgPT4gZXhpc3RpbmdOYW1lICE9PSBuYW1lKVxuICAgIH0pXG4gIH0sXG5cbiAgcHV0U3RpY2t5KGVsLCBuYW1lLCBvcCl7XG4gICAgbGV0IHN0YXNoZWRSZXN1bHQgPSBvcChlbClcbiAgICB0aGlzLnVwZGF0ZVByaXZhdGUoZWwsIFwic3RpY2t5XCIsIFtdLCBvcHMgPT4ge1xuICAgICAgbGV0IGV4aXN0aW5nSW5kZXggPSBvcHMuZmluZEluZGV4KChbZXhpc3RpbmdOYW1lLCBdKSA9PiBuYW1lID09PSBleGlzdGluZ05hbWUpXG4gICAgICBpZihleGlzdGluZ0luZGV4ID49IDApe1xuICAgICAgICBvcHNbZXhpc3RpbmdJbmRleF0gPSBbbmFtZSwgb3AsIHN0YXNoZWRSZXN1bHRdXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcHMucHVzaChbbmFtZSwgb3AsIHN0YXNoZWRSZXN1bHRdKVxuICAgICAgfVxuICAgICAgcmV0dXJuIG9wc1xuICAgIH0pXG4gIH0sXG5cbiAgYXBwbHlTdGlja3lPcGVyYXRpb25zKGVsKXtcbiAgICBsZXQgb3BzID0gRE9NLnByaXZhdGUoZWwsIFwic3RpY2t5XCIpXG4gICAgaWYoIW9wcyl7IHJldHVybiB9XG5cbiAgICBvcHMuZm9yRWFjaCgoW25hbWUsIG9wLCBfc3Rhc2hlZF0pID0+IHRoaXMucHV0U3RpY2t5KGVsLCBuYW1lLCBvcCkpXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRE9NXG4iLCAiaW1wb3J0IHtcbiAgUEhYX0FDVElWRV9FTlRSWV9SRUZTLFxuICBQSFhfTElWRV9GSUxFX1VQREFURUQsXG4gIFBIWF9QUkVGTElHSFRFRF9SRUZTXG59IGZyb20gXCIuL2NvbnN0YW50c1wiXG5cbmltcG9ydCB7XG4gIGNoYW5uZWxVcGxvYWRlcixcbiAgbG9nRXJyb3Jcbn0gZnJvbSBcIi4vdXRpbHNcIlxuXG5pbXBvcnQgTGl2ZVVwbG9hZGVyIGZyb20gXCIuL2xpdmVfdXBsb2FkZXJcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVcGxvYWRFbnRyeSB7XG4gIHN0YXRpYyBpc0FjdGl2ZShmaWxlRWwsIGZpbGUpe1xuICAgIGxldCBpc05ldyA9IGZpbGUuX3BoeFJlZiA9PT0gdW5kZWZpbmVkXG4gICAgbGV0IGFjdGl2ZVJlZnMgPSBmaWxlRWwuZ2V0QXR0cmlidXRlKFBIWF9BQ1RJVkVfRU5UUllfUkVGUykuc3BsaXQoXCIsXCIpXG4gICAgbGV0IGlzQWN0aXZlID0gYWN0aXZlUmVmcy5pbmRleE9mKExpdmVVcGxvYWRlci5nZW5GaWxlUmVmKGZpbGUpKSA+PSAwXG4gICAgcmV0dXJuIGZpbGUuc2l6ZSA+IDAgJiYgKGlzTmV3IHx8IGlzQWN0aXZlKVxuICB9XG5cbiAgc3RhdGljIGlzUHJlZmxpZ2h0ZWQoZmlsZUVsLCBmaWxlKXtcbiAgICBsZXQgcHJlZmxpZ2h0ZWRSZWZzID0gZmlsZUVsLmdldEF0dHJpYnV0ZShQSFhfUFJFRkxJR0hURURfUkVGUykuc3BsaXQoXCIsXCIpXG4gICAgbGV0IGlzUHJlZmxpZ2h0ZWQgPSBwcmVmbGlnaHRlZFJlZnMuaW5kZXhPZihMaXZlVXBsb2FkZXIuZ2VuRmlsZVJlZihmaWxlKSkgPj0gMFxuICAgIHJldHVybiBpc1ByZWZsaWdodGVkICYmIHRoaXMuaXNBY3RpdmUoZmlsZUVsLCBmaWxlKVxuICB9XG5cbiAgY29uc3RydWN0b3IoZmlsZUVsLCBmaWxlLCB2aWV3KXtcbiAgICB0aGlzLnJlZiA9IExpdmVVcGxvYWRlci5nZW5GaWxlUmVmKGZpbGUpXG4gICAgdGhpcy5maWxlRWwgPSBmaWxlRWxcbiAgICB0aGlzLmZpbGUgPSBmaWxlXG4gICAgdGhpcy52aWV3ID0gdmlld1xuICAgIHRoaXMubWV0YSA9IG51bGxcbiAgICB0aGlzLl9pc0NhbmNlbGxlZCA9IGZhbHNlXG4gICAgdGhpcy5faXNEb25lID0gZmFsc2VcbiAgICB0aGlzLl9wcm9ncmVzcyA9IDBcbiAgICB0aGlzLl9sYXN0UHJvZ3Jlc3NTZW50ID0gLTFcbiAgICB0aGlzLl9vbkRvbmUgPSBmdW5jdGlvbiAoKXsgfVxuICAgIHRoaXMuX29uRWxVcGRhdGVkID0gdGhpcy5vbkVsVXBkYXRlZC5iaW5kKHRoaXMpXG4gICAgdGhpcy5maWxlRWwuYWRkRXZlbnRMaXN0ZW5lcihQSFhfTElWRV9GSUxFX1VQREFURUQsIHRoaXMuX29uRWxVcGRhdGVkKVxuICB9XG5cbiAgbWV0YWRhdGEoKXsgcmV0dXJuIHRoaXMubWV0YSB9XG5cbiAgcHJvZ3Jlc3MocHJvZ3Jlc3Mpe1xuICAgIHRoaXMuX3Byb2dyZXNzID0gTWF0aC5mbG9vcihwcm9ncmVzcylcbiAgICBpZih0aGlzLl9wcm9ncmVzcyA+IHRoaXMuX2xhc3RQcm9ncmVzc1NlbnQpe1xuICAgICAgaWYodGhpcy5fcHJvZ3Jlc3MgPj0gMTAwKXtcbiAgICAgICAgdGhpcy5fcHJvZ3Jlc3MgPSAxMDBcbiAgICAgICAgdGhpcy5fbGFzdFByb2dyZXNzU2VudCA9IDEwMFxuICAgICAgICB0aGlzLl9pc0RvbmUgPSB0cnVlXG4gICAgICAgIHRoaXMudmlldy5wdXNoRmlsZVByb2dyZXNzKHRoaXMuZmlsZUVsLCB0aGlzLnJlZiwgMTAwLCAoKSA9PiB7XG4gICAgICAgICAgTGl2ZVVwbG9hZGVyLnVudHJhY2tGaWxlKHRoaXMuZmlsZUVsLCB0aGlzLmZpbGUpXG4gICAgICAgICAgdGhpcy5fb25Eb25lKClcbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2xhc3RQcm9ncmVzc1NlbnQgPSB0aGlzLl9wcm9ncmVzc1xuICAgICAgICB0aGlzLnZpZXcucHVzaEZpbGVQcm9ncmVzcyh0aGlzLmZpbGVFbCwgdGhpcy5yZWYsIHRoaXMuX3Byb2dyZXNzKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNhbmNlbCgpe1xuICAgIHRoaXMuX2lzQ2FuY2VsbGVkID0gdHJ1ZVxuICAgIHRoaXMuX2lzRG9uZSA9IHRydWVcbiAgICB0aGlzLl9vbkRvbmUoKVxuICB9XG5cbiAgaXNEb25lKCl7IHJldHVybiB0aGlzLl9pc0RvbmUgfVxuXG4gIGVycm9yKHJlYXNvbiA9IFwiZmFpbGVkXCIpe1xuICAgIHRoaXMudmlldy5wdXNoRmlsZVByb2dyZXNzKHRoaXMuZmlsZUVsLCB0aGlzLnJlZiwge2Vycm9yOiByZWFzb259KVxuICAgIExpdmVVcGxvYWRlci5jbGVhckZpbGVzKHRoaXMuZmlsZUVsKVxuICB9XG5cbiAgLy9wcml2YXRlXG5cbiAgb25Eb25lKGNhbGxiYWNrKXtcbiAgICB0aGlzLl9vbkRvbmUgPSAoKSA9PiB7XG4gICAgICB0aGlzLmZpbGVFbC5yZW1vdmVFdmVudExpc3RlbmVyKFBIWF9MSVZFX0ZJTEVfVVBEQVRFRCwgdGhpcy5fb25FbFVwZGF0ZWQpXG4gICAgICBjYWxsYmFjaygpXG4gICAgfVxuICB9XG5cbiAgb25FbFVwZGF0ZWQoKXtcbiAgICBsZXQgYWN0aXZlUmVmcyA9IHRoaXMuZmlsZUVsLmdldEF0dHJpYnV0ZShQSFhfQUNUSVZFX0VOVFJZX1JFRlMpLnNwbGl0KFwiLFwiKVxuICAgIGlmKGFjdGl2ZVJlZnMuaW5kZXhPZih0aGlzLnJlZikgPT09IC0xKXsgdGhpcy5jYW5jZWwoKSB9XG4gIH1cblxuICB0b1ByZWZsaWdodFBheWxvYWQoKXtcbiAgICByZXR1cm4ge1xuICAgICAgbGFzdF9tb2RpZmllZDogdGhpcy5maWxlLmxhc3RNb2RpZmllZCxcbiAgICAgIG5hbWU6IHRoaXMuZmlsZS5uYW1lLFxuICAgICAgc2l6ZTogdGhpcy5maWxlLnNpemUsXG4gICAgICB0eXBlOiB0aGlzLmZpbGUudHlwZSxcbiAgICAgIHJlZjogdGhpcy5yZWZcbiAgICB9XG4gIH1cblxuICB1cGxvYWRlcih1cGxvYWRlcnMpe1xuICAgIGlmKHRoaXMubWV0YS51cGxvYWRlcil7XG4gICAgICBsZXQgY2FsbGJhY2sgPSB1cGxvYWRlcnNbdGhpcy5tZXRhLnVwbG9hZGVyXSB8fCBsb2dFcnJvcihgbm8gdXBsb2FkZXIgY29uZmlndXJlZCBmb3IgJHt0aGlzLm1ldGEudXBsb2FkZXJ9YClcbiAgICAgIHJldHVybiB7bmFtZTogdGhpcy5tZXRhLnVwbG9hZGVyLCBjYWxsYmFjazogY2FsbGJhY2t9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB7bmFtZTogXCJjaGFubmVsXCIsIGNhbGxiYWNrOiBjaGFubmVsVXBsb2FkZXJ9XG4gICAgfVxuICB9XG5cbiAgemlwUG9zdEZsaWdodChyZXNwKXtcbiAgICB0aGlzLm1ldGEgPSByZXNwLmVudHJpZXNbdGhpcy5yZWZdXG4gICAgaWYoIXRoaXMubWV0YSl7IGxvZ0Vycm9yKGBubyBwcmVmbGlnaHQgdXBsb2FkIHJlc3BvbnNlIHJldHVybmVkIHdpdGggcmVmICR7dGhpcy5yZWZ9YCwge2lucHV0OiB0aGlzLmZpbGVFbCwgcmVzcG9uc2U6IHJlc3B9KSB9XG4gIH1cbn1cbiIsICJpbXBvcnQge1xuICBQSFhfRE9ORV9SRUZTLFxuICBQSFhfUFJFRkxJR0hURURfUkVGUyxcbiAgUEhYX1VQTE9BRF9SRUZcbn0gZnJvbSBcIi4vY29uc3RhbnRzXCJcblxuaW1wb3J0IHtcbn0gZnJvbSBcIi4vdXRpbHNcIlxuXG5pbXBvcnQgRE9NIGZyb20gXCIuL2RvbVwiXG5pbXBvcnQgVXBsb2FkRW50cnkgZnJvbSBcIi4vdXBsb2FkX2VudHJ5XCJcblxubGV0IGxpdmVVcGxvYWRlckZpbGVSZWYgPSAwXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExpdmVVcGxvYWRlciB7XG4gIHN0YXRpYyBnZW5GaWxlUmVmKGZpbGUpe1xuICAgIGxldCByZWYgPSBmaWxlLl9waHhSZWZcbiAgICBpZihyZWYgIT09IHVuZGVmaW5lZCl7XG4gICAgICByZXR1cm4gcmVmXG4gICAgfSBlbHNlIHtcbiAgICAgIGZpbGUuX3BoeFJlZiA9IChsaXZlVXBsb2FkZXJGaWxlUmVmKyspLnRvU3RyaW5nKClcbiAgICAgIHJldHVybiBmaWxlLl9waHhSZWZcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgZ2V0RW50cnlEYXRhVVJMKGlucHV0RWwsIHJlZiwgY2FsbGJhY2spe1xuICAgIGxldCBmaWxlID0gdGhpcy5hY3RpdmVGaWxlcyhpbnB1dEVsKS5maW5kKGZpbGUgPT4gdGhpcy5nZW5GaWxlUmVmKGZpbGUpID09PSByZWYpXG4gICAgY2FsbGJhY2soVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKSlcbiAgfVxuXG4gIHN0YXRpYyBoYXNVcGxvYWRzSW5Qcm9ncmVzcyhmb3JtRWwpe1xuICAgIGxldCBhY3RpdmUgPSAwXG4gICAgRE9NLmZpbmRVcGxvYWRJbnB1dHMoZm9ybUVsKS5mb3JFYWNoKGlucHV0ID0+IHtcbiAgICAgIGlmKGlucHV0LmdldEF0dHJpYnV0ZShQSFhfUFJFRkxJR0hURURfUkVGUykgIT09IGlucHV0LmdldEF0dHJpYnV0ZShQSFhfRE9ORV9SRUZTKSl7XG4gICAgICAgIGFjdGl2ZSsrXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gYWN0aXZlID4gMFxuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZVVwbG9hZHMoaW5wdXRFbCl7XG4gICAgbGV0IGZpbGVzID0gdGhpcy5hY3RpdmVGaWxlcyhpbnB1dEVsKVxuICAgIGxldCBmaWxlRGF0YSA9IHt9XG4gICAgZmlsZXMuZm9yRWFjaChmaWxlID0+IHtcbiAgICAgIGxldCBlbnRyeSA9IHtwYXRoOiBpbnB1dEVsLm5hbWV9XG4gICAgICBsZXQgdXBsb2FkUmVmID0gaW5wdXRFbC5nZXRBdHRyaWJ1dGUoUEhYX1VQTE9BRF9SRUYpXG4gICAgICBmaWxlRGF0YVt1cGxvYWRSZWZdID0gZmlsZURhdGFbdXBsb2FkUmVmXSB8fCBbXVxuICAgICAgZW50cnkucmVmID0gdGhpcy5nZW5GaWxlUmVmKGZpbGUpXG4gICAgICBlbnRyeS5uYW1lID0gZmlsZS5uYW1lIHx8IGVudHJ5LnJlZlxuICAgICAgZW50cnkudHlwZSA9IGZpbGUudHlwZVxuICAgICAgZW50cnkuc2l6ZSA9IGZpbGUuc2l6ZVxuICAgICAgZmlsZURhdGFbdXBsb2FkUmVmXS5wdXNoKGVudHJ5KVxuICAgIH0pXG4gICAgcmV0dXJuIGZpbGVEYXRhXG4gIH1cblxuICBzdGF0aWMgY2xlYXJGaWxlcyhpbnB1dEVsKXtcbiAgICBpbnB1dEVsLnZhbHVlID0gbnVsbFxuICAgIGlucHV0RWwucmVtb3ZlQXR0cmlidXRlKFBIWF9VUExPQURfUkVGKVxuICAgIERPTS5wdXRQcml2YXRlKGlucHV0RWwsIFwiZmlsZXNcIiwgW10pXG4gIH1cblxuICBzdGF0aWMgdW50cmFja0ZpbGUoaW5wdXRFbCwgZmlsZSl7XG4gICAgRE9NLnB1dFByaXZhdGUoaW5wdXRFbCwgXCJmaWxlc1wiLCBET00ucHJpdmF0ZShpbnB1dEVsLCBcImZpbGVzXCIpLmZpbHRlcihmID0+ICFPYmplY3QuaXMoZiwgZmlsZSkpKVxuICB9XG5cbiAgc3RhdGljIHRyYWNrRmlsZXMoaW5wdXRFbCwgZmlsZXMpe1xuICAgIGlmKGlucHV0RWwuZ2V0QXR0cmlidXRlKFwibXVsdGlwbGVcIikgIT09IG51bGwpe1xuICAgICAgbGV0IG5ld0ZpbGVzID0gZmlsZXMuZmlsdGVyKGZpbGUgPT4gIXRoaXMuYWN0aXZlRmlsZXMoaW5wdXRFbCkuZmluZChmID0+IE9iamVjdC5pcyhmLCBmaWxlKSkpXG4gICAgICBET00ucHV0UHJpdmF0ZShpbnB1dEVsLCBcImZpbGVzXCIsIHRoaXMuYWN0aXZlRmlsZXMoaW5wdXRFbCkuY29uY2F0KG5ld0ZpbGVzKSlcbiAgICAgIGlucHV0RWwudmFsdWUgPSBudWxsXG4gICAgfSBlbHNlIHtcbiAgICAgIERPTS5wdXRQcml2YXRlKGlucHV0RWwsIFwiZmlsZXNcIiwgZmlsZXMpXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFjdGl2ZUZpbGVJbnB1dHMoZm9ybUVsKXtcbiAgICBsZXQgZmlsZUlucHV0cyA9IERPTS5maW5kVXBsb2FkSW5wdXRzKGZvcm1FbClcbiAgICByZXR1cm4gQXJyYXkuZnJvbShmaWxlSW5wdXRzKS5maWx0ZXIoZWwgPT4gZWwuZmlsZXMgJiYgdGhpcy5hY3RpdmVGaWxlcyhlbCkubGVuZ3RoID4gMClcbiAgfVxuXG4gIHN0YXRpYyBhY3RpdmVGaWxlcyhpbnB1dCl7XG4gICAgcmV0dXJuIChET00ucHJpdmF0ZShpbnB1dCwgXCJmaWxlc1wiKSB8fCBbXSkuZmlsdGVyKGYgPT4gVXBsb2FkRW50cnkuaXNBY3RpdmUoaW5wdXQsIGYpKVxuICB9XG5cbiAgc3RhdGljIGlucHV0c0F3YWl0aW5nUHJlZmxpZ2h0KGZvcm1FbCl7XG4gICAgbGV0IGZpbGVJbnB1dHMgPSBET00uZmluZFVwbG9hZElucHV0cyhmb3JtRWwpXG4gICAgcmV0dXJuIEFycmF5LmZyb20oZmlsZUlucHV0cykuZmlsdGVyKGlucHV0ID0+IHRoaXMuZmlsZXNBd2FpdGluZ1ByZWZsaWdodChpbnB1dCkubGVuZ3RoID4gMClcbiAgfVxuXG4gIHN0YXRpYyBmaWxlc0F3YWl0aW5nUHJlZmxpZ2h0KGlucHV0KXtcbiAgICByZXR1cm4gdGhpcy5hY3RpdmVGaWxlcyhpbnB1dCkuZmlsdGVyKGYgPT4gIVVwbG9hZEVudHJ5LmlzUHJlZmxpZ2h0ZWQoaW5wdXQsIGYpKVxuICB9XG5cbiAgY29uc3RydWN0b3IoaW5wdXRFbCwgdmlldywgb25Db21wbGV0ZSl7XG4gICAgdGhpcy52aWV3ID0gdmlld1xuICAgIHRoaXMub25Db21wbGV0ZSA9IG9uQ29tcGxldGVcbiAgICB0aGlzLl9lbnRyaWVzID1cbiAgICAgIEFycmF5LmZyb20oTGl2ZVVwbG9hZGVyLmZpbGVzQXdhaXRpbmdQcmVmbGlnaHQoaW5wdXRFbCkgfHwgW10pXG4gICAgICAgIC5tYXAoZmlsZSA9PiBuZXcgVXBsb2FkRW50cnkoaW5wdXRFbCwgZmlsZSwgdmlldykpXG5cbiAgICB0aGlzLm51bUVudHJpZXNJblByb2dyZXNzID0gdGhpcy5fZW50cmllcy5sZW5ndGhcbiAgfVxuXG4gIGVudHJpZXMoKXsgcmV0dXJuIHRoaXMuX2VudHJpZXMgfVxuXG4gIGluaXRBZGFwdGVyVXBsb2FkKHJlc3AsIG9uRXJyb3IsIGxpdmVTb2NrZXQpe1xuICAgIHRoaXMuX2VudHJpZXMgPVxuICAgICAgdGhpcy5fZW50cmllcy5tYXAoZW50cnkgPT4ge1xuICAgICAgICBlbnRyeS56aXBQb3N0RmxpZ2h0KHJlc3ApXG4gICAgICAgIGVudHJ5Lm9uRG9uZSgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5udW1FbnRyaWVzSW5Qcm9ncmVzcy0tXG4gICAgICAgICAgaWYodGhpcy5udW1FbnRyaWVzSW5Qcm9ncmVzcyA9PT0gMCl7IHRoaXMub25Db21wbGV0ZSgpIH1cbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIGVudHJ5XG4gICAgICB9KVxuXG4gICAgbGV0IGdyb3VwZWRFbnRyaWVzID0gdGhpcy5fZW50cmllcy5yZWR1Y2UoKGFjYywgZW50cnkpID0+IHtcbiAgICAgIGxldCB7bmFtZSwgY2FsbGJhY2t9ID0gZW50cnkudXBsb2FkZXIobGl2ZVNvY2tldC51cGxvYWRlcnMpXG4gICAgICBhY2NbbmFtZV0gPSBhY2NbbmFtZV0gfHwge2NhbGxiYWNrOiBjYWxsYmFjaywgZW50cmllczogW119XG4gICAgICBhY2NbbmFtZV0uZW50cmllcy5wdXNoKGVudHJ5KVxuICAgICAgcmV0dXJuIGFjY1xuICAgIH0sIHt9KVxuXG4gICAgZm9yKGxldCBuYW1lIGluIGdyb3VwZWRFbnRyaWVzKXtcbiAgICAgIGxldCB7Y2FsbGJhY2ssIGVudHJpZXN9ID0gZ3JvdXBlZEVudHJpZXNbbmFtZV1cbiAgICAgIGNhbGxiYWNrKGVudHJpZXMsIG9uRXJyb3IsIHJlc3AsIGxpdmVTb2NrZXQpXG4gICAgfVxuICB9XG59XG4iLCAiaW1wb3J0IHtcbiAgUEhYX0FDVElWRV9FTlRSWV9SRUZTLFxuICBQSFhfTElWRV9GSUxFX1VQREFURUQsXG4gIFBIWF9QUkVGTElHSFRFRF9SRUZTLFxuICBQSFhfVVBMT0FEX1JFRlxufSBmcm9tIFwiLi9jb25zdGFudHNcIlxuXG5pbXBvcnQgTGl2ZVVwbG9hZGVyIGZyb20gXCIuL2xpdmVfdXBsb2FkZXJcIlxuXG5sZXQgSG9va3MgPSB7XG4gIExpdmVGaWxlVXBsb2FkOiB7XG4gICAgYWN0aXZlUmVmcygpeyByZXR1cm4gdGhpcy5lbC5nZXRBdHRyaWJ1dGUoUEhYX0FDVElWRV9FTlRSWV9SRUZTKSB9LFxuXG4gICAgcHJlZmxpZ2h0ZWRSZWZzKCl7IHJldHVybiB0aGlzLmVsLmdldEF0dHJpYnV0ZShQSFhfUFJFRkxJR0hURURfUkVGUykgfSxcblxuICAgIG1vdW50ZWQoKXsgdGhpcy5wcmVmbGlnaHRlZFdhcyA9IHRoaXMucHJlZmxpZ2h0ZWRSZWZzKCkgfSxcblxuICAgIHVwZGF0ZWQoKXtcbiAgICAgIGxldCBuZXdQcmVmbGlnaHRzID0gdGhpcy5wcmVmbGlnaHRlZFJlZnMoKVxuICAgICAgaWYodGhpcy5wcmVmbGlnaHRlZFdhcyAhPT0gbmV3UHJlZmxpZ2h0cyl7XG4gICAgICAgIHRoaXMucHJlZmxpZ2h0ZWRXYXMgPSBuZXdQcmVmbGlnaHRzXG4gICAgICAgIGlmKG5ld1ByZWZsaWdodHMgPT09IFwiXCIpe1xuICAgICAgICAgIHRoaXMuX192aWV3LmNhbmNlbFN1Ym1pdCh0aGlzLmVsLmZvcm0pXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYodGhpcy5hY3RpdmVSZWZzKCkgPT09IFwiXCIpeyB0aGlzLmVsLnZhbHVlID0gbnVsbCB9XG4gICAgICB0aGlzLmVsLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFBIWF9MSVZFX0ZJTEVfVVBEQVRFRCkpXG4gICAgfVxuICB9LFxuXG4gIExpdmVJbWdQcmV2aWV3OiB7XG4gICAgbW91bnRlZCgpe1xuICAgICAgdGhpcy5yZWYgPSB0aGlzLmVsLmdldEF0dHJpYnV0ZShcImRhdGEtcGh4LWVudHJ5LXJlZlwiKVxuICAgICAgdGhpcy5pbnB1dEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5lbC5nZXRBdHRyaWJ1dGUoUEhYX1VQTE9BRF9SRUYpKVxuICAgICAgTGl2ZVVwbG9hZGVyLmdldEVudHJ5RGF0YVVSTCh0aGlzLmlucHV0RWwsIHRoaXMucmVmLCB1cmwgPT4ge1xuICAgICAgICB0aGlzLnVybCA9IHVybFxuICAgICAgICB0aGlzLmVsLnNyYyA9IHVybFxuICAgICAgfSlcbiAgICB9LFxuICAgIGRlc3Ryb3llZCgpe1xuICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh0aGlzLnVybClcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSG9va3NcbiIsICJpbXBvcnQge1xuICBtYXliZVxufSBmcm9tIFwiLi91dGlsc1wiXG5cbmltcG9ydCBET00gZnJvbSBcIi4vZG9tXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRE9NUG9zdE1vcnBoUmVzdG9yZXIge1xuICBjb25zdHJ1Y3Rvcihjb250YWluZXJCZWZvcmUsIGNvbnRhaW5lckFmdGVyLCB1cGRhdGVUeXBlKXtcbiAgICBsZXQgaWRzQmVmb3JlID0gbmV3IFNldCgpXG4gICAgbGV0IGlkc0FmdGVyID0gbmV3IFNldChbLi4uY29udGFpbmVyQWZ0ZXIuY2hpbGRyZW5dLm1hcChjaGlsZCA9PiBjaGlsZC5pZCkpXG5cbiAgICBsZXQgZWxlbWVudHNUb01vZGlmeSA9IFtdXG5cbiAgICBBcnJheS5mcm9tKGNvbnRhaW5lckJlZm9yZS5jaGlsZHJlbikuZm9yRWFjaChjaGlsZCA9PiB7XG4gICAgICBpZihjaGlsZC5pZCl7IC8vIGFsbCBvZiBvdXIgY2hpbGRyZW4gc2hvdWxkIGJlIGVsZW1lbnRzIHdpdGggaWRzXG4gICAgICAgIGlkc0JlZm9yZS5hZGQoY2hpbGQuaWQpXG4gICAgICAgIGlmKGlkc0FmdGVyLmhhcyhjaGlsZC5pZCkpe1xuICAgICAgICAgIGxldCBwcmV2aW91c0VsZW1lbnRJZCA9IGNoaWxkLnByZXZpb3VzRWxlbWVudFNpYmxpbmcgJiYgY2hpbGQucHJldmlvdXNFbGVtZW50U2libGluZy5pZFxuICAgICAgICAgIGVsZW1lbnRzVG9Nb2RpZnkucHVzaCh7ZWxlbWVudElkOiBjaGlsZC5pZCwgcHJldmlvdXNFbGVtZW50SWQ6IHByZXZpb3VzRWxlbWVudElkfSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG5cbiAgICB0aGlzLmNvbnRhaW5lcklkID0gY29udGFpbmVyQWZ0ZXIuaWRcbiAgICB0aGlzLnVwZGF0ZVR5cGUgPSB1cGRhdGVUeXBlXG4gICAgdGhpcy5lbGVtZW50c1RvTW9kaWZ5ID0gZWxlbWVudHNUb01vZGlmeVxuICAgIHRoaXMuZWxlbWVudElkc1RvQWRkID0gWy4uLmlkc0FmdGVyXS5maWx0ZXIoaWQgPT4gIWlkc0JlZm9yZS5oYXMoaWQpKVxuICB9XG5cbiAgLy8gV2UgZG8gdGhlIGZvbGxvd2luZyB0byBvcHRpbWl6ZSBhcHBlbmQvcHJlcGVuZCBvcGVyYXRpb25zOlxuICAvLyAgIDEpIFRyYWNrIGlkcyBvZiBtb2RpZmllZCBlbGVtZW50cyAmIG9mIG5ldyBlbGVtZW50c1xuICAvLyAgIDIpIEFsbCB0aGUgbW9kaWZpZWQgZWxlbWVudHMgYXJlIHB1dCBiYWNrIGluIHRoZSBjb3JyZWN0IHBvc2l0aW9uIGluIHRoZSBET00gdHJlZVxuICAvLyAgICAgIGJ5IHN0b3JpbmcgdGhlIGlkIG9mIHRoZWlyIHByZXZpb3VzIHNpYmxpbmdcbiAgLy8gICAzKSBOZXcgZWxlbWVudHMgYXJlIGdvaW5nIHRvIGJlIHB1dCBpbiB0aGUgcmlnaHQgcGxhY2UgYnkgbW9ycGhkb20gZHVyaW5nIGFwcGVuZC5cbiAgLy8gICAgICBGb3IgcHJlcGVuZCwgd2UgbW92ZSB0aGVtIHRvIHRoZSBmaXJzdCBwb3NpdGlvbiBpbiB0aGUgY29udGFpbmVyXG4gIHBlcmZvcm0oKXtcbiAgICBsZXQgY29udGFpbmVyID0gRE9NLmJ5SWQodGhpcy5jb250YWluZXJJZClcbiAgICB0aGlzLmVsZW1lbnRzVG9Nb2RpZnkuZm9yRWFjaChlbGVtZW50VG9Nb2RpZnkgPT4ge1xuICAgICAgaWYoZWxlbWVudFRvTW9kaWZ5LnByZXZpb3VzRWxlbWVudElkKXtcbiAgICAgICAgbWF5YmUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudFRvTW9kaWZ5LnByZXZpb3VzRWxlbWVudElkKSwgcHJldmlvdXNFbGVtID0+IHtcbiAgICAgICAgICBtYXliZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50VG9Nb2RpZnkuZWxlbWVudElkKSwgZWxlbSA9PiB7XG4gICAgICAgICAgICBsZXQgaXNJblJpZ2h0UGxhY2UgPSBlbGVtLnByZXZpb3VzRWxlbWVudFNpYmxpbmcgJiYgZWxlbS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmlkID09IHByZXZpb3VzRWxlbS5pZFxuICAgICAgICAgICAgaWYoIWlzSW5SaWdodFBsYWNlKXtcbiAgICAgICAgICAgICAgcHJldmlvdXNFbGVtLmluc2VydEFkamFjZW50RWxlbWVudChcImFmdGVyZW5kXCIsIGVsZW0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFRoaXMgaXMgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIGNvbnRhaW5lclxuICAgICAgICBtYXliZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50VG9Nb2RpZnkuZWxlbWVudElkKSwgZWxlbSA9PiB7XG4gICAgICAgICAgbGV0IGlzSW5SaWdodFBsYWNlID0gZWxlbS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nID09IG51bGxcbiAgICAgICAgICBpZighaXNJblJpZ2h0UGxhY2Upe1xuICAgICAgICAgICAgY29udGFpbmVyLmluc2VydEFkamFjZW50RWxlbWVudChcImFmdGVyYmVnaW5cIiwgZWxlbSlcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSlcblxuICAgIGlmKHRoaXMudXBkYXRlVHlwZSA9PSBcInByZXBlbmRcIil7XG4gICAgICB0aGlzLmVsZW1lbnRJZHNUb0FkZC5yZXZlcnNlKCkuZm9yRWFjaChlbGVtSWQgPT4ge1xuICAgICAgICBtYXliZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtSWQpLCBlbGVtID0+IGNvbnRhaW5lci5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJhZnRlcmJlZ2luXCIsIGVsZW0pKVxuICAgICAgfSlcbiAgICB9XG4gIH1cbn1cbiIsICJ2YXIgRE9DVU1FTlRfRlJBR01FTlRfTk9ERSA9IDExO1xuXG5mdW5jdGlvbiBtb3JwaEF0dHJzKGZyb21Ob2RlLCB0b05vZGUpIHtcbiAgICB2YXIgdG9Ob2RlQXR0cnMgPSB0b05vZGUuYXR0cmlidXRlcztcbiAgICB2YXIgYXR0cjtcbiAgICB2YXIgYXR0ck5hbWU7XG4gICAgdmFyIGF0dHJOYW1lc3BhY2VVUkk7XG4gICAgdmFyIGF0dHJWYWx1ZTtcbiAgICB2YXIgZnJvbVZhbHVlO1xuXG4gICAgLy8gZG9jdW1lbnQtZnJhZ21lbnRzIGRvbnQgaGF2ZSBhdHRyaWJ1dGVzIHNvIGxldHMgbm90IGRvIGFueXRoaW5nXG4gICAgaWYgKHRvTm9kZS5ub2RlVHlwZSA9PT0gRE9DVU1FTlRfRlJBR01FTlRfTk9ERSB8fCBmcm9tTm9kZS5ub2RlVHlwZSA9PT0gRE9DVU1FTlRfRlJBR01FTlRfTk9ERSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIHVwZGF0ZSBhdHRyaWJ1dGVzIG9uIG9yaWdpbmFsIERPTSBlbGVtZW50XG4gICAgZm9yICh2YXIgaSA9IHRvTm9kZUF0dHJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGF0dHIgPSB0b05vZGVBdHRyc1tpXTtcbiAgICAgICAgYXR0ck5hbWUgPSBhdHRyLm5hbWU7XG4gICAgICAgIGF0dHJOYW1lc3BhY2VVUkkgPSBhdHRyLm5hbWVzcGFjZVVSSTtcbiAgICAgICAgYXR0clZhbHVlID0gYXR0ci52YWx1ZTtcblxuICAgICAgICBpZiAoYXR0ck5hbWVzcGFjZVVSSSkge1xuICAgICAgICAgICAgYXR0ck5hbWUgPSBhdHRyLmxvY2FsTmFtZSB8fCBhdHRyTmFtZTtcbiAgICAgICAgICAgIGZyb21WYWx1ZSA9IGZyb21Ob2RlLmdldEF0dHJpYnV0ZU5TKGF0dHJOYW1lc3BhY2VVUkksIGF0dHJOYW1lKTtcblxuICAgICAgICAgICAgaWYgKGZyb21WYWx1ZSAhPT0gYXR0clZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGF0dHIucHJlZml4ID09PSAneG1sbnMnKXtcbiAgICAgICAgICAgICAgICAgICAgYXR0ck5hbWUgPSBhdHRyLm5hbWU7IC8vIEl0J3Mgbm90IGFsbG93ZWQgdG8gc2V0IGFuIGF0dHJpYnV0ZSB3aXRoIHRoZSBYTUxOUyBuYW1lc3BhY2Ugd2l0aG91dCBzcGVjaWZ5aW5nIHRoZSBgeG1sbnNgIHByZWZpeFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmcm9tTm9kZS5zZXRBdHRyaWJ1dGVOUyhhdHRyTmFtZXNwYWNlVVJJLCBhdHRyTmFtZSwgYXR0clZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZyb21WYWx1ZSA9IGZyb21Ob2RlLmdldEF0dHJpYnV0ZShhdHRyTmFtZSk7XG5cbiAgICAgICAgICAgIGlmIChmcm9tVmFsdWUgIT09IGF0dHJWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGZyb21Ob2RlLnNldEF0dHJpYnV0ZShhdHRyTmFtZSwgYXR0clZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJlbW92ZSBhbnkgZXh0cmEgYXR0cmlidXRlcyBmb3VuZCBvbiB0aGUgb3JpZ2luYWwgRE9NIGVsZW1lbnQgdGhhdFxuICAgIC8vIHdlcmVuJ3QgZm91bmQgb24gdGhlIHRhcmdldCBlbGVtZW50LlxuICAgIHZhciBmcm9tTm9kZUF0dHJzID0gZnJvbU5vZGUuYXR0cmlidXRlcztcblxuICAgIGZvciAodmFyIGQgPSBmcm9tTm9kZUF0dHJzLmxlbmd0aCAtIDE7IGQgPj0gMDsgZC0tKSB7XG4gICAgICAgIGF0dHIgPSBmcm9tTm9kZUF0dHJzW2RdO1xuICAgICAgICBhdHRyTmFtZSA9IGF0dHIubmFtZTtcbiAgICAgICAgYXR0ck5hbWVzcGFjZVVSSSA9IGF0dHIubmFtZXNwYWNlVVJJO1xuXG4gICAgICAgIGlmIChhdHRyTmFtZXNwYWNlVVJJKSB7XG4gICAgICAgICAgICBhdHRyTmFtZSA9IGF0dHIubG9jYWxOYW1lIHx8IGF0dHJOYW1lO1xuXG4gICAgICAgICAgICBpZiAoIXRvTm9kZS5oYXNBdHRyaWJ1dGVOUyhhdHRyTmFtZXNwYWNlVVJJLCBhdHRyTmFtZSkpIHtcbiAgICAgICAgICAgICAgICBmcm9tTm9kZS5yZW1vdmVBdHRyaWJ1dGVOUyhhdHRyTmFtZXNwYWNlVVJJLCBhdHRyTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIXRvTm9kZS5oYXNBdHRyaWJ1dGUoYXR0ck5hbWUpKSB7XG4gICAgICAgICAgICAgICAgZnJvbU5vZGUucmVtb3ZlQXR0cmlidXRlKGF0dHJOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxudmFyIHJhbmdlOyAvLyBDcmVhdGUgYSByYW5nZSBvYmplY3QgZm9yIGVmZmljZW50bHkgcmVuZGVyaW5nIHN0cmluZ3MgdG8gZWxlbWVudHMuXG52YXIgTlNfWEhUTUwgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCc7XG5cbnZhciBkb2MgPSB0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogZG9jdW1lbnQ7XG52YXIgSEFTX1RFTVBMQVRFX1NVUFBPUlQgPSAhIWRvYyAmJiAnY29udGVudCcgaW4gZG9jLmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG52YXIgSEFTX1JBTkdFX1NVUFBPUlQgPSAhIWRvYyAmJiBkb2MuY3JlYXRlUmFuZ2UgJiYgJ2NyZWF0ZUNvbnRleHR1YWxGcmFnbWVudCcgaW4gZG9jLmNyZWF0ZVJhbmdlKCk7XG5cbmZ1bmN0aW9uIGNyZWF0ZUZyYWdtZW50RnJvbVRlbXBsYXRlKHN0cikge1xuICAgIHZhciB0ZW1wbGF0ZSA9IGRvYy5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuICAgIHRlbXBsYXRlLmlubmVySFRNTCA9IHN0cjtcbiAgICByZXR1cm4gdGVtcGxhdGUuY29udGVudC5jaGlsZE5vZGVzWzBdO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVGcmFnbWVudEZyb21SYW5nZShzdHIpIHtcbiAgICBpZiAoIXJhbmdlKSB7XG4gICAgICAgIHJhbmdlID0gZG9jLmNyZWF0ZVJhbmdlKCk7XG4gICAgICAgIHJhbmdlLnNlbGVjdE5vZGUoZG9jLmJvZHkpO1xuICAgIH1cblxuICAgIHZhciBmcmFnbWVudCA9IHJhbmdlLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudChzdHIpO1xuICAgIHJldHVybiBmcmFnbWVudC5jaGlsZE5vZGVzWzBdO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVGcmFnbWVudEZyb21XcmFwKHN0cikge1xuICAgIHZhciBmcmFnbWVudCA9IGRvYy5jcmVhdGVFbGVtZW50KCdib2R5Jyk7XG4gICAgZnJhZ21lbnQuaW5uZXJIVE1MID0gc3RyO1xuICAgIHJldHVybiBmcmFnbWVudC5jaGlsZE5vZGVzWzBdO1xufVxuXG4vKipcbiAqIFRoaXMgaXMgYWJvdXQgdGhlIHNhbWVcbiAqIHZhciBodG1sID0gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhzdHIsICd0ZXh0L2h0bWwnKTtcbiAqIHJldHVybiBodG1sLmJvZHkuZmlyc3RDaGlsZDtcbiAqXG4gKiBAbWV0aG9kIHRvRWxlbWVudFxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICovXG5mdW5jdGlvbiB0b0VsZW1lbnQoc3RyKSB7XG4gICAgc3RyID0gc3RyLnRyaW0oKTtcbiAgICBpZiAoSEFTX1RFTVBMQVRFX1NVUFBPUlQpIHtcbiAgICAgIC8vIGF2b2lkIHJlc3RyaWN0aW9ucyBvbiBjb250ZW50IGZvciB0aGluZ3MgbGlrZSBgPHRyPjx0aD5IaTwvdGg+PC90cj5gIHdoaWNoXG4gICAgICAvLyBjcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQgZG9lc24ndCBzdXBwb3J0XG4gICAgICAvLyA8dGVtcGxhdGU+IHN1cHBvcnQgbm90IGF2YWlsYWJsZSBpbiBJRVxuICAgICAgcmV0dXJuIGNyZWF0ZUZyYWdtZW50RnJvbVRlbXBsYXRlKHN0cik7XG4gICAgfSBlbHNlIGlmIChIQVNfUkFOR0VfU1VQUE9SVCkge1xuICAgICAgcmV0dXJuIGNyZWF0ZUZyYWdtZW50RnJvbVJhbmdlKHN0cik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZUZyYWdtZW50RnJvbVdyYXAoc3RyKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdHdvIG5vZGUncyBuYW1lcyBhcmUgdGhlIHNhbWUuXG4gKlxuICogTk9URTogV2UgZG9uJ3QgYm90aGVyIGNoZWNraW5nIGBuYW1lc3BhY2VVUklgIGJlY2F1c2UgeW91IHdpbGwgbmV2ZXIgZmluZCB0d28gSFRNTCBlbGVtZW50cyB3aXRoIHRoZSBzYW1lXG4gKiAgICAgICBub2RlTmFtZSBhbmQgZGlmZmVyZW50IG5hbWVzcGFjZSBVUklzLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gYVxuICogQHBhcmFtIHtFbGVtZW50fSBiIFRoZSB0YXJnZXQgZWxlbWVudFxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gY29tcGFyZU5vZGVOYW1lcyhmcm9tRWwsIHRvRWwpIHtcbiAgICB2YXIgZnJvbU5vZGVOYW1lID0gZnJvbUVsLm5vZGVOYW1lO1xuICAgIHZhciB0b05vZGVOYW1lID0gdG9FbC5ub2RlTmFtZTtcbiAgICB2YXIgZnJvbUNvZGVTdGFydCwgdG9Db2RlU3RhcnQ7XG5cbiAgICBpZiAoZnJvbU5vZGVOYW1lID09PSB0b05vZGVOYW1lKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGZyb21Db2RlU3RhcnQgPSBmcm9tTm9kZU5hbWUuY2hhckNvZGVBdCgwKTtcbiAgICB0b0NvZGVTdGFydCA9IHRvTm9kZU5hbWUuY2hhckNvZGVBdCgwKTtcblxuICAgIC8vIElmIHRoZSB0YXJnZXQgZWxlbWVudCBpcyBhIHZpcnR1YWwgRE9NIG5vZGUgb3IgU1ZHIG5vZGUgdGhlbiB3ZSBtYXlcbiAgICAvLyBuZWVkIHRvIG5vcm1hbGl6ZSB0aGUgdGFnIG5hbWUgYmVmb3JlIGNvbXBhcmluZy4gTm9ybWFsIEhUTUwgZWxlbWVudHMgdGhhdCBhcmVcbiAgICAvLyBpbiB0aGUgXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCJcbiAgICAvLyBhcmUgY29udmVydGVkIHRvIHVwcGVyIGNhc2VcbiAgICBpZiAoZnJvbUNvZGVTdGFydCA8PSA5MCAmJiB0b0NvZGVTdGFydCA+PSA5NykgeyAvLyBmcm9tIGlzIHVwcGVyIGFuZCB0byBpcyBsb3dlclxuICAgICAgICByZXR1cm4gZnJvbU5vZGVOYW1lID09PSB0b05vZGVOYW1lLnRvVXBwZXJDYXNlKCk7XG4gICAgfSBlbHNlIGlmICh0b0NvZGVTdGFydCA8PSA5MCAmJiBmcm9tQ29kZVN0YXJ0ID49IDk3KSB7IC8vIHRvIGlzIHVwcGVyIGFuZCBmcm9tIGlzIGxvd2VyXG4gICAgICAgIHJldHVybiB0b05vZGVOYW1lID09PSBmcm9tTm9kZU5hbWUudG9VcHBlckNhc2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG4vKipcbiAqIENyZWF0ZSBhbiBlbGVtZW50LCBvcHRpb25hbGx5IHdpdGggYSBrbm93biBuYW1lc3BhY2UgVVJJLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIHRoZSBlbGVtZW50IG5hbWUsIGUuZy4gJ2Rpdicgb3IgJ3N2ZydcbiAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZXNwYWNlVVJJXSB0aGUgZWxlbWVudCdzIG5hbWVzcGFjZSBVUkksIGkuZS4gdGhlIHZhbHVlIG9mXG4gKiBpdHMgYHhtbG5zYCBhdHRyaWJ1dGUgb3IgaXRzIGluZmVycmVkIG5hbWVzcGFjZS5cbiAqXG4gKiBAcmV0dXJuIHtFbGVtZW50fVxuICovXG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50TlMobmFtZSwgbmFtZXNwYWNlVVJJKSB7XG4gICAgcmV0dXJuICFuYW1lc3BhY2VVUkkgfHwgbmFtZXNwYWNlVVJJID09PSBOU19YSFRNTCA/XG4gICAgICAgIGRvYy5jcmVhdGVFbGVtZW50KG5hbWUpIDpcbiAgICAgICAgZG9jLmNyZWF0ZUVsZW1lbnROUyhuYW1lc3BhY2VVUkksIG5hbWUpO1xufVxuXG4vKipcbiAqIENvcGllcyB0aGUgY2hpbGRyZW4gb2Ygb25lIERPTSBlbGVtZW50IHRvIGFub3RoZXIgRE9NIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gbW92ZUNoaWxkcmVuKGZyb21FbCwgdG9FbCkge1xuICAgIHZhciBjdXJDaGlsZCA9IGZyb21FbC5maXJzdENoaWxkO1xuICAgIHdoaWxlIChjdXJDaGlsZCkge1xuICAgICAgICB2YXIgbmV4dENoaWxkID0gY3VyQ2hpbGQubmV4dFNpYmxpbmc7XG4gICAgICAgIHRvRWwuYXBwZW5kQ2hpbGQoY3VyQ2hpbGQpO1xuICAgICAgICBjdXJDaGlsZCA9IG5leHRDaGlsZDtcbiAgICB9XG4gICAgcmV0dXJuIHRvRWw7XG59XG5cbmZ1bmN0aW9uIHN5bmNCb29sZWFuQXR0clByb3AoZnJvbUVsLCB0b0VsLCBuYW1lKSB7XG4gICAgaWYgKGZyb21FbFtuYW1lXSAhPT0gdG9FbFtuYW1lXSkge1xuICAgICAgICBmcm9tRWxbbmFtZV0gPSB0b0VsW25hbWVdO1xuICAgICAgICBpZiAoZnJvbUVsW25hbWVdKSB7XG4gICAgICAgICAgICBmcm9tRWwuc2V0QXR0cmlidXRlKG5hbWUsICcnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZyb21FbC5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbnZhciBzcGVjaWFsRWxIYW5kbGVycyA9IHtcbiAgICBPUFRJT046IGZ1bmN0aW9uKGZyb21FbCwgdG9FbCkge1xuICAgICAgICB2YXIgcGFyZW50Tm9kZSA9IGZyb21FbC5wYXJlbnROb2RlO1xuICAgICAgICBpZiAocGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgdmFyIHBhcmVudE5hbWUgPSBwYXJlbnROb2RlLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICBpZiAocGFyZW50TmFtZSA9PT0gJ09QVEdST1VQJykge1xuICAgICAgICAgICAgICAgIHBhcmVudE5vZGUgPSBwYXJlbnROb2RlLnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgcGFyZW50TmFtZSA9IHBhcmVudE5vZGUgJiYgcGFyZW50Tm9kZS5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBhcmVudE5hbWUgPT09ICdTRUxFQ1QnICYmICFwYXJlbnROb2RlLmhhc0F0dHJpYnV0ZSgnbXVsdGlwbGUnKSkge1xuICAgICAgICAgICAgICAgIGlmIChmcm9tRWwuaGFzQXR0cmlidXRlKCdzZWxlY3RlZCcpICYmICF0b0VsLnNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdvcmthcm91bmQgZm9yIE1TIEVkZ2UgYnVnIHdoZXJlIHRoZSAnc2VsZWN0ZWQnIGF0dHJpYnV0ZSBjYW4gb25seSBiZVxuICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmVkIGlmIHNldCB0byBhIG5vbi1lbXB0eSB2YWx1ZTpcbiAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubWljcm9zb2Z0LmNvbS9lbi11cy9taWNyb3NvZnQtZWRnZS9wbGF0Zm9ybS9pc3N1ZXMvMTIwODc2NzkvXG4gICAgICAgICAgICAgICAgICAgIGZyb21FbC5zZXRBdHRyaWJ1dGUoJ3NlbGVjdGVkJywgJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgICAgIGZyb21FbC5yZW1vdmVBdHRyaWJ1dGUoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFdlIGhhdmUgdG8gcmVzZXQgc2VsZWN0IGVsZW1lbnQncyBzZWxlY3RlZEluZGV4IHRvIC0xLCBvdGhlcndpc2Ugc2V0dGluZ1xuICAgICAgICAgICAgICAgIC8vIGZyb21FbC5zZWxlY3RlZCB1c2luZyB0aGUgc3luY0Jvb2xlYW5BdHRyUHJvcCBiZWxvdyBoYXMgbm8gZWZmZWN0LlxuICAgICAgICAgICAgICAgIC8vIFRoZSBjb3JyZWN0IHNlbGVjdGVkSW5kZXggd2lsbCBiZSBzZXQgaW4gdGhlIFNFTEVDVCBzcGVjaWFsIGhhbmRsZXIgYmVsb3cuXG4gICAgICAgICAgICAgICAgcGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4ID0gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3luY0Jvb2xlYW5BdHRyUHJvcChmcm9tRWwsIHRvRWwsICdzZWxlY3RlZCcpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogVGhlIFwidmFsdWVcIiBhdHRyaWJ1dGUgaXMgc3BlY2lhbCBmb3IgdGhlIDxpbnB1dD4gZWxlbWVudCBzaW5jZSBpdCBzZXRzXG4gICAgICogdGhlIGluaXRpYWwgdmFsdWUuIENoYW5naW5nIHRoZSBcInZhbHVlXCIgYXR0cmlidXRlIHdpdGhvdXQgY2hhbmdpbmcgdGhlXG4gICAgICogXCJ2YWx1ZVwiIHByb3BlcnR5IHdpbGwgaGF2ZSBubyBlZmZlY3Qgc2luY2UgaXQgaXMgb25seSB1c2VkIHRvIHRoZSBzZXQgdGhlXG4gICAgICogaW5pdGlhbCB2YWx1ZS4gIFNpbWlsYXIgZm9yIHRoZSBcImNoZWNrZWRcIiBhdHRyaWJ1dGUsIGFuZCBcImRpc2FibGVkXCIuXG4gICAgICovXG4gICAgSU5QVVQ6IGZ1bmN0aW9uKGZyb21FbCwgdG9FbCkge1xuICAgICAgICBzeW5jQm9vbGVhbkF0dHJQcm9wKGZyb21FbCwgdG9FbCwgJ2NoZWNrZWQnKTtcbiAgICAgICAgc3luY0Jvb2xlYW5BdHRyUHJvcChmcm9tRWwsIHRvRWwsICdkaXNhYmxlZCcpO1xuXG4gICAgICAgIGlmIChmcm9tRWwudmFsdWUgIT09IHRvRWwudmFsdWUpIHtcbiAgICAgICAgICAgIGZyb21FbC52YWx1ZSA9IHRvRWwudmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRvRWwuaGFzQXR0cmlidXRlKCd2YWx1ZScpKSB7XG4gICAgICAgICAgICBmcm9tRWwucmVtb3ZlQXR0cmlidXRlKCd2YWx1ZScpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIFRFWFRBUkVBOiBmdW5jdGlvbihmcm9tRWwsIHRvRWwpIHtcbiAgICAgICAgdmFyIG5ld1ZhbHVlID0gdG9FbC52YWx1ZTtcbiAgICAgICAgaWYgKGZyb21FbC52YWx1ZSAhPT0gbmV3VmFsdWUpIHtcbiAgICAgICAgICAgIGZyb21FbC52YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGZpcnN0Q2hpbGQgPSBmcm9tRWwuZmlyc3RDaGlsZDtcbiAgICAgICAgaWYgKGZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgIC8vIE5lZWRlZCBmb3IgSUUuIEFwcGFyZW50bHkgSUUgc2V0cyB0aGUgcGxhY2Vob2xkZXIgYXMgdGhlXG4gICAgICAgICAgICAvLyBub2RlIHZhbHVlIGFuZCB2aXNlIHZlcnNhLiBUaGlzIGlnbm9yZXMgYW4gZW1wdHkgdXBkYXRlLlxuICAgICAgICAgICAgdmFyIG9sZFZhbHVlID0gZmlyc3RDaGlsZC5ub2RlVmFsdWU7XG5cbiAgICAgICAgICAgIGlmIChvbGRWYWx1ZSA9PSBuZXdWYWx1ZSB8fCAoIW5ld1ZhbHVlICYmIG9sZFZhbHVlID09IGZyb21FbC5wbGFjZWhvbGRlcikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZpcnN0Q2hpbGQubm9kZVZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFNFTEVDVDogZnVuY3Rpb24oZnJvbUVsLCB0b0VsKSB7XG4gICAgICAgIGlmICghdG9FbC5oYXNBdHRyaWJ1dGUoJ211bHRpcGxlJykpIHtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZEluZGV4ID0gLTE7XG4gICAgICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgICAgICAvLyBXZSBoYXZlIHRvIGxvb3AgdGhyb3VnaCBjaGlsZHJlbiBvZiBmcm9tRWwsIG5vdCB0b0VsIHNpbmNlIG5vZGVzIGNhbiBiZSBtb3ZlZFxuICAgICAgICAgICAgLy8gZnJvbSB0b0VsIHRvIGZyb21FbCBkaXJlY3RseSB3aGVuIG1vcnBoaW5nLlxuICAgICAgICAgICAgLy8gQXQgdGhlIHRpbWUgdGhpcyBzcGVjaWFsIGhhbmRsZXIgaXMgaW52b2tlZCwgYWxsIGNoaWxkcmVuIGhhdmUgYWxyZWFkeSBiZWVuIG1vcnBoZWRcbiAgICAgICAgICAgIC8vIGFuZCBhcHBlbmRlZCB0byAvIHJlbW92ZWQgZnJvbSBmcm9tRWwsIHNvIHVzaW5nIGZyb21FbCBoZXJlIGlzIHNhZmUgYW5kIGNvcnJlY3QuXG4gICAgICAgICAgICB2YXIgY3VyQ2hpbGQgPSBmcm9tRWwuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgIHZhciBvcHRncm91cDtcbiAgICAgICAgICAgIHZhciBub2RlTmFtZTtcbiAgICAgICAgICAgIHdoaWxlKGN1ckNoaWxkKSB7XG4gICAgICAgICAgICAgICAgbm9kZU5hbWUgPSBjdXJDaGlsZC5ub2RlTmFtZSAmJiBjdXJDaGlsZC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIGlmIChub2RlTmFtZSA9PT0gJ09QVEdST1VQJykge1xuICAgICAgICAgICAgICAgICAgICBvcHRncm91cCA9IGN1ckNoaWxkO1xuICAgICAgICAgICAgICAgICAgICBjdXJDaGlsZCA9IG9wdGdyb3VwLmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGVOYW1lID09PSAnT1BUSU9OJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1ckNoaWxkLmhhc0F0dHJpYnV0ZSgnc2VsZWN0ZWQnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkSW5kZXggPSBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGN1ckNoaWxkID0gY3VyQ2hpbGQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY3VyQ2hpbGQgJiYgb3B0Z3JvdXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckNoaWxkID0gb3B0Z3JvdXAubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRncm91cCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZyb21FbC5zZWxlY3RlZEluZGV4ID0gc2VsZWN0ZWRJbmRleDtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbnZhciBFTEVNRU5UX05PREUgPSAxO1xudmFyIERPQ1VNRU5UX0ZSQUdNRU5UX05PREUkMSA9IDExO1xudmFyIFRFWFRfTk9ERSA9IDM7XG52YXIgQ09NTUVOVF9OT0RFID0gODtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbmZ1bmN0aW9uIGRlZmF1bHRHZXROb2RlS2V5KG5vZGUpIHtcbiAgaWYgKG5vZGUpIHtcbiAgICAgIHJldHVybiAobm9kZS5nZXRBdHRyaWJ1dGUgJiYgbm9kZS5nZXRBdHRyaWJ1dGUoJ2lkJykpIHx8IG5vZGUuaWQ7XG4gIH1cbn1cblxuZnVuY3Rpb24gbW9ycGhkb21GYWN0b3J5KG1vcnBoQXR0cnMpIHtcblxuICAgIHJldHVybiBmdW5jdGlvbiBtb3JwaGRvbShmcm9tTm9kZSwgdG9Ob2RlLCBvcHRpb25zKSB7XG4gICAgICAgIGlmICghb3B0aW9ucykge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiB0b05vZGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpZiAoZnJvbU5vZGUubm9kZU5hbWUgPT09ICcjZG9jdW1lbnQnIHx8IGZyb21Ob2RlLm5vZGVOYW1lID09PSAnSFRNTCcgfHwgZnJvbU5vZGUubm9kZU5hbWUgPT09ICdCT0RZJykge1xuICAgICAgICAgICAgICAgIHZhciB0b05vZGVIdG1sID0gdG9Ob2RlO1xuICAgICAgICAgICAgICAgIHRvTm9kZSA9IGRvYy5jcmVhdGVFbGVtZW50KCdodG1sJyk7XG4gICAgICAgICAgICAgICAgdG9Ob2RlLmlubmVySFRNTCA9IHRvTm9kZUh0bWw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRvTm9kZSA9IHRvRWxlbWVudCh0b05vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGdldE5vZGVLZXkgPSBvcHRpb25zLmdldE5vZGVLZXkgfHwgZGVmYXVsdEdldE5vZGVLZXk7XG4gICAgICAgIHZhciBvbkJlZm9yZU5vZGVBZGRlZCA9IG9wdGlvbnMub25CZWZvcmVOb2RlQWRkZWQgfHwgbm9vcDtcbiAgICAgICAgdmFyIG9uTm9kZUFkZGVkID0gb3B0aW9ucy5vbk5vZGVBZGRlZCB8fCBub29wO1xuICAgICAgICB2YXIgb25CZWZvcmVFbFVwZGF0ZWQgPSBvcHRpb25zLm9uQmVmb3JlRWxVcGRhdGVkIHx8IG5vb3A7XG4gICAgICAgIHZhciBvbkVsVXBkYXRlZCA9IG9wdGlvbnMub25FbFVwZGF0ZWQgfHwgbm9vcDtcbiAgICAgICAgdmFyIG9uQmVmb3JlTm9kZURpc2NhcmRlZCA9IG9wdGlvbnMub25CZWZvcmVOb2RlRGlzY2FyZGVkIHx8IG5vb3A7XG4gICAgICAgIHZhciBvbk5vZGVEaXNjYXJkZWQgPSBvcHRpb25zLm9uTm9kZURpc2NhcmRlZCB8fCBub29wO1xuICAgICAgICB2YXIgb25CZWZvcmVFbENoaWxkcmVuVXBkYXRlZCA9IG9wdGlvbnMub25CZWZvcmVFbENoaWxkcmVuVXBkYXRlZCB8fCBub29wO1xuICAgICAgICB2YXIgY2hpbGRyZW5Pbmx5ID0gb3B0aW9ucy5jaGlsZHJlbk9ubHkgPT09IHRydWU7XG5cbiAgICAgICAgLy8gVGhpcyBvYmplY3QgaXMgdXNlZCBhcyBhIGxvb2t1cCB0byBxdWlja2x5IGZpbmQgYWxsIGtleWVkIGVsZW1lbnRzIGluIHRoZSBvcmlnaW5hbCBET00gdHJlZS5cbiAgICAgICAgdmFyIGZyb21Ob2Rlc0xvb2t1cCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIHZhciBrZXllZFJlbW92YWxMaXN0ID0gW107XG5cbiAgICAgICAgZnVuY3Rpb24gYWRkS2V5ZWRSZW1vdmFsKGtleSkge1xuICAgICAgICAgICAga2V5ZWRSZW1vdmFsTGlzdC5wdXNoKGtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB3YWxrRGlzY2FyZGVkQ2hpbGROb2Rlcyhub2RlLCBza2lwS2V5ZWROb2Rlcykge1xuICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERSkge1xuICAgICAgICAgICAgICAgIHZhciBjdXJDaGlsZCA9IG5vZGUuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgICAgICB3aGlsZSAoY3VyQ2hpbGQpIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChza2lwS2V5ZWROb2RlcyAmJiAoa2V5ID0gZ2V0Tm9kZUtleShjdXJDaGlsZCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBhcmUgc2tpcHBpbmcga2V5ZWQgbm9kZXMgdGhlbiB3ZSBhZGQgdGhlIGtleVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdG8gYSBsaXN0IHNvIHRoYXQgaXQgY2FuIGJlIGhhbmRsZWQgYXQgdGhlIHZlcnkgZW5kLlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkS2V5ZWRSZW1vdmFsKGtleSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IHJlcG9ydCB0aGUgbm9kZSBhcyBkaXNjYXJkZWQgaWYgaXQgaXMgbm90IGtleWVkLiBXZSBkbyB0aGlzIGJlY2F1c2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGF0IHRoZSBlbmQgd2UgbG9vcCB0aHJvdWdoIGFsbCBrZXllZCBlbGVtZW50cyB0aGF0IHdlcmUgdW5tYXRjaGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbmQgdGhlbiBkaXNjYXJkIHRoZW0gaW4gb25lIGZpbmFsIHBhc3MuXG4gICAgICAgICAgICAgICAgICAgICAgICBvbk5vZGVEaXNjYXJkZWQoY3VyQ2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1ckNoaWxkLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YWxrRGlzY2FyZGVkQ2hpbGROb2RlcyhjdXJDaGlsZCwgc2tpcEtleWVkTm9kZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY3VyQ2hpbGQgPSBjdXJDaGlsZC5uZXh0U2libGluZztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVtb3ZlcyBhIERPTSBub2RlIG91dCBvZiB0aGUgb3JpZ2luYWwgRE9NXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSAge05vZGV9IG5vZGUgVGhlIG5vZGUgdG8gcmVtb3ZlXG4gICAgICAgICAqIEBwYXJhbSAge05vZGV9IHBhcmVudE5vZGUgVGhlIG5vZGVzIHBhcmVudFxuICAgICAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBza2lwS2V5ZWROb2RlcyBJZiB0cnVlIHRoZW4gZWxlbWVudHMgd2l0aCBrZXlzIHdpbGwgYmUgc2tpcHBlZCBhbmQgbm90IGRpc2NhcmRlZC5cbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlTm9kZShub2RlLCBwYXJlbnROb2RlLCBza2lwS2V5ZWROb2Rlcykge1xuICAgICAgICAgICAgaWYgKG9uQmVmb3JlTm9kZURpc2NhcmRlZChub2RlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb25Ob2RlRGlzY2FyZGVkKG5vZGUpO1xuICAgICAgICAgICAgd2Fsa0Rpc2NhcmRlZENoaWxkTm9kZXMobm9kZSwgc2tpcEtleWVkTm9kZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gLy8gVHJlZVdhbGtlciBpbXBsZW1lbnRhdGlvbiBpcyBubyBmYXN0ZXIsIGJ1dCBrZWVwaW5nIHRoaXMgYXJvdW5kIGluIGNhc2UgdGhpcyBjaGFuZ2VzIGluIHRoZSBmdXR1cmVcbiAgICAgICAgLy8gZnVuY3Rpb24gaW5kZXhUcmVlKHJvb3QpIHtcbiAgICAgICAgLy8gICAgIHZhciB0cmVlV2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihcbiAgICAgICAgLy8gICAgICAgICByb290LFxuICAgICAgICAvLyAgICAgICAgIE5vZGVGaWx0ZXIuU0hPV19FTEVNRU5UKTtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gICAgIHZhciBlbDtcbiAgICAgICAgLy8gICAgIHdoaWxlKChlbCA9IHRyZWVXYWxrZXIubmV4dE5vZGUoKSkpIHtcbiAgICAgICAgLy8gICAgICAgICB2YXIga2V5ID0gZ2V0Tm9kZUtleShlbCk7XG4gICAgICAgIC8vICAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAvLyAgICAgICAgICAgICBmcm9tTm9kZXNMb29rdXBba2V5XSA9IGVsO1xuICAgICAgICAvLyAgICAgICAgIH1cbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gfVxuXG4gICAgICAgIC8vIC8vIE5vZGVJdGVyYXRvciBpbXBsZW1lbnRhdGlvbiBpcyBubyBmYXN0ZXIsIGJ1dCBrZWVwaW5nIHRoaXMgYXJvdW5kIGluIGNhc2UgdGhpcyBjaGFuZ2VzIGluIHRoZSBmdXR1cmVcbiAgICAgICAgLy9cbiAgICAgICAgLy8gZnVuY3Rpb24gaW5kZXhUcmVlKG5vZGUpIHtcbiAgICAgICAgLy8gICAgIHZhciBub2RlSXRlcmF0b3IgPSBkb2N1bWVudC5jcmVhdGVOb2RlSXRlcmF0b3Iobm9kZSwgTm9kZUZpbHRlci5TSE9XX0VMRU1FTlQpO1xuICAgICAgICAvLyAgICAgdmFyIGVsO1xuICAgICAgICAvLyAgICAgd2hpbGUoKGVsID0gbm9kZUl0ZXJhdG9yLm5leHROb2RlKCkpKSB7XG4gICAgICAgIC8vICAgICAgICAgdmFyIGtleSA9IGdldE5vZGVLZXkoZWwpO1xuICAgICAgICAvLyAgICAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgLy8gICAgICAgICAgICAgZnJvbU5vZGVzTG9va3VwW2tleV0gPSBlbDtcbiAgICAgICAgLy8gICAgICAgICB9XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vIH1cblxuICAgICAgICBmdW5jdGlvbiBpbmRleFRyZWUobm9kZSkge1xuICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERSB8fCBub2RlLm5vZGVUeXBlID09PSBET0NVTUVOVF9GUkFHTUVOVF9OT0RFJDEpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3VyQ2hpbGQgPSBub2RlLmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGN1ckNoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBnZXROb2RlS2V5KGN1ckNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZnJvbU5vZGVzTG9va3VwW2tleV0gPSBjdXJDaGlsZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIFdhbGsgcmVjdXJzaXZlbHlcbiAgICAgICAgICAgICAgICAgICAgaW5kZXhUcmVlKGN1ckNoaWxkKTtcblxuICAgICAgICAgICAgICAgICAgICBjdXJDaGlsZCA9IGN1ckNoaWxkLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGluZGV4VHJlZShmcm9tTm9kZSk7XG5cbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlTm9kZUFkZGVkKGVsKSB7XG4gICAgICAgICAgICBvbk5vZGVBZGRlZChlbCk7XG5cbiAgICAgICAgICAgIHZhciBjdXJDaGlsZCA9IGVsLmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICB3aGlsZSAoY3VyQ2hpbGQpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV4dFNpYmxpbmcgPSBjdXJDaGlsZC5uZXh0U2libGluZztcblxuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBnZXROb2RlS2V5KGN1ckNoaWxkKTtcbiAgICAgICAgICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB1bm1hdGNoZWRGcm9tRWwgPSBmcm9tTm9kZXNMb29rdXBba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgd2UgZmluZCBhIGR1cGxpY2F0ZSAjaWQgbm9kZSBpbiBjYWNoZSwgcmVwbGFjZSBgZWxgIHdpdGggY2FjaGUgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5kIG1vcnBoIGl0IHRvIHRoZSBjaGlsZCBub2RlLlxuICAgICAgICAgICAgICAgICAgICBpZiAodW5tYXRjaGVkRnJvbUVsICYmIGNvbXBhcmVOb2RlTmFtZXMoY3VyQ2hpbGQsIHVubWF0Y2hlZEZyb21FbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckNoaWxkLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHVubWF0Y2hlZEZyb21FbCwgY3VyQ2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9ycGhFbCh1bm1hdGNoZWRGcm9tRWwsIGN1ckNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVOb2RlQWRkZWQoY3VyQ2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIC8vIHJlY3Vyc2l2ZWx5IGNhbGwgZm9yIGN1ckNoaWxkIGFuZCBpdCdzIGNoaWxkcmVuIHRvIHNlZSBpZiB3ZSBmaW5kIHNvbWV0aGluZyBpblxuICAgICAgICAgICAgICAgICAgLy8gZnJvbU5vZGVzTG9va3VwXG4gICAgICAgICAgICAgICAgICBoYW5kbGVOb2RlQWRkZWQoY3VyQ2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGN1ckNoaWxkID0gbmV4dFNpYmxpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjbGVhbnVwRnJvbUVsKGZyb21FbCwgY3VyRnJvbU5vZGVDaGlsZCwgY3VyRnJvbU5vZGVLZXkpIHtcbiAgICAgICAgICAgIC8vIFdlIGhhdmUgcHJvY2Vzc2VkIGFsbCBvZiB0aGUgXCJ0byBub2Rlc1wiLiBJZiBjdXJGcm9tTm9kZUNoaWxkIGlzXG4gICAgICAgICAgICAvLyBub24tbnVsbCB0aGVuIHdlIHN0aWxsIGhhdmUgc29tZSBmcm9tIG5vZGVzIGxlZnQgb3ZlciB0aGF0IG5lZWRcbiAgICAgICAgICAgIC8vIHRvIGJlIHJlbW92ZWRcbiAgICAgICAgICAgIHdoaWxlIChjdXJGcm9tTm9kZUNoaWxkKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZyb21OZXh0U2libGluZyA9IGN1ckZyb21Ob2RlQ2hpbGQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgaWYgKChjdXJGcm9tTm9kZUtleSA9IGdldE5vZGVLZXkoY3VyRnJvbU5vZGVDaGlsZCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNpbmNlIHRoZSBub2RlIGlzIGtleWVkIGl0IG1pZ2h0IGJlIG1hdGNoZWQgdXAgbGF0ZXIgc28gd2UgZGVmZXJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGFjdHVhbCByZW1vdmFsIHRvIGxhdGVyXG4gICAgICAgICAgICAgICAgICAgIGFkZEtleWVkUmVtb3ZhbChjdXJGcm9tTm9kZUtleSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTk9URTogd2Ugc2tpcCBuZXN0ZWQga2V5ZWQgbm9kZXMgZnJvbSBiZWluZyByZW1vdmVkIHNpbmNlIHRoZXJlIGlzXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgIHN0aWxsIGEgY2hhbmNlIHRoZXkgd2lsbCBiZSBtYXRjaGVkIHVwIGxhdGVyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZU5vZGUoY3VyRnJvbU5vZGVDaGlsZCwgZnJvbUVsLCB0cnVlIC8qIHNraXAga2V5ZWQgbm9kZXMgKi8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdXJGcm9tTm9kZUNoaWxkID0gZnJvbU5leHRTaWJsaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gbW9ycGhFbChmcm9tRWwsIHRvRWwsIGNoaWxkcmVuT25seSkge1xuICAgICAgICAgICAgdmFyIHRvRWxLZXkgPSBnZXROb2RlS2V5KHRvRWwpO1xuXG4gICAgICAgICAgICBpZiAodG9FbEtleSkge1xuICAgICAgICAgICAgICAgIC8vIElmIGFuIGVsZW1lbnQgd2l0aCBhbiBJRCBpcyBiZWluZyBtb3JwaGVkIHRoZW4gaXQgd2lsbCBiZSBpbiB0aGUgZmluYWxcbiAgICAgICAgICAgICAgICAvLyBET00gc28gY2xlYXIgaXQgb3V0IG9mIHRoZSBzYXZlZCBlbGVtZW50cyBjb2xsZWN0aW9uXG4gICAgICAgICAgICAgICAgZGVsZXRlIGZyb21Ob2Rlc0xvb2t1cFt0b0VsS2V5XTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFjaGlsZHJlbk9ubHkpIHtcbiAgICAgICAgICAgICAgICAvLyBvcHRpb25hbFxuICAgICAgICAgICAgICAgIGlmIChvbkJlZm9yZUVsVXBkYXRlZChmcm9tRWwsIHRvRWwpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIGF0dHJpYnV0ZXMgb24gb3JpZ2luYWwgRE9NIGVsZW1lbnQgZmlyc3RcbiAgICAgICAgICAgICAgICBtb3JwaEF0dHJzKGZyb21FbCwgdG9FbCk7XG4gICAgICAgICAgICAgICAgLy8gb3B0aW9uYWxcbiAgICAgICAgICAgICAgICBvbkVsVXBkYXRlZChmcm9tRWwpO1xuXG4gICAgICAgICAgICAgICAgaWYgKG9uQmVmb3JlRWxDaGlsZHJlblVwZGF0ZWQoZnJvbUVsLCB0b0VsKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZyb21FbC5ub2RlTmFtZSAhPT0gJ1RFWFRBUkVBJykge1xuICAgICAgICAgICAgICBtb3JwaENoaWxkcmVuKGZyb21FbCwgdG9FbCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzcGVjaWFsRWxIYW5kbGVycy5URVhUQVJFQShmcm9tRWwsIHRvRWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gbW9ycGhDaGlsZHJlbihmcm9tRWwsIHRvRWwpIHtcbiAgICAgICAgICAgIHZhciBjdXJUb05vZGVDaGlsZCA9IHRvRWwuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgIHZhciBjdXJGcm9tTm9kZUNoaWxkID0gZnJvbUVsLmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICB2YXIgY3VyVG9Ob2RlS2V5O1xuICAgICAgICAgICAgdmFyIGN1ckZyb21Ob2RlS2V5O1xuXG4gICAgICAgICAgICB2YXIgZnJvbU5leHRTaWJsaW5nO1xuICAgICAgICAgICAgdmFyIHRvTmV4dFNpYmxpbmc7XG4gICAgICAgICAgICB2YXIgbWF0Y2hpbmdGcm9tRWw7XG5cbiAgICAgICAgICAgIC8vIHdhbGsgdGhlIGNoaWxkcmVuXG4gICAgICAgICAgICBvdXRlcjogd2hpbGUgKGN1clRvTm9kZUNoaWxkKSB7XG4gICAgICAgICAgICAgICAgdG9OZXh0U2libGluZyA9IGN1clRvTm9kZUNoaWxkLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgIGN1clRvTm9kZUtleSA9IGdldE5vZGVLZXkoY3VyVG9Ob2RlQ2hpbGQpO1xuXG4gICAgICAgICAgICAgICAgLy8gd2FsayB0aGUgZnJvbU5vZGUgY2hpbGRyZW4gYWxsIHRoZSB3YXkgdGhyb3VnaFxuICAgICAgICAgICAgICAgIHdoaWxlIChjdXJGcm9tTm9kZUNoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIGZyb21OZXh0U2libGluZyA9IGN1ckZyb21Ob2RlQ2hpbGQubmV4dFNpYmxpbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1clRvTm9kZUNoaWxkLmlzU2FtZU5vZGUgJiYgY3VyVG9Ob2RlQ2hpbGQuaXNTYW1lTm9kZShjdXJGcm9tTm9kZUNoaWxkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyVG9Ob2RlQ2hpbGQgPSB0b05leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyRnJvbU5vZGVDaGlsZCA9IGZyb21OZXh0U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY3VyRnJvbU5vZGVLZXkgPSBnZXROb2RlS2V5KGN1ckZyb21Ob2RlQ2hpbGQpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJGcm9tTm9kZVR5cGUgPSBjdXJGcm9tTm9kZUNoaWxkLm5vZGVUeXBlO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgbWVhbnMgaWYgdGhlIGN1ckZyb21Ob2RlQ2hpbGQgZG9lc250IGhhdmUgYSBtYXRjaCB3aXRoIHRoZSBjdXJUb05vZGVDaGlsZFxuICAgICAgICAgICAgICAgICAgICB2YXIgaXNDb21wYXRpYmxlID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJGcm9tTm9kZVR5cGUgPT09IGN1clRvTm9kZUNoaWxkLm5vZGVUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyRnJvbU5vZGVUeXBlID09PSBFTEVNRU5UX05PREUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBCb3RoIG5vZGVzIGJlaW5nIGNvbXBhcmVkIGFyZSBFbGVtZW50IG5vZGVzXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyVG9Ob2RlS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSB0YXJnZXQgbm9kZSBoYXMgYSBrZXkgc28gd2Ugd2FudCB0byBtYXRjaCBpdCB1cCB3aXRoIHRoZSBjb3JyZWN0IGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW4gdGhlIG9yaWdpbmFsIERPTSB0cmVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJUb05vZGVLZXkgIT09IGN1ckZyb21Ob2RlS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgY3VycmVudCBlbGVtZW50IGluIHRoZSBvcmlnaW5hbCBET00gdHJlZSBkb2VzIG5vdCBoYXZlIGEgbWF0Y2hpbmcga2V5IHNvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBsZXQncyBjaGVjayBvdXIgbG9va3VwIHRvIHNlZSBpZiB0aGVyZSBpcyBhIG1hdGNoaW5nIGVsZW1lbnQgaW4gdGhlIG9yaWdpbmFsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBET00gdHJlZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChtYXRjaGluZ0Zyb21FbCA9IGZyb21Ob2Rlc0xvb2t1cFtjdXJUb05vZGVLZXldKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmcm9tTmV4dFNpYmxpbmcgPT09IG1hdGNoaW5nRnJvbUVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNwZWNpYWwgY2FzZSBmb3Igc2luZ2xlIGVsZW1lbnQgcmVtb3ZhbHMuIFRvIGF2b2lkIHJlbW92aW5nIHRoZSBvcmlnaW5hbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBET00gbm9kZSBvdXQgb2YgdGhlIHRyZWUgKHNpbmNlIHRoYXQgY2FuIGJyZWFrIENTUyB0cmFuc2l0aW9ucywgZXRjLiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIHdpbGwgaW5zdGVhZCBkaXNjYXJkIHRoZSBjdXJyZW50IG5vZGUgYW5kIHdhaXQgdW50aWwgdGhlIG5leHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXRlcmF0aW9uIHRvIHByb3Blcmx5IG1hdGNoIHVwIHRoZSBrZXllZCB0YXJnZXQgZWxlbWVudCB3aXRoIGl0cyBtYXRjaGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlbGVtZW50IGluIHRoZSBvcmlnaW5hbCB0cmVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQ29tcGF0aWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGZvdW5kIGEgbWF0Y2hpbmcga2V5ZWQgZWxlbWVudCBzb21ld2hlcmUgaW4gdGhlIG9yaWdpbmFsIERPTSB0cmVlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMZXQncyBtb3ZlIHRoZSBvcmlnaW5hbCBET00gbm9kZSBpbnRvIHRoZSBjdXJyZW50IHBvc2l0aW9uIGFuZCBtb3JwaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpdC5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBOT1RFOiBXZSB1c2UgaW5zZXJ0QmVmb3JlIGluc3RlYWQgb2YgcmVwbGFjZUNoaWxkIGJlY2F1c2Ugd2Ugd2FudCB0byBnbyB0aHJvdWdoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBgcmVtb3ZlTm9kZSgpYCBmdW5jdGlvbiBmb3IgdGhlIG5vZGUgdGhhdCBpcyBiZWluZyBkaXNjYXJkZWQgc28gdGhhdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhbGwgbGlmZWN5Y2xlIGhvb2tzIGFyZSBjb3JyZWN0bHkgaW52b2tlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tRWwuaW5zZXJ0QmVmb3JlKG1hdGNoaW5nRnJvbUVsLCBjdXJGcm9tTm9kZUNoaWxkKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmcm9tTmV4dFNpYmxpbmcgPSBjdXJGcm9tTm9kZUNoaWxkLm5leHRTaWJsaW5nO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJGcm9tTm9kZUtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2luY2UgdGhlIG5vZGUgaXMga2V5ZWQgaXQgbWlnaHQgYmUgbWF0Y2hlZCB1cCBsYXRlciBzbyB3ZSBkZWZlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGFjdHVhbCByZW1vdmFsIHRvIGxhdGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRLZXllZFJlbW92YWwoY3VyRnJvbU5vZGVLZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTk9URTogd2Ugc2tpcCBuZXN0ZWQga2V5ZWQgbm9kZXMgZnJvbSBiZWluZyByZW1vdmVkIHNpbmNlIHRoZXJlIGlzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICBzdGlsbCBhIGNoYW5jZSB0aGV5IHdpbGwgYmUgbWF0Y2hlZCB1cCBsYXRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlTm9kZShjdXJGcm9tTm9kZUNoaWxkLCBmcm9tRWwsIHRydWUgLyogc2tpcCBrZXllZCBub2RlcyAqLyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJGcm9tTm9kZUNoaWxkID0gbWF0Y2hpbmdGcm9tRWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgbm9kZXMgYXJlIG5vdCBjb21wYXRpYmxlIHNpbmNlIHRoZSBcInRvXCIgbm9kZSBoYXMgYSBrZXkgYW5kIHRoZXJlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXMgbm8gbWF0Y2hpbmcga2V5ZWQgbm9kZSBpbiB0aGUgc291cmNlIHRyZWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0NvbXBhdGlibGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VyRnJvbU5vZGVLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIG9yaWdpbmFsIGhhcyBhIGtleVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0NvbXBhdGlibGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0NvbXBhdGlibGUgPSBpc0NvbXBhdGlibGUgIT09IGZhbHNlICYmIGNvbXBhcmVOb2RlTmFtZXMoY3VyRnJvbU5vZGVDaGlsZCwgY3VyVG9Ob2RlQ2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0NvbXBhdGlibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgZm91bmQgY29tcGF0aWJsZSBET00gZWxlbWVudHMgc28gdHJhbnNmb3JtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBjdXJyZW50IFwiZnJvbVwiIG5vZGUgdG8gbWF0Y2ggdGhlIGN1cnJlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGFyZ2V0IERPTSBub2RlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNT1JQSFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3JwaEVsKGN1ckZyb21Ob2RlQ2hpbGQsIGN1clRvTm9kZUNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VyRnJvbU5vZGVUeXBlID09PSBURVhUX05PREUgfHwgY3VyRnJvbU5vZGVUeXBlID09IENPTU1FTlRfTk9ERSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJvdGggbm9kZXMgYmVpbmcgY29tcGFyZWQgYXJlIFRleHQgb3IgQ29tbWVudCBub2Rlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQ29tcGF0aWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2ltcGx5IHVwZGF0ZSBub2RlVmFsdWUgb24gdGhlIG9yaWdpbmFsIG5vZGUgdG9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjaGFuZ2UgdGhlIHRleHQgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyRnJvbU5vZGVDaGlsZC5ub2RlVmFsdWUgIT09IGN1clRvTm9kZUNoaWxkLm5vZGVWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJGcm9tTm9kZUNoaWxkLm5vZGVWYWx1ZSA9IGN1clRvTm9kZUNoaWxkLm5vZGVWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0NvbXBhdGlibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkdmFuY2UgYm90aCB0aGUgXCJ0b1wiIGNoaWxkIGFuZCB0aGUgXCJmcm9tXCIgY2hpbGQgc2luY2Ugd2UgZm91bmQgYSBtYXRjaFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm90aGluZyBlbHNlIHRvIGRvIGFzIHdlIGFscmVhZHkgcmVjdXJzaXZlbHkgY2FsbGVkIG1vcnBoQ2hpbGRyZW4gYWJvdmVcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clRvTm9kZUNoaWxkID0gdG9OZXh0U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckZyb21Ob2RlQ2hpbGQgPSBmcm9tTmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIE5vIGNvbXBhdGlibGUgbWF0Y2ggc28gcmVtb3ZlIHRoZSBvbGQgbm9kZSBmcm9tIHRoZSBET00gYW5kIGNvbnRpbnVlIHRyeWluZyB0byBmaW5kIGFcbiAgICAgICAgICAgICAgICAgICAgLy8gbWF0Y2ggaW4gdGhlIG9yaWdpbmFsIERPTS4gSG93ZXZlciwgd2Ugb25seSBkbyB0aGlzIGlmIHRoZSBmcm9tIG5vZGUgaXMgbm90IGtleWVkXG4gICAgICAgICAgICAgICAgICAgIC8vIHNpbmNlIGl0IGlzIHBvc3NpYmxlIHRoYXQgYSBrZXllZCBub2RlIG1pZ2h0IG1hdGNoIHVwIHdpdGggYSBub2RlIHNvbWV3aGVyZSBlbHNlIGluIHRoZVxuICAgICAgICAgICAgICAgICAgICAvLyB0YXJnZXQgdHJlZSBhbmQgd2UgZG9uJ3Qgd2FudCB0byBkaXNjYXJkIGl0IGp1c3QgeWV0IHNpbmNlIGl0IHN0aWxsIG1pZ2h0IGZpbmQgYVxuICAgICAgICAgICAgICAgICAgICAvLyBob21lIGluIHRoZSBmaW5hbCBET00gdHJlZS4gQWZ0ZXIgZXZlcnl0aGluZyBpcyBkb25lIHdlIHdpbGwgcmVtb3ZlIGFueSBrZXllZCBub2Rlc1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGF0IGRpZG4ndCBmaW5kIGEgaG9tZVxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VyRnJvbU5vZGVLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNpbmNlIHRoZSBub2RlIGlzIGtleWVkIGl0IG1pZ2h0IGJlIG1hdGNoZWQgdXAgbGF0ZXIgc28gd2UgZGVmZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBhY3R1YWwgcmVtb3ZhbCB0byBsYXRlclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkS2V5ZWRSZW1vdmFsKGN1ckZyb21Ob2RlS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5PVEU6IHdlIHNraXAgbmVzdGVkIGtleWVkIG5vZGVzIGZyb20gYmVpbmcgcmVtb3ZlZCBzaW5jZSB0aGVyZSBpc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgc3RpbGwgYSBjaGFuY2UgdGhleSB3aWxsIGJlIG1hdGNoZWQgdXAgbGF0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZU5vZGUoY3VyRnJvbU5vZGVDaGlsZCwgZnJvbUVsLCB0cnVlIC8qIHNraXAga2V5ZWQgbm9kZXMgKi8pO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY3VyRnJvbU5vZGVDaGlsZCA9IGZyb21OZXh0U2libGluZztcbiAgICAgICAgICAgICAgICB9IC8vIEVORDogd2hpbGUoY3VyRnJvbU5vZGVDaGlsZCkge31cblxuICAgICAgICAgICAgICAgIC8vIElmIHdlIGdvdCB0aGlzIGZhciB0aGVuIHdlIGRpZCBub3QgZmluZCBhIGNhbmRpZGF0ZSBtYXRjaCBmb3JcbiAgICAgICAgICAgICAgICAvLyBvdXIgXCJ0byBub2RlXCIgYW5kIHdlIGV4aGF1c3RlZCBhbGwgb2YgdGhlIGNoaWxkcmVuIFwiZnJvbVwiXG4gICAgICAgICAgICAgICAgLy8gbm9kZXMuIFRoZXJlZm9yZSwgd2Ugd2lsbCBqdXN0IGFwcGVuZCB0aGUgY3VycmVudCBcInRvXCIgbm9kZVxuICAgICAgICAgICAgICAgIC8vIHRvIHRoZSBlbmRcbiAgICAgICAgICAgICAgICBpZiAoY3VyVG9Ob2RlS2V5ICYmIChtYXRjaGluZ0Zyb21FbCA9IGZyb21Ob2Rlc0xvb2t1cFtjdXJUb05vZGVLZXldKSAmJiBjb21wYXJlTm9kZU5hbWVzKG1hdGNoaW5nRnJvbUVsLCBjdXJUb05vZGVDaGlsZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbUVsLmFwcGVuZENoaWxkKG1hdGNoaW5nRnJvbUVsKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gTU9SUEhcbiAgICAgICAgICAgICAgICAgICAgbW9ycGhFbChtYXRjaGluZ0Zyb21FbCwgY3VyVG9Ob2RlQ2hpbGQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvbkJlZm9yZU5vZGVBZGRlZFJlc3VsdCA9IG9uQmVmb3JlTm9kZUFkZGVkKGN1clRvTm9kZUNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9uQmVmb3JlTm9kZUFkZGVkUmVzdWx0ICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9uQmVmb3JlTm9kZUFkZGVkUmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyVG9Ob2RlQ2hpbGQgPSBvbkJlZm9yZU5vZGVBZGRlZFJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1clRvTm9kZUNoaWxkLmFjdHVhbGl6ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clRvTm9kZUNoaWxkID0gY3VyVG9Ob2RlQ2hpbGQuYWN0dWFsaXplKGZyb21FbC5vd25lckRvY3VtZW50IHx8IGRvYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tRWwuYXBwZW5kQ2hpbGQoY3VyVG9Ob2RlQ2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlTm9kZUFkZGVkKGN1clRvTm9kZUNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGN1clRvTm9kZUNoaWxkID0gdG9OZXh0U2libGluZztcbiAgICAgICAgICAgICAgICBjdXJGcm9tTm9kZUNoaWxkID0gZnJvbU5leHRTaWJsaW5nO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjbGVhbnVwRnJvbUVsKGZyb21FbCwgY3VyRnJvbU5vZGVDaGlsZCwgY3VyRnJvbU5vZGVLZXkpO1xuXG4gICAgICAgICAgICB2YXIgc3BlY2lhbEVsSGFuZGxlciA9IHNwZWNpYWxFbEhhbmRsZXJzW2Zyb21FbC5ub2RlTmFtZV07XG4gICAgICAgICAgICBpZiAoc3BlY2lhbEVsSGFuZGxlcikge1xuICAgICAgICAgICAgICAgIHNwZWNpYWxFbEhhbmRsZXIoZnJvbUVsLCB0b0VsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSAvLyBFTkQ6IG1vcnBoQ2hpbGRyZW4oLi4uKVxuXG4gICAgICAgIHZhciBtb3JwaGVkTm9kZSA9IGZyb21Ob2RlO1xuICAgICAgICB2YXIgbW9ycGhlZE5vZGVUeXBlID0gbW9ycGhlZE5vZGUubm9kZVR5cGU7XG4gICAgICAgIHZhciB0b05vZGVUeXBlID0gdG9Ob2RlLm5vZGVUeXBlO1xuXG4gICAgICAgIGlmICghY2hpbGRyZW5Pbmx5KSB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgdGhlIGNhc2Ugd2hlcmUgd2UgYXJlIGdpdmVuIHR3byBET00gbm9kZXMgdGhhdCBhcmUgbm90XG4gICAgICAgICAgICAvLyBjb21wYXRpYmxlIChlLmcuIDxkaXY+IC0tPiA8c3Bhbj4gb3IgPGRpdj4gLS0+IFRFWFQpXG4gICAgICAgICAgICBpZiAobW9ycGhlZE5vZGVUeXBlID09PSBFTEVNRU5UX05PREUpIHtcbiAgICAgICAgICAgICAgICBpZiAodG9Ob2RlVHlwZSA9PT0gRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY29tcGFyZU5vZGVOYW1lcyhmcm9tTm9kZSwgdG9Ob2RlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25Ob2RlRGlzY2FyZGVkKGZyb21Ob2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vcnBoZWROb2RlID0gbW92ZUNoaWxkcmVuKGZyb21Ob2RlLCBjcmVhdGVFbGVtZW50TlModG9Ob2RlLm5vZGVOYW1lLCB0b05vZGUubmFtZXNwYWNlVVJJKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBHb2luZyBmcm9tIGFuIGVsZW1lbnQgbm9kZSB0byBhIHRleHQgbm9kZVxuICAgICAgICAgICAgICAgICAgICBtb3JwaGVkTm9kZSA9IHRvTm9kZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1vcnBoZWROb2RlVHlwZSA9PT0gVEVYVF9OT0RFIHx8IG1vcnBoZWROb2RlVHlwZSA9PT0gQ09NTUVOVF9OT0RFKSB7IC8vIFRleHQgb3IgY29tbWVudCBub2RlXG4gICAgICAgICAgICAgICAgaWYgKHRvTm9kZVR5cGUgPT09IG1vcnBoZWROb2RlVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobW9ycGhlZE5vZGUubm9kZVZhbHVlICE9PSB0b05vZGUubm9kZVZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb3JwaGVkTm9kZS5ub2RlVmFsdWUgPSB0b05vZGUubm9kZVZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1vcnBoZWROb2RlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRleHQgbm9kZSB0byBzb21ldGhpbmcgZWxzZVxuICAgICAgICAgICAgICAgICAgICBtb3JwaGVkTm9kZSA9IHRvTm9kZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobW9ycGhlZE5vZGUgPT09IHRvTm9kZSkge1xuICAgICAgICAgICAgLy8gVGhlIFwidG8gbm9kZVwiIHdhcyBub3QgY29tcGF0aWJsZSB3aXRoIHRoZSBcImZyb20gbm9kZVwiIHNvIHdlIGhhZCB0b1xuICAgICAgICAgICAgLy8gdG9zcyBvdXQgdGhlIFwiZnJvbSBub2RlXCIgYW5kIHVzZSB0aGUgXCJ0byBub2RlXCJcbiAgICAgICAgICAgIG9uTm9kZURpc2NhcmRlZChmcm9tTm9kZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodG9Ob2RlLmlzU2FtZU5vZGUgJiYgdG9Ob2RlLmlzU2FtZU5vZGUobW9ycGhlZE5vZGUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtb3JwaEVsKG1vcnBoZWROb2RlLCB0b05vZGUsIGNoaWxkcmVuT25seSk7XG5cbiAgICAgICAgICAgIC8vIFdlIG5vdyBuZWVkIHRvIGxvb3Agb3ZlciBhbnkga2V5ZWQgbm9kZXMgdGhhdCBtaWdodCBuZWVkIHRvIGJlXG4gICAgICAgICAgICAvLyByZW1vdmVkLiBXZSBvbmx5IGRvIHRoZSByZW1vdmFsIGlmIHdlIGtub3cgdGhhdCB0aGUga2V5ZWQgbm9kZVxuICAgICAgICAgICAgLy8gbmV2ZXIgZm91bmQgYSBtYXRjaC4gV2hlbiBhIGtleWVkIG5vZGUgaXMgbWF0Y2hlZCB1cCB3ZSByZW1vdmVcbiAgICAgICAgICAgIC8vIGl0IG91dCBvZiBmcm9tTm9kZXNMb29rdXAgYW5kIHdlIHVzZSBmcm9tTm9kZXNMb29rdXAgdG8gZGV0ZXJtaW5lXG4gICAgICAgICAgICAvLyBpZiBhIGtleWVkIG5vZGUgaGFzIGJlZW4gbWF0Y2hlZCB1cCBvciBub3RcbiAgICAgICAgICAgIGlmIChrZXllZFJlbW92YWxMaXN0KSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaT0wLCBsZW49a2V5ZWRSZW1vdmFsTGlzdC5sZW5ndGg7IGk8bGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsVG9SZW1vdmUgPSBmcm9tTm9kZXNMb29rdXBba2V5ZWRSZW1vdmFsTGlzdFtpXV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbFRvUmVtb3ZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVOb2RlKGVsVG9SZW1vdmUsIGVsVG9SZW1vdmUucGFyZW50Tm9kZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFjaGlsZHJlbk9ubHkgJiYgbW9ycGhlZE5vZGUgIT09IGZyb21Ob2RlICYmIGZyb21Ob2RlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIGlmIChtb3JwaGVkTm9kZS5hY3R1YWxpemUpIHtcbiAgICAgICAgICAgICAgICBtb3JwaGVkTm9kZSA9IG1vcnBoZWROb2RlLmFjdHVhbGl6ZShmcm9tTm9kZS5vd25lckRvY3VtZW50IHx8IGRvYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiB3ZSBoYWQgdG8gc3dhcCBvdXQgdGhlIGZyb20gbm9kZSB3aXRoIGEgbmV3IG5vZGUgYmVjYXVzZSB0aGUgb2xkXG4gICAgICAgICAgICAvLyBub2RlIHdhcyBub3QgY29tcGF0aWJsZSB3aXRoIHRoZSB0YXJnZXQgbm9kZSB0aGVuIHdlIG5lZWQgdG9cbiAgICAgICAgICAgIC8vIHJlcGxhY2UgdGhlIG9sZCBET00gbm9kZSBpbiB0aGUgb3JpZ2luYWwgRE9NIHRyZWUuIFRoaXMgaXMgb25seVxuICAgICAgICAgICAgLy8gcG9zc2libGUgaWYgdGhlIG9yaWdpbmFsIERPTSBub2RlIHdhcyBwYXJ0IG9mIGEgRE9NIHRyZWUgd2hpY2hcbiAgICAgICAgICAgIC8vIHdlIGtub3cgaXMgdGhlIGNhc2UgaWYgaXQgaGFzIGEgcGFyZW50IG5vZGUuXG4gICAgICAgICAgICBmcm9tTm9kZS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChtb3JwaGVkTm9kZSwgZnJvbU5vZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1vcnBoZWROb2RlO1xuICAgIH07XG59XG5cbnZhciBtb3JwaGRvbSA9IG1vcnBoZG9tRmFjdG9yeShtb3JwaEF0dHJzKTtcblxuZXhwb3J0IGRlZmF1bHQgbW9ycGhkb207XG4iLCAiaW1wb3J0IHtcbiAgUEhYX0NPTVBPTkVOVCxcbiAgUEhYX0RJU0FCTEVfV0lUSCxcbiAgUEhYX0ZFRURCQUNLX0ZPUixcbiAgUEhYX1BSVU5FLFxuICBQSFhfUk9PVF9JRCxcbiAgUEhYX1NFU1NJT04sXG4gIFBIWF9TS0lQLFxuICBQSFhfU1RBVElDLFxuICBQSFhfVFJJR0dFUl9BQ1RJT04sXG4gIFBIWF9VUERBVEVcbn0gZnJvbSBcIi4vY29uc3RhbnRzXCJcblxuaW1wb3J0IHtcbiAgZGV0ZWN0RHVwbGljYXRlSWRzLFxuICBpc0NpZFxufSBmcm9tIFwiLi91dGlsc1wiXG5cbmltcG9ydCBET00gZnJvbSBcIi4vZG9tXCJcbmltcG9ydCBET01Qb3N0TW9ycGhSZXN0b3JlciBmcm9tIFwiLi9kb21fcG9zdF9tb3JwaF9yZXN0b3JlclwiXG5pbXBvcnQgbW9ycGhkb20gZnJvbSBcIm1vcnBoZG9tXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRE9NUGF0Y2gge1xuICBzdGF0aWMgcGF0Y2hFbChmcm9tRWwsIHRvRWwsIGFjdGl2ZUVsZW1lbnQpe1xuICAgIG1vcnBoZG9tKGZyb21FbCwgdG9FbCwge1xuICAgICAgY2hpbGRyZW5Pbmx5OiBmYWxzZSxcbiAgICAgIG9uQmVmb3JlRWxVcGRhdGVkOiAoZnJvbUVsLCB0b0VsKSA9PiB7XG4gICAgICAgIGlmKGFjdGl2ZUVsZW1lbnQgJiYgYWN0aXZlRWxlbWVudC5pc1NhbWVOb2RlKGZyb21FbCkgJiYgRE9NLmlzRm9ybUlucHV0KGZyb21FbCkpe1xuICAgICAgICAgIERPTS5tZXJnZUZvY3VzZWRJbnB1dChmcm9tRWwsIHRvRWwpXG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgY29uc3RydWN0b3IodmlldywgY29udGFpbmVyLCBpZCwgaHRtbCwgdGFyZ2V0Q0lEKXtcbiAgICB0aGlzLnZpZXcgPSB2aWV3XG4gICAgdGhpcy5saXZlU29ja2V0ID0gdmlldy5saXZlU29ja2V0XG4gICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXJcbiAgICB0aGlzLmlkID0gaWRcbiAgICB0aGlzLnJvb3RJRCA9IHZpZXcucm9vdC5pZFxuICAgIHRoaXMuaHRtbCA9IGh0bWxcbiAgICB0aGlzLnRhcmdldENJRCA9IHRhcmdldENJRFxuICAgIHRoaXMuY2lkUGF0Y2ggPSBpc0NpZCh0aGlzLnRhcmdldENJRClcbiAgICB0aGlzLmNhbGxiYWNrcyA9IHtcbiAgICAgIGJlZm9yZWFkZGVkOiBbXSwgYmVmb3JldXBkYXRlZDogW10sIGJlZm9yZXBoeENoaWxkQWRkZWQ6IFtdLFxuICAgICAgYWZ0ZXJhZGRlZDogW10sIGFmdGVydXBkYXRlZDogW10sIGFmdGVyZGlzY2FyZGVkOiBbXSwgYWZ0ZXJwaHhDaGlsZEFkZGVkOiBbXSxcbiAgICAgIGFmdGVydHJhbnNpdGlvbnNEaXNjYXJkZWQ6IFtdXG4gICAgfVxuICB9XG5cbiAgYmVmb3JlKGtpbmQsIGNhbGxiYWNrKXsgdGhpcy5jYWxsYmFja3NbYGJlZm9yZSR7a2luZH1gXS5wdXNoKGNhbGxiYWNrKSB9XG4gIGFmdGVyKGtpbmQsIGNhbGxiYWNrKXsgdGhpcy5jYWxsYmFja3NbYGFmdGVyJHtraW5kfWBdLnB1c2goY2FsbGJhY2spIH1cblxuICB0cmFja0JlZm9yZShraW5kLCAuLi5hcmdzKXtcbiAgICB0aGlzLmNhbGxiYWNrc1tgYmVmb3JlJHtraW5kfWBdLmZvckVhY2goY2FsbGJhY2sgPT4gY2FsbGJhY2soLi4uYXJncykpXG4gIH1cblxuICB0cmFja0FmdGVyKGtpbmQsIC4uLmFyZ3Mpe1xuICAgIHRoaXMuY2FsbGJhY2tzW2BhZnRlciR7a2luZH1gXS5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKC4uLmFyZ3MpKVxuICB9XG5cbiAgbWFya1BydW5hYmxlQ29udGVudEZvclJlbW92YWwoKXtcbiAgICBET00uYWxsKHRoaXMuY29udGFpbmVyLCBcIltwaHgtdXBkYXRlPWFwcGVuZF0gPiAqLCBbcGh4LXVwZGF0ZT1wcmVwZW5kXSA+ICpcIiwgZWwgPT4ge1xuICAgICAgZWwuc2V0QXR0cmlidXRlKFBIWF9QUlVORSwgXCJcIilcbiAgICB9KVxuICB9XG5cbiAgcGVyZm9ybSgpe1xuICAgIGxldCB7dmlldywgbGl2ZVNvY2tldCwgY29udGFpbmVyLCBodG1sfSA9IHRoaXNcbiAgICBsZXQgdGFyZ2V0Q29udGFpbmVyID0gdGhpcy5pc0NJRFBhdGNoKCkgPyB0aGlzLnRhcmdldENJRENvbnRhaW5lcihodG1sKSA6IGNvbnRhaW5lclxuICAgIGlmKHRoaXMuaXNDSURQYXRjaCgpICYmICF0YXJnZXRDb250YWluZXIpeyByZXR1cm4gfVxuXG4gICAgbGV0IGZvY3VzZWQgPSBsaXZlU29ja2V0LmdldEFjdGl2ZUVsZW1lbnQoKVxuICAgIGxldCB7c2VsZWN0aW9uU3RhcnQsIHNlbGVjdGlvbkVuZH0gPSBmb2N1c2VkICYmIERPTS5oYXNTZWxlY3Rpb25SYW5nZShmb2N1c2VkKSA/IGZvY3VzZWQgOiB7fVxuICAgIGxldCBwaHhVcGRhdGUgPSBsaXZlU29ja2V0LmJpbmRpbmcoUEhYX1VQREFURSlcbiAgICBsZXQgcGh4RmVlZGJhY2tGb3IgPSBsaXZlU29ja2V0LmJpbmRpbmcoUEhYX0ZFRURCQUNLX0ZPUilcbiAgICBsZXQgZGlzYWJsZVdpdGggPSBsaXZlU29ja2V0LmJpbmRpbmcoUEhYX0RJU0FCTEVfV0lUSClcbiAgICBsZXQgcGh4VHJpZ2dlckV4dGVybmFsID0gbGl2ZVNvY2tldC5iaW5kaW5nKFBIWF9UUklHR0VSX0FDVElPTilcbiAgICBsZXQgcGh4UmVtb3ZlID0gbGl2ZVNvY2tldC5iaW5kaW5nKFwicmVtb3ZlXCIpXG4gICAgbGV0IGFkZGVkID0gW11cbiAgICBsZXQgdXBkYXRlcyA9IFtdXG4gICAgbGV0IGFwcGVuZFByZXBlbmRVcGRhdGVzID0gW11cbiAgICBsZXQgcGVuZGluZ1JlbW92ZXMgPSBbXVxuICAgIGxldCBleHRlcm5hbEZvcm1UcmlnZ2VyZWQgPSBudWxsXG5cbiAgICBsZXQgZGlmZkhUTUwgPSBsaXZlU29ja2V0LnRpbWUoXCJwcmVtb3JwaCBjb250YWluZXIgcHJlcFwiLCAoKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5idWlsZERpZmZIVE1MKGNvbnRhaW5lciwgaHRtbCwgcGh4VXBkYXRlLCB0YXJnZXRDb250YWluZXIpXG4gICAgfSlcblxuICAgIHRoaXMudHJhY2tCZWZvcmUoXCJhZGRlZFwiLCBjb250YWluZXIpXG4gICAgdGhpcy50cmFja0JlZm9yZShcInVwZGF0ZWRcIiwgY29udGFpbmVyLCBjb250YWluZXIpXG5cbiAgICBsaXZlU29ja2V0LnRpbWUoXCJtb3JwaGRvbVwiLCAoKSA9PiB7XG4gICAgICBtb3JwaGRvbSh0YXJnZXRDb250YWluZXIsIGRpZmZIVE1MLCB7XG4gICAgICAgIGNoaWxkcmVuT25seTogdGFyZ2V0Q29udGFpbmVyLmdldEF0dHJpYnV0ZShQSFhfQ09NUE9ORU5UKSA9PT0gbnVsbCxcbiAgICAgICAgZ2V0Tm9kZUtleTogKG5vZGUpID0+IHtcbiAgICAgICAgICByZXR1cm4gRE9NLmlzUGh4RGVzdHJveWVkKG5vZGUpID8gbnVsbCA6IG5vZGUuaWRcbiAgICAgICAgfSxcbiAgICAgICAgb25CZWZvcmVOb2RlQWRkZWQ6IChlbCkgPT4ge1xuICAgICAgICAgIHRoaXMudHJhY2tCZWZvcmUoXCJhZGRlZFwiLCBlbClcbiAgICAgICAgICByZXR1cm4gZWxcbiAgICAgICAgfSxcbiAgICAgICAgb25Ob2RlQWRkZWQ6IChlbCkgPT4ge1xuICAgICAgICAgIC8vIGhhY2sgdG8gZml4IFNhZmFyaSBoYW5kbGluZyBvZiBpbWcgc3Jjc2V0IGFuZCB2aWRlbyB0YWdzXG4gICAgICAgICAgaWYoZWwgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50ICYmIGVsLnNyY3NldCl7XG4gICAgICAgICAgICBlbC5zcmNzZXQgPSBlbC5zcmNzZXRcbiAgICAgICAgICB9IGVsc2UgaWYoZWwgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50ICYmIGVsLmF1dG9wbGF5KXtcbiAgICAgICAgICAgIGVsLnBsYXkoKVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZihET00uaXNOb3dUcmlnZ2VyRm9ybUV4dGVybmFsKGVsLCBwaHhUcmlnZ2VyRXh0ZXJuYWwpKXtcbiAgICAgICAgICAgIGV4dGVybmFsRm9ybVRyaWdnZXJlZCA9IGVsXG4gICAgICAgICAgfVxuICAgICAgICAgIC8vaW5wdXQgaGFuZGxpbmdcbiAgICAgICAgICBET00uZGlzY2FyZEVycm9yKHRhcmdldENvbnRhaW5lciwgZWwsIHBoeEZlZWRiYWNrRm9yKVxuICAgICAgICAgIC8vIG5lc3RlZCB2aWV3IGhhbmRsaW5nXG4gICAgICAgICAgaWYoKERPTS5pc1BoeENoaWxkKGVsKSAmJiB2aWV3Lm93bnNFbGVtZW50KGVsKSkgfHwgRE9NLmlzUGh4U3RpY2t5KGVsKSAmJiB2aWV3Lm93bnNFbGVtZW50KGVsLnBhcmVudE5vZGUpKXtcbiAgICAgICAgICAgIHRoaXMudHJhY2tBZnRlcihcInBoeENoaWxkQWRkZWRcIiwgZWwpXG4gICAgICAgICAgfVxuICAgICAgICAgIGFkZGVkLnB1c2goZWwpXG4gICAgICAgIH0sXG4gICAgICAgIG9uTm9kZURpc2NhcmRlZDogKGVsKSA9PiB7XG4gICAgICAgICAgLy8gbmVzdGVkIHZpZXcgaGFuZGxpbmdcbiAgICAgICAgICBpZihET00uaXNQaHhDaGlsZChlbCkgfHwgRE9NLmlzUGh4U3RpY2t5KGVsKSl7IGxpdmVTb2NrZXQuZGVzdHJveVZpZXdCeUVsKGVsKSB9XG4gICAgICAgICAgdGhpcy50cmFja0FmdGVyKFwiZGlzY2FyZGVkXCIsIGVsKVxuICAgICAgICB9LFxuICAgICAgICBvbkJlZm9yZU5vZGVEaXNjYXJkZWQ6IChlbCkgPT4ge1xuICAgICAgICAgIGlmKGVsLmdldEF0dHJpYnV0ZSAmJiBlbC5nZXRBdHRyaWJ1dGUoUEhYX1BSVU5FKSAhPT0gbnVsbCl7IHJldHVybiB0cnVlIH1cbiAgICAgICAgICBpZihlbC5wYXJlbnROb2RlICE9PSBudWxsICYmIERPTS5pc1BoeFVwZGF0ZShlbC5wYXJlbnROb2RlLCBwaHhVcGRhdGUsIFtcImFwcGVuZFwiLCBcInByZXBlbmRcIl0pICYmIGVsLmlkKXsgcmV0dXJuIGZhbHNlIH1cbiAgICAgICAgICBpZihlbC5nZXRBdHRyaWJ1dGUgJiYgZWwuZ2V0QXR0cmlidXRlKHBoeFJlbW92ZSkpe1xuICAgICAgICAgICAgcGVuZGluZ1JlbW92ZXMucHVzaChlbClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZih0aGlzLnNraXBDSURTaWJsaW5nKGVsKSl7IHJldHVybiBmYWxzZSB9XG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgb25FbFVwZGF0ZWQ6IChlbCkgPT4ge1xuICAgICAgICAgIGlmKERPTS5pc05vd1RyaWdnZXJGb3JtRXh0ZXJuYWwoZWwsIHBoeFRyaWdnZXJFeHRlcm5hbCkpe1xuICAgICAgICAgICAgZXh0ZXJuYWxGb3JtVHJpZ2dlcmVkID0gZWxcbiAgICAgICAgICB9XG4gICAgICAgICAgdXBkYXRlcy5wdXNoKGVsKVxuICAgICAgICB9LFxuICAgICAgICBvbkJlZm9yZUVsVXBkYXRlZDogKGZyb21FbCwgdG9FbCkgPT4ge1xuICAgICAgICAgIERPTS5jbGVhbkNoaWxkTm9kZXModG9FbCwgcGh4VXBkYXRlKVxuICAgICAgICAgIGlmKHRoaXMuc2tpcENJRFNpYmxpbmcodG9FbCkpeyByZXR1cm4gZmFsc2UgfVxuICAgICAgICAgIGlmKERPTS5pc1BoeFN0aWNreShmcm9tRWwpKXsgcmV0dXJuIGZhbHNlIH1cbiAgICAgICAgICBpZihET00uaXNJZ25vcmVkKGZyb21FbCwgcGh4VXBkYXRlKSl7XG4gICAgICAgICAgICB0aGlzLnRyYWNrQmVmb3JlKFwidXBkYXRlZFwiLCBmcm9tRWwsIHRvRWwpXG4gICAgICAgICAgICBET00ubWVyZ2VBdHRycyhmcm9tRWwsIHRvRWwsIHtpc0lnbm9yZWQ6IHRydWV9KVxuICAgICAgICAgICAgdXBkYXRlcy5wdXNoKGZyb21FbClcbiAgICAgICAgICAgIERPTS5hcHBseVN0aWNreU9wZXJhdGlvbnMoZnJvbUVsKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKGZyb21FbC50eXBlID09PSBcIm51bWJlclwiICYmIChmcm9tRWwudmFsaWRpdHkgJiYgZnJvbUVsLnZhbGlkaXR5LmJhZElucHV0KSl7IHJldHVybiBmYWxzZSB9XG4gICAgICAgICAgaWYoIURPTS5zeW5jUGVuZGluZ1JlZihmcm9tRWwsIHRvRWwsIGRpc2FibGVXaXRoKSl7XG4gICAgICAgICAgICBpZihET00uaXNVcGxvYWRJbnB1dChmcm9tRWwpKXtcbiAgICAgICAgICAgICAgdGhpcy50cmFja0JlZm9yZShcInVwZGF0ZWRcIiwgZnJvbUVsLCB0b0VsKVxuICAgICAgICAgICAgICB1cGRhdGVzLnB1c2goZnJvbUVsKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgRE9NLmFwcGx5U3RpY2t5T3BlcmF0aW9ucyhmcm9tRWwpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBuZXN0ZWQgdmlldyBoYW5kbGluZ1xuICAgICAgICAgIGlmKERPTS5pc1BoeENoaWxkKHRvRWwpKXtcbiAgICAgICAgICAgIGxldCBwcmV2U2Vzc2lvbiA9IGZyb21FbC5nZXRBdHRyaWJ1dGUoUEhYX1NFU1NJT04pXG4gICAgICAgICAgICBET00ubWVyZ2VBdHRycyhmcm9tRWwsIHRvRWwsIHtleGNsdWRlOiBbUEhYX1NUQVRJQ119KVxuICAgICAgICAgICAgaWYocHJldlNlc3Npb24gIT09IFwiXCIpeyBmcm9tRWwuc2V0QXR0cmlidXRlKFBIWF9TRVNTSU9OLCBwcmV2U2Vzc2lvbikgfVxuICAgICAgICAgICAgZnJvbUVsLnNldEF0dHJpYnV0ZShQSFhfUk9PVF9JRCwgdGhpcy5yb290SUQpXG4gICAgICAgICAgICBET00uYXBwbHlTdGlja3lPcGVyYXRpb25zKGZyb21FbClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGlucHV0IGhhbmRsaW5nXG4gICAgICAgICAgRE9NLmNvcHlQcml2YXRlcyh0b0VsLCBmcm9tRWwpXG4gICAgICAgICAgRE9NLmRpc2NhcmRFcnJvcih0YXJnZXRDb250YWluZXIsIHRvRWwsIHBoeEZlZWRiYWNrRm9yKVxuXG4gICAgICAgICAgbGV0IGlzRm9jdXNlZEZvcm1FbCA9IGZvY3VzZWQgJiYgZnJvbUVsLmlzU2FtZU5vZGUoZm9jdXNlZCkgJiYgRE9NLmlzRm9ybUlucHV0KGZyb21FbClcbiAgICAgICAgICBpZihpc0ZvY3VzZWRGb3JtRWwpe1xuICAgICAgICAgICAgdGhpcy50cmFja0JlZm9yZShcInVwZGF0ZWRcIiwgZnJvbUVsLCB0b0VsKVxuICAgICAgICAgICAgRE9NLm1lcmdlRm9jdXNlZElucHV0KGZyb21FbCwgdG9FbClcbiAgICAgICAgICAgIERPTS5zeW5jQXR0cnNUb1Byb3BzKGZyb21FbClcbiAgICAgICAgICAgIHVwZGF0ZXMucHVzaChmcm9tRWwpXG4gICAgICAgICAgICBET00uYXBwbHlTdGlja3lPcGVyYXRpb25zKGZyb21FbClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZihET00uaXNQaHhVcGRhdGUodG9FbCwgcGh4VXBkYXRlLCBbXCJhcHBlbmRcIiwgXCJwcmVwZW5kXCJdKSl7XG4gICAgICAgICAgICAgIGFwcGVuZFByZXBlbmRVcGRhdGVzLnB1c2gobmV3IERPTVBvc3RNb3JwaFJlc3RvcmVyKGZyb21FbCwgdG9FbCwgdG9FbC5nZXRBdHRyaWJ1dGUocGh4VXBkYXRlKSkpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBET00uc3luY0F0dHJzVG9Qcm9wcyh0b0VsKVxuICAgICAgICAgICAgRE9NLmFwcGx5U3RpY2t5T3BlcmF0aW9ucyh0b0VsKVxuICAgICAgICAgICAgdGhpcy50cmFja0JlZm9yZShcInVwZGF0ZWRcIiwgZnJvbUVsLCB0b0VsKVxuICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSlcblxuICAgIGlmKGxpdmVTb2NrZXQuaXNEZWJ1Z0VuYWJsZWQoKSl7IGRldGVjdER1cGxpY2F0ZUlkcygpIH1cblxuICAgIGlmKGFwcGVuZFByZXBlbmRVcGRhdGVzLmxlbmd0aCA+IDApe1xuICAgICAgbGl2ZVNvY2tldC50aW1lKFwicG9zdC1tb3JwaCBhcHBlbmQvcHJlcGVuZCByZXN0b3JhdGlvblwiLCAoKSA9PiB7XG4gICAgICAgIGFwcGVuZFByZXBlbmRVcGRhdGVzLmZvckVhY2godXBkYXRlID0+IHVwZGF0ZS5wZXJmb3JtKCkpXG4gICAgICB9KVxuICAgIH1cblxuICAgIGxpdmVTb2NrZXQuc2lsZW5jZUV2ZW50cygoKSA9PiBET00ucmVzdG9yZUZvY3VzKGZvY3VzZWQsIHNlbGVjdGlvblN0YXJ0LCBzZWxlY3Rpb25FbmQpKVxuICAgIERPTS5kaXNwYXRjaEV2ZW50KGRvY3VtZW50LCBcInBoeDp1cGRhdGVcIilcbiAgICBhZGRlZC5mb3JFYWNoKGVsID0+IHRoaXMudHJhY2tBZnRlcihcImFkZGVkXCIsIGVsKSlcbiAgICB1cGRhdGVzLmZvckVhY2goZWwgPT4gdGhpcy50cmFja0FmdGVyKFwidXBkYXRlZFwiLCBlbCkpXG5cbiAgICBpZihwZW5kaW5nUmVtb3Zlcy5sZW5ndGggPiAwKXtcbiAgICAgIGxpdmVTb2NrZXQudHJhbnNpdGlvblJlbW92ZXMocGVuZGluZ1JlbW92ZXMpXG4gICAgICBsaXZlU29ja2V0LnJlcXVlc3RET01VcGRhdGUoKCkgPT4ge1xuICAgICAgICBwZW5kaW5nUmVtb3Zlcy5mb3JFYWNoKGVsID0+IHtcbiAgICAgICAgICBsZXQgY2hpbGQgPSBET00uZmlyc3RQaHhDaGlsZChlbClcbiAgICAgICAgICBpZihjaGlsZCl7IGxpdmVTb2NrZXQuZGVzdHJveVZpZXdCeUVsKGNoaWxkKSB9XG4gICAgICAgICAgZWwucmVtb3ZlKClcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy50cmFja0FmdGVyKFwidHJhbnNpdGlvbnNEaXNjYXJkZWRcIiwgcGVuZGluZ1JlbW92ZXMpXG4gICAgICB9KVxuICAgIH1cblxuICAgIGlmKGV4dGVybmFsRm9ybVRyaWdnZXJlZCl7XG4gICAgICBsaXZlU29ja2V0LmRpc2Nvbm5lY3QoKVxuICAgICAgZXh0ZXJuYWxGb3JtVHJpZ2dlcmVkLnN1Ym1pdCgpXG4gICAgfVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBpc0NJRFBhdGNoKCl7IHJldHVybiB0aGlzLmNpZFBhdGNoIH1cblxuICBza2lwQ0lEU2libGluZyhlbCl7XG4gICAgcmV0dXJuIGVsLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSAmJiBlbC5nZXRBdHRyaWJ1dGUoUEhYX1NLSVApICE9PSBudWxsXG4gIH1cblxuICB0YXJnZXRDSURDb250YWluZXIoaHRtbCl7XG4gICAgaWYoIXRoaXMuaXNDSURQYXRjaCgpKXsgcmV0dXJuIH1cbiAgICBsZXQgW2ZpcnN0LCAuLi5yZXN0XSA9IERPTS5maW5kQ29tcG9uZW50Tm9kZUxpc3QodGhpcy5jb250YWluZXIsIHRoaXMudGFyZ2V0Q0lEKVxuICAgIGlmKHJlc3QubGVuZ3RoID09PSAwICYmIERPTS5jaGlsZE5vZGVMZW5ndGgoaHRtbCkgPT09IDEpe1xuICAgICAgcmV0dXJuIGZpcnN0XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmaXJzdCAmJiBmaXJzdC5wYXJlbnROb2RlXG4gICAgfVxuICB9XG5cbiAgLy8gYnVpbGRzIEhUTUwgZm9yIG1vcnBoZG9tIHBhdGNoXG4gIC8vIC0gZm9yIGZ1bGwgcGF0Y2hlcyBvZiBMaXZlVmlldyBvciBhIGNvbXBvbmVudCB3aXRoIGEgc2luZ2xlXG4gIC8vICAgcm9vdCBub2RlLCBzaW1wbHkgcmV0dXJucyB0aGUgSFRNTFxuICAvLyAtIGZvciBwYXRjaGVzIG9mIGEgY29tcG9uZW50IHdpdGggbXVsdGlwbGUgcm9vdCBub2RlcywgdGhlXG4gIC8vICAgcGFyZW50IG5vZGUgYmVjb21lcyB0aGUgdGFyZ2V0IGNvbnRhaW5lciBhbmQgbm9uLWNvbXBvbmVudFxuICAvLyAgIHNpYmxpbmdzIGFyZSBtYXJrZWQgYXMgc2tpcC5cbiAgYnVpbGREaWZmSFRNTChjb250YWluZXIsIGh0bWwsIHBoeFVwZGF0ZSwgdGFyZ2V0Q29udGFpbmVyKXtcbiAgICBsZXQgaXNDSURQYXRjaCA9IHRoaXMuaXNDSURQYXRjaCgpXG4gICAgbGV0IGlzQ0lEV2l0aFNpbmdsZVJvb3QgPSBpc0NJRFBhdGNoICYmIHRhcmdldENvbnRhaW5lci5nZXRBdHRyaWJ1dGUoUEhYX0NPTVBPTkVOVCkgPT09IHRoaXMudGFyZ2V0Q0lELnRvU3RyaW5nKClcbiAgICBpZighaXNDSURQYXRjaCB8fCBpc0NJRFdpdGhTaW5nbGVSb290KXtcbiAgICAgIHJldHVybiBodG1sXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGNvbXBvbmVudCBwYXRjaCB3aXRoIG11bHRpcGxlIENJRCByb290c1xuICAgICAgbGV0IGRpZmZDb250YWluZXIgPSBudWxsXG4gICAgICBsZXQgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGVtcGxhdGVcIilcbiAgICAgIGRpZmZDb250YWluZXIgPSBET00uY2xvbmVOb2RlKHRhcmdldENvbnRhaW5lcilcbiAgICAgIGxldCBbZmlyc3RDb21wb25lbnQsIC4uLnJlc3RdID0gRE9NLmZpbmRDb21wb25lbnROb2RlTGlzdChkaWZmQ29udGFpbmVyLCB0aGlzLnRhcmdldENJRClcbiAgICAgIHRlbXBsYXRlLmlubmVySFRNTCA9IGh0bWxcbiAgICAgIHJlc3QuZm9yRWFjaChlbCA9PiBlbC5yZW1vdmUoKSlcbiAgICAgIEFycmF5LmZyb20oZGlmZkNvbnRhaW5lci5jaGlsZE5vZGVzKS5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgICAgLy8gd2UgY2FuIG9ubHkgc2tpcCB0cmFja2FibGUgbm9kZXMgd2l0aCBhbiBJRFxuICAgICAgICBpZihjaGlsZC5pZCAmJiBjaGlsZC5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUgJiYgY2hpbGQuZ2V0QXR0cmlidXRlKFBIWF9DT01QT05FTlQpICE9PSB0aGlzLnRhcmdldENJRC50b1N0cmluZygpKXtcbiAgICAgICAgICBjaGlsZC5zZXRBdHRyaWJ1dGUoUEhYX1NLSVAsIFwiXCIpXG4gICAgICAgICAgY2hpbGQuaW5uZXJIVE1MID0gXCJcIlxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgQXJyYXkuZnJvbSh0ZW1wbGF0ZS5jb250ZW50LmNoaWxkTm9kZXMpLmZvckVhY2goZWwgPT4gZGlmZkNvbnRhaW5lci5pbnNlcnRCZWZvcmUoZWwsIGZpcnN0Q29tcG9uZW50KSlcbiAgICAgIGZpcnN0Q29tcG9uZW50LnJlbW92ZSgpXG4gICAgICByZXR1cm4gZGlmZkNvbnRhaW5lci5vdXRlckhUTUxcbiAgICB9XG4gIH1cbn1cbiIsICJpbXBvcnQge1xuICBDT01QT05FTlRTLFxuICBEWU5BTUlDUyxcbiAgVEVNUExBVEVTLFxuICBFVkVOVFMsXG4gIFBIWF9DT01QT05FTlQsXG4gIFBIWF9TS0lQLFxuICBSRVBMWSxcbiAgU1RBVElDLFxuICBUSVRMRVxufSBmcm9tIFwiLi9jb25zdGFudHNcIlxuXG5pbXBvcnQge1xuICBpc09iamVjdCxcbiAgbG9nRXJyb3IsXG4gIGlzQ2lkLFxufSBmcm9tIFwiLi91dGlsc1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlbmRlcmVkIHtcbiAgc3RhdGljIGV4dHJhY3QoZGlmZil7XG4gICAgbGV0IHtbUkVQTFldOiByZXBseSwgW0VWRU5UU106IGV2ZW50cywgW1RJVExFXTogdGl0bGV9ID0gZGlmZlxuICAgIGRlbGV0ZSBkaWZmW1JFUExZXVxuICAgIGRlbGV0ZSBkaWZmW0VWRU5UU11cbiAgICBkZWxldGUgZGlmZltUSVRMRV1cbiAgICByZXR1cm4ge2RpZmYsIHRpdGxlLCByZXBseTogcmVwbHkgfHwgbnVsbCwgZXZlbnRzOiBldmVudHMgfHwgW119XG4gIH1cblxuICBjb25zdHJ1Y3Rvcih2aWV3SWQsIHJlbmRlcmVkKXtcbiAgICB0aGlzLnZpZXdJZCA9IHZpZXdJZFxuICAgIHRoaXMucmVuZGVyZWQgPSB7fVxuICAgIHRoaXMubWVyZ2VEaWZmKHJlbmRlcmVkKVxuICB9XG5cbiAgcGFyZW50Vmlld0lkKCl7IHJldHVybiB0aGlzLnZpZXdJZCB9XG5cbiAgdG9TdHJpbmcob25seUNpZHMpe1xuICAgIHJldHVybiB0aGlzLnJlY3Vyc2l2ZVRvU3RyaW5nKHRoaXMucmVuZGVyZWQsIHRoaXMucmVuZGVyZWRbQ09NUE9ORU5UU10sIG9ubHlDaWRzKVxuICB9XG5cbiAgcmVjdXJzaXZlVG9TdHJpbmcocmVuZGVyZWQsIGNvbXBvbmVudHMgPSByZW5kZXJlZFtDT01QT05FTlRTXSwgb25seUNpZHMpe1xuICAgIG9ubHlDaWRzID0gb25seUNpZHMgPyBuZXcgU2V0KG9ubHlDaWRzKSA6IG51bGxcbiAgICBsZXQgb3V0cHV0ID0ge2J1ZmZlcjogXCJcIiwgY29tcG9uZW50czogY29tcG9uZW50cywgb25seUNpZHM6IG9ubHlDaWRzfVxuICAgIHRoaXMudG9PdXRwdXRCdWZmZXIocmVuZGVyZWQsIG51bGwsIG91dHB1dClcbiAgICByZXR1cm4gb3V0cHV0LmJ1ZmZlclxuICB9XG5cbiAgY29tcG9uZW50Q0lEcyhkaWZmKXsgcmV0dXJuIE9iamVjdC5rZXlzKGRpZmZbQ09NUE9ORU5UU10gfHwge30pLm1hcChpID0+IHBhcnNlSW50KGkpKSB9XG5cbiAgaXNDb21wb25lbnRPbmx5RGlmZihkaWZmKXtcbiAgICBpZighZGlmZltDT01QT05FTlRTXSl7IHJldHVybiBmYWxzZSB9XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKGRpZmYpLmxlbmd0aCA9PT0gMVxuICB9XG5cbiAgZ2V0Q29tcG9uZW50KGRpZmYsIGNpZCl7IHJldHVybiBkaWZmW0NPTVBPTkVOVFNdW2NpZF0gfVxuXG4gIG1lcmdlRGlmZihkaWZmKXtcbiAgICBsZXQgbmV3YyA9IGRpZmZbQ09NUE9ORU5UU11cbiAgICBsZXQgY2FjaGUgPSB7fVxuICAgIGRlbGV0ZSBkaWZmW0NPTVBPTkVOVFNdXG4gICAgdGhpcy5yZW5kZXJlZCA9IHRoaXMubXV0YWJsZU1lcmdlKHRoaXMucmVuZGVyZWQsIGRpZmYpXG4gICAgdGhpcy5yZW5kZXJlZFtDT01QT05FTlRTXSA9IHRoaXMucmVuZGVyZWRbQ09NUE9ORU5UU10gfHwge31cblxuICAgIGlmKG5ld2Mpe1xuICAgICAgbGV0IG9sZGMgPSB0aGlzLnJlbmRlcmVkW0NPTVBPTkVOVFNdXG5cbiAgICAgIGZvcihsZXQgY2lkIGluIG5ld2Mpe1xuICAgICAgICBuZXdjW2NpZF0gPSB0aGlzLmNhY2hlZEZpbmRDb21wb25lbnQoY2lkLCBuZXdjW2NpZF0sIG9sZGMsIG5ld2MsIGNhY2hlKVxuICAgICAgfVxuXG4gICAgICBmb3IobGV0IGNpZCBpbiBuZXdjKXsgb2xkY1tjaWRdID0gbmV3Y1tjaWRdIH1cbiAgICAgIGRpZmZbQ09NUE9ORU5UU10gPSBuZXdjXG4gICAgfVxuICB9XG5cbiAgY2FjaGVkRmluZENvbXBvbmVudChjaWQsIGNkaWZmLCBvbGRjLCBuZXdjLCBjYWNoZSl7XG4gICAgaWYoY2FjaGVbY2lkXSl7XG4gICAgICByZXR1cm4gY2FjaGVbY2lkXVxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgbmRpZmYsIHN0YXQsIHNjaWQgPSBjZGlmZltTVEFUSUNdXG5cbiAgICAgIGlmKGlzQ2lkKHNjaWQpKXtcbiAgICAgICAgbGV0IHRkaWZmXG5cbiAgICAgICAgaWYoc2NpZCA+IDApe1xuICAgICAgICAgIHRkaWZmID0gdGhpcy5jYWNoZWRGaW5kQ29tcG9uZW50KHNjaWQsIG5ld2Nbc2NpZF0sIG9sZGMsIG5ld2MsIGNhY2hlKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRkaWZmID0gb2xkY1stc2NpZF1cbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXQgPSB0ZGlmZltTVEFUSUNdXG4gICAgICAgIG5kaWZmID0gdGhpcy5jbG9uZU1lcmdlKHRkaWZmLCBjZGlmZilcbiAgICAgICAgbmRpZmZbU1RBVElDXSA9IHN0YXRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5kaWZmID0gY2RpZmZbU1RBVElDXSAhPT0gdW5kZWZpbmVkID8gY2RpZmYgOiB0aGlzLmNsb25lTWVyZ2Uob2xkY1tjaWRdIHx8IHt9LCBjZGlmZilcbiAgICAgIH1cblxuICAgICAgY2FjaGVbY2lkXSA9IG5kaWZmXG4gICAgICByZXR1cm4gbmRpZmZcbiAgICB9XG4gIH1cblxuICBtdXRhYmxlTWVyZ2UodGFyZ2V0LCBzb3VyY2Upe1xuICAgIGlmKHNvdXJjZVtTVEFUSUNdICE9PSB1bmRlZmluZWQpe1xuICAgICAgcmV0dXJuIHNvdXJjZVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRvTXV0YWJsZU1lcmdlKHRhcmdldCwgc291cmNlKVxuICAgICAgcmV0dXJuIHRhcmdldFxuICAgIH1cbiAgfVxuXG4gIGRvTXV0YWJsZU1lcmdlKHRhcmdldCwgc291cmNlKXtcbiAgICBmb3IobGV0IGtleSBpbiBzb3VyY2Upe1xuICAgICAgbGV0IHZhbCA9IHNvdXJjZVtrZXldXG4gICAgICBsZXQgdGFyZ2V0VmFsID0gdGFyZ2V0W2tleV1cbiAgICAgIGlmKGlzT2JqZWN0KHZhbCkgJiYgdmFsW1NUQVRJQ10gPT09IHVuZGVmaW5lZCAmJiBpc09iamVjdCh0YXJnZXRWYWwpKXtcbiAgICAgICAgdGhpcy5kb011dGFibGVNZXJnZSh0YXJnZXRWYWwsIHZhbClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldFtrZXldID0gdmFsXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY2xvbmVNZXJnZSh0YXJnZXQsIHNvdXJjZSl7XG4gICAgbGV0IG1lcmdlZCA9IHsuLi50YXJnZXQsIC4uLnNvdXJjZX1cbiAgICBmb3IobGV0IGtleSBpbiBtZXJnZWQpe1xuICAgICAgbGV0IHZhbCA9IHNvdXJjZVtrZXldXG4gICAgICBsZXQgdGFyZ2V0VmFsID0gdGFyZ2V0W2tleV1cbiAgICAgIGlmKGlzT2JqZWN0KHZhbCkgJiYgdmFsW1NUQVRJQ10gPT09IHVuZGVmaW5lZCAmJiBpc09iamVjdCh0YXJnZXRWYWwpKXtcbiAgICAgICAgbWVyZ2VkW2tleV0gPSB0aGlzLmNsb25lTWVyZ2UodGFyZ2V0VmFsLCB2YWwpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXJnZWRcbiAgfVxuXG4gIGNvbXBvbmVudFRvU3RyaW5nKGNpZCl7IHJldHVybiB0aGlzLnJlY3Vyc2l2ZUNJRFRvU3RyaW5nKHRoaXMucmVuZGVyZWRbQ09NUE9ORU5UU10sIGNpZCkgfVxuXG4gIHBydW5lQ0lEcyhjaWRzKXtcbiAgICBjaWRzLmZvckVhY2goY2lkID0+IGRlbGV0ZSB0aGlzLnJlbmRlcmVkW0NPTVBPTkVOVFNdW2NpZF0pXG4gIH1cblxuICAvLyBwcml2YXRlXG5cbiAgZ2V0KCl7IHJldHVybiB0aGlzLnJlbmRlcmVkIH1cblxuICBpc05ld0ZpbmdlcnByaW50KGRpZmYgPSB7fSl7IHJldHVybiAhIWRpZmZbU1RBVElDXSB9XG5cbiAgdGVtcGxhdGVTdGF0aWMocGFydCwgdGVtcGxhdGVzKXtcbiAgICBpZih0eXBlb2YgKHBhcnQpID09PSBcIm51bWJlclwiKSB7XG4gICAgICByZXR1cm4gdGVtcGxhdGVzW3BhcnRdXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBwYXJ0XG4gICAgfVxuICB9XG5cbiAgdG9PdXRwdXRCdWZmZXIocmVuZGVyZWQsIHRlbXBsYXRlcywgb3V0cHV0KXtcbiAgICBpZihyZW5kZXJlZFtEWU5BTUlDU10peyByZXR1cm4gdGhpcy5jb21wcmVoZW5zaW9uVG9CdWZmZXIocmVuZGVyZWQsIHRlbXBsYXRlcywgb3V0cHV0KSB9XG4gICAgbGV0IHtbU1RBVElDXTogc3RhdGljc30gPSByZW5kZXJlZFxuICAgIHN0YXRpY3MgPSB0aGlzLnRlbXBsYXRlU3RhdGljKHN0YXRpY3MsIHRlbXBsYXRlcylcblxuICAgIG91dHB1dC5idWZmZXIgKz0gc3RhdGljc1swXVxuICAgIGZvcihsZXQgaSA9IDE7IGkgPCBzdGF0aWNzLmxlbmd0aDsgaSsrKXtcbiAgICAgIHRoaXMuZHluYW1pY1RvQnVmZmVyKHJlbmRlcmVkW2kgLSAxXSwgdGVtcGxhdGVzLCBvdXRwdXQpXG4gICAgICBvdXRwdXQuYnVmZmVyICs9IHN0YXRpY3NbaV1cbiAgICB9XG4gIH1cblxuICBjb21wcmVoZW5zaW9uVG9CdWZmZXIocmVuZGVyZWQsIHRlbXBsYXRlcywgb3V0cHV0KXtcbiAgICBsZXQge1tEWU5BTUlDU106IGR5bmFtaWNzLCBbU1RBVElDXTogc3RhdGljc30gPSByZW5kZXJlZFxuICAgIHN0YXRpY3MgPSB0aGlzLnRlbXBsYXRlU3RhdGljKHN0YXRpY3MsIHRlbXBsYXRlcylcbiAgICBsZXQgY29tcFRlbXBsYXRlcyA9IHRlbXBsYXRlcyB8fCByZW5kZXJlZFtURU1QTEFURVNdXG5cbiAgICBmb3IobGV0IGQgPSAwOyBkIDwgZHluYW1pY3MubGVuZ3RoOyBkKyspe1xuICAgICAgbGV0IGR5bmFtaWMgPSBkeW5hbWljc1tkXVxuICAgICAgb3V0cHV0LmJ1ZmZlciArPSBzdGF0aWNzWzBdXG4gICAgICBmb3IobGV0IGkgPSAxOyBpIDwgc3RhdGljcy5sZW5ndGg7IGkrKyl7XG4gICAgICAgIHRoaXMuZHluYW1pY1RvQnVmZmVyKGR5bmFtaWNbaSAtIDFdLCBjb21wVGVtcGxhdGVzLCBvdXRwdXQpXG4gICAgICAgIG91dHB1dC5idWZmZXIgKz0gc3RhdGljc1tpXVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGR5bmFtaWNUb0J1ZmZlcihyZW5kZXJlZCwgdGVtcGxhdGVzLCBvdXRwdXQpe1xuICAgIGlmKHR5cGVvZiAocmVuZGVyZWQpID09PSBcIm51bWJlclwiKXtcbiAgICAgIG91dHB1dC5idWZmZXIgKz0gdGhpcy5yZWN1cnNpdmVDSURUb1N0cmluZyhvdXRwdXQuY29tcG9uZW50cywgcmVuZGVyZWQsIG91dHB1dC5vbmx5Q2lkcylcbiAgICB9IGVsc2UgaWYoaXNPYmplY3QocmVuZGVyZWQpKXtcbiAgICAgIHRoaXMudG9PdXRwdXRCdWZmZXIocmVuZGVyZWQsIHRlbXBsYXRlcywgb3V0cHV0KVxuICAgIH0gZWxzZSB7XG4gICAgICBvdXRwdXQuYnVmZmVyICs9IHJlbmRlcmVkXG4gICAgfVxuICB9XG5cbiAgcmVjdXJzaXZlQ0lEVG9TdHJpbmcoY29tcG9uZW50cywgY2lkLCBvbmx5Q2lkcyl7XG4gICAgbGV0IGNvbXBvbmVudCA9IGNvbXBvbmVudHNbY2lkXSB8fCBsb2dFcnJvcihgbm8gY29tcG9uZW50IGZvciBDSUQgJHtjaWR9YCwgY29tcG9uZW50cylcbiAgICBsZXQgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGVtcGxhdGVcIilcbiAgICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSB0aGlzLnJlY3Vyc2l2ZVRvU3RyaW5nKGNvbXBvbmVudCwgY29tcG9uZW50cywgb25seUNpZHMpXG4gICAgbGV0IGNvbnRhaW5lciA9IHRlbXBsYXRlLmNvbnRlbnRcbiAgICBsZXQgc2tpcCA9IG9ubHlDaWRzICYmICFvbmx5Q2lkcy5oYXMoY2lkKVxuXG4gICAgbGV0IFtoYXNDaGlsZE5vZGVzLCBoYXNDaGlsZENvbXBvbmVudHNdID1cbiAgICAgIEFycmF5LmZyb20oY29udGFpbmVyLmNoaWxkTm9kZXMpLnJlZHVjZSgoW2hhc05vZGVzLCBoYXNDb21wb25lbnRzXSwgY2hpbGQsIGkpID0+IHtcbiAgICAgICAgaWYoY2hpbGQubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKXtcbiAgICAgICAgICBpZihjaGlsZC5nZXRBdHRyaWJ1dGUoUEhYX0NPTVBPTkVOVCkpe1xuICAgICAgICAgICAgcmV0dXJuIFtoYXNOb2RlcywgdHJ1ZV1cbiAgICAgICAgICB9XG4gICAgICAgICAgY2hpbGQuc2V0QXR0cmlidXRlKFBIWF9DT01QT05FTlQsIGNpZClcbiAgICAgICAgICBpZighY2hpbGQuaWQpeyBjaGlsZC5pZCA9IGAke3RoaXMucGFyZW50Vmlld0lkKCl9LSR7Y2lkfS0ke2l9YCB9XG4gICAgICAgICAgaWYoc2tpcCl7XG4gICAgICAgICAgICBjaGlsZC5zZXRBdHRyaWJ1dGUoUEhYX1NLSVAsIFwiXCIpXG4gICAgICAgICAgICBjaGlsZC5pbm5lckhUTUwgPSBcIlwiXG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBbdHJ1ZSwgaGFzQ29tcG9uZW50c11cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZihjaGlsZC5ub2RlVmFsdWUudHJpbSgpICE9PSBcIlwiKXtcbiAgICAgICAgICAgIGxvZ0Vycm9yKFwib25seSBIVE1MIGVsZW1lbnQgdGFncyBhcmUgYWxsb3dlZCBhdCB0aGUgcm9vdCBvZiBjb21wb25lbnRzLlxcblxcblwiICtcbiAgICAgICAgICAgICAgYGdvdDogXCIke2NoaWxkLm5vZGVWYWx1ZS50cmltKCl9XCJcXG5cXG5gICtcbiAgICAgICAgICAgICAgXCJ3aXRoaW46XFxuXCIsIHRlbXBsYXRlLmlubmVySFRNTC50cmltKCkpXG4gICAgICAgICAgICBjaGlsZC5yZXBsYWNlV2l0aCh0aGlzLmNyZWF0ZVNwYW4oY2hpbGQubm9kZVZhbHVlLCBjaWQpKVxuICAgICAgICAgICAgcmV0dXJuIFt0cnVlLCBoYXNDb21wb25lbnRzXVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjaGlsZC5yZW1vdmUoKVxuICAgICAgICAgICAgcmV0dXJuIFtoYXNOb2RlcywgaGFzQ29tcG9uZW50c11cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIFtmYWxzZSwgZmFsc2VdKVxuXG4gICAgaWYoIWhhc0NoaWxkTm9kZXMgJiYgIWhhc0NoaWxkQ29tcG9uZW50cyl7XG4gICAgICBsb2dFcnJvcihcImV4cGVjdGVkIGF0IGxlYXN0IG9uZSBIVE1MIGVsZW1lbnQgdGFnIGluc2lkZSBhIGNvbXBvbmVudCwgYnV0IHRoZSBjb21wb25lbnQgaXMgZW1wdHk6XFxuXCIsXG4gICAgICAgIHRlbXBsYXRlLmlubmVySFRNTC50cmltKCkpXG4gICAgICByZXR1cm4gdGhpcy5jcmVhdGVTcGFuKFwiXCIsIGNpZCkub3V0ZXJIVE1MXG4gICAgfSBlbHNlIGlmKCFoYXNDaGlsZE5vZGVzICYmIGhhc0NoaWxkQ29tcG9uZW50cyl7XG4gICAgICBsb2dFcnJvcihcImV4cGVjdGVkIGF0IGxlYXN0IG9uZSBIVE1MIGVsZW1lbnQgdGFnIGRpcmVjdGx5IGluc2lkZSBhIGNvbXBvbmVudCwgYnV0IG9ubHkgc3ViY29tcG9uZW50cyB3ZXJlIGZvdW5kLiBBIGNvbXBvbmVudCBtdXN0IHJlbmRlciBhdCBsZWFzdCBvbmUgSFRNTCB0YWcgZGlyZWN0bHkgaW5zaWRlIGl0c2VsZi5cIixcbiAgICAgICAgdGVtcGxhdGUuaW5uZXJIVE1MLnRyaW0oKSlcbiAgICAgIHJldHVybiB0ZW1wbGF0ZS5pbm5lckhUTUxcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRlbXBsYXRlLmlubmVySFRNTFxuICAgIH1cbiAgfVxuXG4gIGNyZWF0ZVNwYW4odGV4dCwgY2lkKXtcbiAgICBsZXQgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpXG4gICAgc3Bhbi5pbm5lclRleHQgPSB0ZXh0XG4gICAgc3Bhbi5zZXRBdHRyaWJ1dGUoUEhYX0NPTVBPTkVOVCwgY2lkKVxuICAgIHJldHVybiBzcGFuXG4gIH1cbn1cbiIsICJsZXQgdmlld0hvb2tJRCA9IDFcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZpZXdIb29rIHtcbiAgc3RhdGljIG1ha2VJRCgpeyByZXR1cm4gdmlld0hvb2tJRCsrIH1cbiAgc3RhdGljIGVsZW1lbnRJRChlbCl7IHJldHVybiBlbC5waHhIb29rSWQgfVxuXG4gIGNvbnN0cnVjdG9yKHZpZXcsIGVsLCBjYWxsYmFja3Mpe1xuICAgIHRoaXMuX192aWV3ID0gdmlld1xuICAgIHRoaXMubGl2ZVNvY2tldCA9IHZpZXcubGl2ZVNvY2tldFxuICAgIHRoaXMuX19jYWxsYmFja3MgPSBjYWxsYmFja3NcbiAgICB0aGlzLl9fbGlzdGVuZXJzID0gbmV3IFNldCgpXG4gICAgdGhpcy5fX2lzRGlzY29ubmVjdGVkID0gZmFsc2VcbiAgICB0aGlzLmVsID0gZWxcbiAgICB0aGlzLmVsLnBoeEhvb2tJZCA9IHRoaXMuY29uc3RydWN0b3IubWFrZUlEKClcbiAgICBmb3IobGV0IGtleSBpbiB0aGlzLl9fY2FsbGJhY2tzKXsgdGhpc1trZXldID0gdGhpcy5fX2NhbGxiYWNrc1trZXldIH1cbiAgfVxuXG4gIF9fbW91bnRlZCgpeyB0aGlzLm1vdW50ZWQgJiYgdGhpcy5tb3VudGVkKCkgfVxuICBfX3VwZGF0ZWQoKXsgdGhpcy51cGRhdGVkICYmIHRoaXMudXBkYXRlZCgpIH1cbiAgX19iZWZvcmVVcGRhdGUoKXsgdGhpcy5iZWZvcmVVcGRhdGUgJiYgdGhpcy5iZWZvcmVVcGRhdGUoKSB9XG4gIF9fZGVzdHJveWVkKCl7IHRoaXMuZGVzdHJveWVkICYmIHRoaXMuZGVzdHJveWVkKCkgfVxuICBfX3JlY29ubmVjdGVkKCl7XG4gICAgaWYodGhpcy5fX2lzRGlzY29ubmVjdGVkKXtcbiAgICAgIHRoaXMuX19pc0Rpc2Nvbm5lY3RlZCA9IGZhbHNlXG4gICAgICB0aGlzLnJlY29ubmVjdGVkICYmIHRoaXMucmVjb25uZWN0ZWQoKVxuICAgIH1cbiAgfVxuICBfX2Rpc2Nvbm5lY3RlZCgpe1xuICAgIHRoaXMuX19pc0Rpc2Nvbm5lY3RlZCA9IHRydWVcbiAgICB0aGlzLmRpc2Nvbm5lY3RlZCAmJiB0aGlzLmRpc2Nvbm5lY3RlZCgpXG4gIH1cblxuICBwdXNoRXZlbnQoZXZlbnQsIHBheWxvYWQgPSB7fSwgb25SZXBseSA9IGZ1bmN0aW9uICgpeyB9KXtcbiAgICByZXR1cm4gdGhpcy5fX3ZpZXcucHVzaEhvb2tFdmVudChudWxsLCBldmVudCwgcGF5bG9hZCwgb25SZXBseSlcbiAgfVxuXG4gIHB1c2hFdmVudFRvKHBoeFRhcmdldCwgZXZlbnQsIHBheWxvYWQgPSB7fSwgb25SZXBseSA9IGZ1bmN0aW9uICgpeyB9KXtcbiAgICByZXR1cm4gdGhpcy5fX3ZpZXcud2l0aGluVGFyZ2V0cyhwaHhUYXJnZXQsICh2aWV3LCB0YXJnZXRDdHgpID0+IHtcbiAgICAgIHJldHVybiB2aWV3LnB1c2hIb29rRXZlbnQodGFyZ2V0Q3R4LCBldmVudCwgcGF5bG9hZCwgb25SZXBseSlcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlRXZlbnQoZXZlbnQsIGNhbGxiYWNrKXtcbiAgICBsZXQgY2FsbGJhY2tSZWYgPSAoY3VzdG9tRXZlbnQsIGJ5cGFzcykgPT4gYnlwYXNzID8gZXZlbnQgOiBjYWxsYmFjayhjdXN0b21FdmVudC5kZXRhaWwpXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoYHBoeDoke2V2ZW50fWAsIGNhbGxiYWNrUmVmKVxuICAgIHRoaXMuX19saXN0ZW5lcnMuYWRkKGNhbGxiYWNrUmVmKVxuICAgIHJldHVybiBjYWxsYmFja1JlZlxuICB9XG5cbiAgcmVtb3ZlSGFuZGxlRXZlbnQoY2FsbGJhY2tSZWYpe1xuICAgIGxldCBldmVudCA9IGNhbGxiYWNrUmVmKG51bGwsIHRydWUpXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoYHBoeDoke2V2ZW50fWAsIGNhbGxiYWNrUmVmKVxuICAgIHRoaXMuX19saXN0ZW5lcnMuZGVsZXRlKGNhbGxiYWNrUmVmKVxuICB9XG5cbiAgdXBsb2FkKG5hbWUsIGZpbGVzKXtcbiAgICByZXR1cm4gdGhpcy5fX3ZpZXcuZGlzcGF0Y2hVcGxvYWRzKG5hbWUsIGZpbGVzKVxuICB9XG5cbiAgdXBsb2FkVG8ocGh4VGFyZ2V0LCBuYW1lLCBmaWxlcyl7XG4gICAgcmV0dXJuIHRoaXMuX192aWV3LndpdGhpblRhcmdldHMocGh4VGFyZ2V0LCB2aWV3ID0+IHZpZXcuZGlzcGF0Y2hVcGxvYWRzKG5hbWUsIGZpbGVzKSlcbiAgfVxuXG4gIF9fY2xlYW51cF9fKCl7XG4gICAgdGhpcy5fX2xpc3RlbmVycy5mb3JFYWNoKGNhbGxiYWNrUmVmID0+IHRoaXMucmVtb3ZlSGFuZGxlRXZlbnQoY2FsbGJhY2tSZWYpKVxuICB9XG59XG4iLCAiaW1wb3J0IERPTSBmcm9tIFwiLi9kb21cIlxuXG5sZXQgSlMgPSB7XG4gIGV4ZWMoZXZlbnRUeXBlLCBwaHhFdmVudCwgdmlldywgc291cmNlRWwsIGRlZmF1bHRzKXtcbiAgICBsZXQgW2RlZmF1bHRLaW5kLCBkZWZhdWx0QXJnc10gPSBkZWZhdWx0cyB8fCBbbnVsbCwge31dXG4gICAgbGV0IGNvbW1hbmRzID0gcGh4RXZlbnQuY2hhckF0KDApID09PSBcIltcIiA/XG4gICAgICBKU09OLnBhcnNlKHBoeEV2ZW50KSA6IFtbZGVmYXVsdEtpbmQsIGRlZmF1bHRBcmdzXV1cblxuICAgIGNvbW1hbmRzLmZvckVhY2goKFtraW5kLCBhcmdzXSkgPT4ge1xuICAgICAgaWYoa2luZCA9PT0gZGVmYXVsdEtpbmQgJiYgZGVmYXVsdEFyZ3MuZGF0YSl7XG4gICAgICAgIGFyZ3MuZGF0YSA9IE9iamVjdC5hc3NpZ24oYXJncy5kYXRhIHx8IHt9LCBkZWZhdWx0QXJncy5kYXRhKVxuICAgICAgfVxuICAgICAgdGhpcy5maWx0ZXJUb0Vscyhzb3VyY2VFbCwgYXJncykuZm9yRWFjaChlbCA9PiB7XG4gICAgICAgIHRoaXNbYGV4ZWNfJHtraW5kfWBdKGV2ZW50VHlwZSwgcGh4RXZlbnQsIHZpZXcsIHNvdXJjZUVsLCBlbCwgYXJncylcbiAgICAgIH0pXG4gICAgfSlcbiAgfSxcblxuICBpc1Zpc2libGUoZWwpe1xuICAgIHJldHVybiAhIShlbC5vZmZzZXRXaWR0aCB8fCBlbC5vZmZzZXRIZWlnaHQgfHwgZWwuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggPiAwKVxuICB9LFxuXG4gIC8vIHByaXZhdGVcblxuICAvLyBjb21tYW5kc1xuXG4gIGV4ZWNfZGlzcGF0Y2goZXZlbnRUeXBlLCBwaHhFdmVudCwgdmlldywgc291cmNlRWwsIGVsLCB7dG8sIGV2ZW50LCBkZXRhaWwsIGJ1YmJsZXN9KXtcbiAgICBkZXRhaWwgPSBkZXRhaWwgfHwge31cbiAgICBkZXRhaWwuZGlzcGF0Y2hlciA9IHNvdXJjZUVsXG4gICAgRE9NLmRpc3BhdGNoRXZlbnQoZWwsIGV2ZW50LCB7ZGV0YWlsLCBidWJibGVzfSlcbiAgfSxcblxuICBleGVjX3B1c2goZXZlbnRUeXBlLCBwaHhFdmVudCwgdmlldywgc291cmNlRWwsIGVsLCBhcmdzKXtcbiAgICBpZighdmlldy5pc0Nvbm5lY3RlZCgpKXsgcmV0dXJuIH1cblxuICAgIGxldCB7ZXZlbnQsIGRhdGEsIHRhcmdldCwgcGFnZV9sb2FkaW5nLCBsb2FkaW5nLCB2YWx1ZSwgZGlzcGF0Y2hlcn0gPSBhcmdzXG4gICAgbGV0IHB1c2hPcHRzID0ge2xvYWRpbmcsIHZhbHVlLCB0YXJnZXQsIHBhZ2VfbG9hZGluZzogISFwYWdlX2xvYWRpbmd9XG4gICAgbGV0IHRhcmdldFNyYyA9IGV2ZW50VHlwZSA9PT0gXCJjaGFuZ2VcIiAmJiBkaXNwYXRjaGVyID8gZGlzcGF0Y2hlciA6IHNvdXJjZUVsXG4gICAgbGV0IHBoeFRhcmdldCA9IHRhcmdldCB8fCB0YXJnZXRTcmMuZ2V0QXR0cmlidXRlKHZpZXcuYmluZGluZyhcInRhcmdldFwiKSkgfHwgdGFyZ2V0U3JjXG4gICAgdmlldy53aXRoaW5UYXJnZXRzKHBoeFRhcmdldCwgKHRhcmdldFZpZXcsIHRhcmdldEN0eCkgPT4ge1xuICAgICAgaWYoZXZlbnRUeXBlID09PSBcImNoYW5nZVwiKXtcbiAgICAgICAgbGV0IHtuZXdDaWQsIF90YXJnZXQsIGNhbGxiYWNrfSA9IGFyZ3NcbiAgICAgICAgX3RhcmdldCA9IF90YXJnZXQgfHwgKHNvdXJjZUVsIGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCA/IHNvdXJjZUVsLm5hbWUgOiB1bmRlZmluZWQpXG4gICAgICAgIGlmKF90YXJnZXQpeyBwdXNoT3B0cy5fdGFyZ2V0ID0gX3RhcmdldCB9XG4gICAgICAgIHRhcmdldFZpZXcucHVzaElucHV0KHNvdXJjZUVsLCB0YXJnZXRDdHgsIG5ld0NpZCwgZXZlbnQgfHwgcGh4RXZlbnQsIHB1c2hPcHRzLCBjYWxsYmFjaylcbiAgICAgIH0gZWxzZSBpZihldmVudFR5cGUgPT09IFwic3VibWl0XCIpe1xuICAgICAgICB0YXJnZXRWaWV3LnN1Ym1pdEZvcm0oc291cmNlRWwsIHRhcmdldEN0eCwgZXZlbnQgfHwgcGh4RXZlbnQsIHB1c2hPcHRzKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0Vmlldy5wdXNoRXZlbnQoZXZlbnRUeXBlLCBzb3VyY2VFbCwgdGFyZ2V0Q3R4LCBldmVudCB8fCBwaHhFdmVudCwgZGF0YSwgcHVzaE9wdHMpXG4gICAgICB9XG4gICAgfSlcbiAgfSxcblxuICBleGVjX2FkZF9jbGFzcyhldmVudFR5cGUsIHBoeEV2ZW50LCB2aWV3LCBzb3VyY2VFbCwgZWwsIHtuYW1lcywgdHJhbnNpdGlvbiwgdGltZX0pe1xuICAgIHRoaXMuYWRkT3JSZW1vdmVDbGFzc2VzKGVsLCBuYW1lcywgW10sIHRyYW5zaXRpb24sIHRpbWUsIHZpZXcpXG4gIH0sXG5cbiAgZXhlY19yZW1vdmVfY2xhc3MoZXZlbnRUeXBlLCBwaHhFdmVudCwgdmlldywgc291cmNlRWwsIGVsLCB7bmFtZXMsIHRyYW5zaXRpb24sIHRpbWV9KXtcbiAgICB0aGlzLmFkZE9yUmVtb3ZlQ2xhc3NlcyhlbCwgW10sIG5hbWVzLCB0cmFuc2l0aW9uLCB0aW1lLCB2aWV3KVxuICB9LFxuXG4gIGV4ZWNfdHJhbnNpdGlvbihldmVudFR5cGUsIHBoeEV2ZW50LCB2aWV3LCBzb3VyY2VFbCwgZWwsIHt0aW1lLCB0cmFuc2l0aW9ufSl7XG4gICAgbGV0IFt0cmFuc2l0aW9uX3N0YXJ0LCBydW5uaW5nLCB0cmFuc2l0aW9uX2VuZF0gPSB0cmFuc2l0aW9uXG4gICAgbGV0IG9uU3RhcnQgPSAoKSA9PiB0aGlzLmFkZE9yUmVtb3ZlQ2xhc3NlcyhlbCwgdHJhbnNpdGlvbl9zdGFydC5jb25jYXQocnVubmluZyksIFtdKVxuICAgIGxldCBvbkRvbmUgPSAoKSA9PiB0aGlzLmFkZE9yUmVtb3ZlQ2xhc3NlcyhlbCwgdHJhbnNpdGlvbl9lbmQsIHRyYW5zaXRpb25fc3RhcnQuY29uY2F0KHJ1bm5pbmcpKVxuICAgIHZpZXcudHJhbnNpdGlvbih0aW1lLCBvblN0YXJ0LCBvbkRvbmUpXG4gIH0sXG5cbiAgZXhlY190b2dnbGUoZXZlbnRUeXBlLCBwaHhFdmVudCwgdmlldywgc291cmNlRWwsIGVsLCB7ZGlzcGxheSwgaW5zLCBvdXRzLCB0aW1lfSl7XG4gICAgdGhpcy50b2dnbGUoZXZlbnRUeXBlLCB2aWV3LCBlbCwgZGlzcGxheSwgaW5zLCBvdXRzLCB0aW1lKVxuICB9LFxuXG4gIGV4ZWNfc2hvdyhldmVudFR5cGUsIHBoeEV2ZW50LCB2aWV3LCBzb3VyY2VFbCwgZWwsIHtkaXNwbGF5LCB0cmFuc2l0aW9uLCB0aW1lfSl7XG4gICAgdGhpcy5zaG93KGV2ZW50VHlwZSwgdmlldywgZWwsIGRpc3BsYXksIHRyYW5zaXRpb24sIHRpbWUpXG4gIH0sXG5cbiAgZXhlY19oaWRlKGV2ZW50VHlwZSwgcGh4RXZlbnQsIHZpZXcsIHNvdXJjZUVsLCBlbCwge2Rpc3BsYXksIHRyYW5zaXRpb24sIHRpbWV9KXtcbiAgICB0aGlzLmhpZGUoZXZlbnRUeXBlLCB2aWV3LCBlbCwgZGlzcGxheSwgdHJhbnNpdGlvbiwgdGltZSlcbiAgfSxcblxuICBleGVjX3NldF9hdHRyKGV2ZW50VHlwZSwgcGh4RXZlbnQsIHZpZXcsIHNvdXJjZUVsLCBlbCwge2F0dHI6IFthdHRyLCB2YWxdfSl7XG4gICAgdGhpcy5zZXRPclJlbW92ZUF0dHJzKGVsLCBbW2F0dHIsIHZhbF1dLCBbXSlcbiAgfSxcblxuICBleGVjX3JlbW92ZV9hdHRyKGV2ZW50VHlwZSwgcGh4RXZlbnQsIHZpZXcsIHNvdXJjZUVsLCBlbCwge2F0dHJ9KXtcbiAgICB0aGlzLnNldE9yUmVtb3ZlQXR0cnMoZWwsIFtdLCBbYXR0cl0pXG4gIH0sXG5cbiAgLy8gdXRpbHMgZm9yIGNvbW1hbmRzXG5cbiAgc2hvdyhldmVudFR5cGUsIHZpZXcsIGVsLCBkaXNwbGF5LCB0cmFuc2l0aW9uLCB0aW1lKXtcbiAgICBpZighdGhpcy5pc1Zpc2libGUoZWwpKXtcbiAgICAgIHRoaXMudG9nZ2xlKGV2ZW50VHlwZSwgdmlldywgZWwsIGRpc3BsYXksIHRyYW5zaXRpb24sIG51bGwsIHRpbWUpXG4gICAgfVxuICB9LFxuXG4gIGhpZGUoZXZlbnRUeXBlLCB2aWV3LCBlbCwgZGlzcGxheSwgdHJhbnNpdGlvbiwgdGltZSl7XG4gICAgaWYodGhpcy5pc1Zpc2libGUoZWwpKXtcbiAgICAgIHRoaXMudG9nZ2xlKGV2ZW50VHlwZSwgdmlldywgZWwsIGRpc3BsYXksIG51bGwsIHRyYW5zaXRpb24sIHRpbWUpXG4gICAgfVxuICB9LFxuXG4gIHRvZ2dsZShldmVudFR5cGUsIHZpZXcsIGVsLCBkaXNwbGF5LCBpbnMsIG91dHMsIHRpbWUpe1xuICAgIGxldCBbaW5DbGFzc2VzLCBpblN0YXJ0Q2xhc3NlcywgaW5FbmRDbGFzc2VzXSA9IGlucyB8fCBbW10sIFtdLCBbXV1cbiAgICBsZXQgW291dENsYXNzZXMsIG91dFN0YXJ0Q2xhc3Nlcywgb3V0RW5kQ2xhc3Nlc10gPSBvdXRzIHx8IFtbXSwgW10sIFtdXVxuICAgIGlmKGluQ2xhc3Nlcy5sZW5ndGggPiAwIHx8IG91dENsYXNzZXMubGVuZ3RoID4gMCl7XG4gICAgICBpZih0aGlzLmlzVmlzaWJsZShlbCkpe1xuICAgICAgICBsZXQgb25TdGFydCA9ICgpID0+IHtcbiAgICAgICAgICB0aGlzLmFkZE9yUmVtb3ZlQ2xhc3NlcyhlbCwgb3V0U3RhcnRDbGFzc2VzLCBpbkNsYXNzZXMuY29uY2F0KGluU3RhcnRDbGFzc2VzKS5jb25jYXQoaW5FbmRDbGFzc2VzKSlcbiAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYWRkT3JSZW1vdmVDbGFzc2VzKGVsLCBvdXRDbGFzc2VzLCBbXSlcbiAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gdGhpcy5hZGRPclJlbW92ZUNsYXNzZXMoZWwsIG91dEVuZENsYXNzZXMsIG91dFN0YXJ0Q2xhc3NlcykpXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBlbC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcInBoeDpoaWRlLXN0YXJ0XCIpKVxuICAgICAgICB2aWV3LnRyYW5zaXRpb24odGltZSwgb25TdGFydCwgKCkgPT4ge1xuICAgICAgICAgIHRoaXMuYWRkT3JSZW1vdmVDbGFzc2VzKGVsLCBbXSwgb3V0Q2xhc3Nlcy5jb25jYXQob3V0RW5kQ2xhc3NlcykpXG4gICAgICAgICAgRE9NLnB1dFN0aWNreShlbCwgXCJ0b2dnbGVcIiwgY3VycmVudEVsID0+IGN1cnJlbnRFbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCIpXG4gICAgICAgICAgZWwuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJwaHg6aGlkZS1lbmRcIikpXG4gICAgICAgIH0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZihldmVudFR5cGUgPT09IFwicmVtb3ZlXCIpeyByZXR1cm4gfVxuICAgICAgICBsZXQgb25TdGFydCA9ICgpID0+IHtcbiAgICAgICAgICB0aGlzLmFkZE9yUmVtb3ZlQ2xhc3NlcyhlbCwgaW5TdGFydENsYXNzZXMsIG91dENsYXNzZXMuY29uY2F0KG91dFN0YXJ0Q2xhc3NlcykuY29uY2F0KG91dEVuZENsYXNzZXMpKVxuICAgICAgICAgIERPTS5wdXRTdGlja3koZWwsIFwidG9nZ2xlXCIsIGN1cnJlbnRFbCA9PiBjdXJyZW50RWwuc3R5bGUuZGlzcGxheSA9IChkaXNwbGF5IHx8IFwiYmxvY2tcIikpXG4gICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFkZE9yUmVtb3ZlQ2xhc3NlcyhlbCwgaW5DbGFzc2VzLCBbXSlcbiAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gdGhpcy5hZGRPclJlbW92ZUNsYXNzZXMoZWwsIGluRW5kQ2xhc3NlcywgaW5TdGFydENsYXNzZXMpKVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgZWwuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJwaHg6c2hvdy1zdGFydFwiKSlcbiAgICAgICAgdmlldy50cmFuc2l0aW9uKHRpbWUsIG9uU3RhcnQsICgpID0+IHtcbiAgICAgICAgICB0aGlzLmFkZE9yUmVtb3ZlQ2xhc3NlcyhlbCwgW10sIGluQ2xhc3Nlcy5jb25jYXQoaW5FbmRDbGFzc2VzKSlcbiAgICAgICAgICBlbC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcInBoeDpzaG93LWVuZFwiKSlcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYodGhpcy5pc1Zpc2libGUoZWwpKXtcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgZWwuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJwaHg6aGlkZS1zdGFydFwiKSlcbiAgICAgICAgICBET00ucHV0U3RpY2t5KGVsLCBcInRvZ2dsZVwiLCBjdXJyZW50RWwgPT4gY3VycmVudEVsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIilcbiAgICAgICAgICBlbC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcInBoeDpoaWRlLWVuZFwiKSlcbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgIGVsLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KFwicGh4OnNob3ctc3RhcnRcIikpXG4gICAgICAgICAgRE9NLnB1dFN0aWNreShlbCwgXCJ0b2dnbGVcIiwgY3VycmVudEVsID0+IGN1cnJlbnRFbC5zdHlsZS5kaXNwbGF5ID0gZGlzcGxheSB8fCBcImJsb2NrXCIpXG4gICAgICAgICAgZWwuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJwaHg6c2hvdy1lbmRcIikpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIGFkZE9yUmVtb3ZlQ2xhc3NlcyhlbCwgYWRkcywgcmVtb3ZlcywgdHJhbnNpdGlvbiwgdGltZSwgdmlldyl7XG4gICAgbGV0IFt0cmFuc2l0aW9uX3J1biwgdHJhbnNpdGlvbl9zdGFydCwgdHJhbnNpdGlvbl9lbmRdID0gdHJhbnNpdGlvbiB8fCBbW10sIFtdLCBbXV1cbiAgICBpZih0cmFuc2l0aW9uX3J1bi5sZW5ndGggPiAwKXtcbiAgICAgIGxldCBvblN0YXJ0ID0gKCkgPT4gdGhpcy5hZGRPclJlbW92ZUNsYXNzZXMoZWwsIHRyYW5zaXRpb25fc3RhcnQuY29uY2F0KHRyYW5zaXRpb25fcnVuKSwgW10pXG4gICAgICBsZXQgb25Eb25lID0gKCkgPT4gdGhpcy5hZGRPclJlbW92ZUNsYXNzZXMoZWwsIGFkZHMuY29uY2F0KHRyYW5zaXRpb25fZW5kKSwgcmVtb3Zlcy5jb25jYXQodHJhbnNpdGlvbl9ydW4pLmNvbmNhdCh0cmFuc2l0aW9uX3N0YXJ0KSlcbiAgICAgIHJldHVybiB2aWV3LnRyYW5zaXRpb24odGltZSwgb25TdGFydCwgb25Eb25lKVxuICAgIH1cbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIGxldCBbcHJldkFkZHMsIHByZXZSZW1vdmVzXSA9IERPTS5nZXRTdGlja3koZWwsIFwiY2xhc3Nlc1wiLCBbW10sIFtdXSlcbiAgICAgIGxldCBrZWVwQWRkcyA9IGFkZHMuZmlsdGVyKG5hbWUgPT4gcHJldkFkZHMuaW5kZXhPZihuYW1lKSA8IDAgJiYgIWVsLmNsYXNzTGlzdC5jb250YWlucyhuYW1lKSlcbiAgICAgIGxldCBrZWVwUmVtb3ZlcyA9IHJlbW92ZXMuZmlsdGVyKG5hbWUgPT4gcHJldlJlbW92ZXMuaW5kZXhPZihuYW1lKSA8IDAgJiYgZWwuY2xhc3NMaXN0LmNvbnRhaW5zKG5hbWUpKVxuICAgICAgbGV0IG5ld0FkZHMgPSBwcmV2QWRkcy5maWx0ZXIobmFtZSA9PiByZW1vdmVzLmluZGV4T2YobmFtZSkgPCAwKS5jb25jYXQoa2VlcEFkZHMpXG4gICAgICBsZXQgbmV3UmVtb3ZlcyA9IHByZXZSZW1vdmVzLmZpbHRlcihuYW1lID0+IGFkZHMuaW5kZXhPZihuYW1lKSA8IDApLmNvbmNhdChrZWVwUmVtb3ZlcylcblxuICAgICAgRE9NLnB1dFN0aWNreShlbCwgXCJjbGFzc2VzXCIsIGN1cnJlbnRFbCA9PiB7XG4gICAgICAgIGN1cnJlbnRFbC5jbGFzc0xpc3QucmVtb3ZlKC4uLm5ld1JlbW92ZXMpXG4gICAgICAgIGN1cnJlbnRFbC5jbGFzc0xpc3QuYWRkKC4uLm5ld0FkZHMpXG4gICAgICAgIHJldHVybiBbbmV3QWRkcywgbmV3UmVtb3Zlc11cbiAgICAgIH0pXG4gICAgfSlcbiAgfSxcblxuICBzZXRPclJlbW92ZUF0dHJzKGVsLCBzZXRzLCByZW1vdmVzKXtcbiAgICBsZXQgW3ByZXZTZXRzLCBwcmV2UmVtb3Zlc10gPSBET00uZ2V0U3RpY2t5KGVsLCBcImF0dHJzXCIsIFtbXSwgW11dKVxuXG4gICAgbGV0IGFsdGVyZWRBdHRycyA9IHNldHMubWFwKChbYXR0ciwgX3ZhbF0pID0+IGF0dHIpLmNvbmNhdChyZW1vdmVzKTtcbiAgICBsZXQgbmV3U2V0cyA9IHByZXZTZXRzLmZpbHRlcigoW2F0dHIsIF92YWxdKSA9PiAhYWx0ZXJlZEF0dHJzLmluY2x1ZGVzKGF0dHIpKS5jb25jYXQoc2V0cyk7XG4gICAgbGV0IG5ld1JlbW92ZXMgPSBwcmV2UmVtb3Zlcy5maWx0ZXIoKGF0dHIpID0+ICFhbHRlcmVkQXR0cnMuaW5jbHVkZXMoYXR0cikpLmNvbmNhdChyZW1vdmVzKTtcblxuICAgIERPTS5wdXRTdGlja3koZWwsIFwiYXR0cnNcIiwgY3VycmVudEVsID0+IHtcbiAgICAgIG5ld1JlbW92ZXMuZm9yRWFjaChhdHRyID0+IGN1cnJlbnRFbC5yZW1vdmVBdHRyaWJ1dGUoYXR0cikpXG4gICAgICBuZXdTZXRzLmZvckVhY2goKFthdHRyLCB2YWxdKSA9PiBjdXJyZW50RWwuc2V0QXR0cmlidXRlKGF0dHIsIHZhbCkpXG4gICAgICByZXR1cm4gW25ld1NldHMsIG5ld1JlbW92ZXNdXG4gICAgfSlcbiAgfSxcblxuICBoYXNBbGxDbGFzc2VzKGVsLCBjbGFzc2VzKXsgcmV0dXJuIGNsYXNzZXMuZXZlcnkobmFtZSA9PiBlbC5jbGFzc0xpc3QuY29udGFpbnMobmFtZSkpIH0sXG5cbiAgaXNUb2dnbGVkT3V0KGVsLCBvdXRDbGFzc2VzKXtcbiAgICByZXR1cm4gIXRoaXMuaXNWaXNpYmxlKGVsKSB8fCB0aGlzLmhhc0FsbENsYXNzZXMoZWwsIG91dENsYXNzZXMpXG4gIH0sXG5cbiAgZmlsdGVyVG9FbHMoc291cmNlRWwsIHt0b30pe1xuICAgIHJldHVybiB0byA/IERPTS5hbGwoZG9jdW1lbnQsIHRvKSA6IFtzb3VyY2VFbF1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBKU1xuIiwgImltcG9ydCB7XG4gIEJFRk9SRV9VTkxPQURfTE9BREVSX1RJTUVPVVQsXG4gIENIRUNLQUJMRV9JTlBVVFMsXG4gIENPTlNFQ1VUSVZFX1JFTE9BRFMsXG4gIFBIWF9BVVRPX1JFQ09WRVIsXG4gIFBIWF9DT01QT05FTlQsXG4gIFBIWF9DT05ORUNURURfQ0xBU1MsXG4gIFBIWF9ESVNBQkxFX1dJVEgsXG4gIFBIWF9ESVNBQkxFX1dJVEhfUkVTVE9SRSxcbiAgUEhYX0RJU0FCTEVELFxuICBQSFhfRElTQ09OTkVDVEVEX0NMQVNTLFxuICBQSFhfRVZFTlRfQ0xBU1NFUyxcbiAgUEhYX0VSUk9SX0NMQVNTLFxuICBQSFhfRkVFREJBQ0tfRk9SLFxuICBQSFhfSEFTX1NVQk1JVFRFRCxcbiAgUEhYX0hPT0ssXG4gIFBIWF9QQUdFX0xPQURJTkcsXG4gIFBIWF9QQVJFTlRfSUQsXG4gIFBIWF9QUk9HUkVTUyxcbiAgUEhYX1JFQURPTkxZLFxuICBQSFhfUkVGLFxuICBQSFhfUkVGX1NSQyxcbiAgUEhYX1JPT1RfSUQsXG4gIFBIWF9TRVNTSU9OLFxuICBQSFhfU1RBVElDLFxuICBQSFhfVFJBQ0tfU1RBVElDLFxuICBQSFhfVFJBQ0tfVVBMT0FEUyxcbiAgUEhYX1VQREFURSxcbiAgUEhYX1VQTE9BRF9SRUYsXG4gIFBIWF9WSUVXX1NFTEVDVE9SLFxuICBQVVNIX1RJTUVPVVQsXG4gIFBIWF9NQUlOLFxufSBmcm9tIFwiLi9jb25zdGFudHNcIlxuXG5pbXBvcnQge1xuICBjbG9uZSxcbiAgY2xvc2VzdFBoeEJpbmRpbmcsXG4gIGlzRW1wdHksXG4gIGlzRXF1YWxPYmosXG4gIGxvZ0Vycm9yLFxuICBtYXliZSxcbiAgaXNDaWQsXG59IGZyb20gXCIuL3V0aWxzXCJcblxuaW1wb3J0IEJyb3dzZXIgZnJvbSBcIi4vYnJvd3NlclwiXG5pbXBvcnQgRE9NIGZyb20gXCIuL2RvbVwiXG5pbXBvcnQgRE9NUGF0Y2ggZnJvbSBcIi4vZG9tX3BhdGNoXCJcbmltcG9ydCBMaXZlVXBsb2FkZXIgZnJvbSBcIi4vbGl2ZV91cGxvYWRlclwiXG5pbXBvcnQgUmVuZGVyZWQgZnJvbSBcIi4vcmVuZGVyZWRcIlxuaW1wb3J0IFZpZXdIb29rIGZyb20gXCIuL3ZpZXdfaG9va1wiXG5pbXBvcnQgSlMgZnJvbSBcIi4vanNcIlxuXG5sZXQgc2VyaWFsaXplRm9ybSA9IChmb3JtLCBtZXRhLCBvbmx5TmFtZXMgPSBbXSkgPT4ge1xuICBsZXQgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoZm9ybSlcbiAgbGV0IHRvUmVtb3ZlID0gW11cblxuICBmb3JtRGF0YS5mb3JFYWNoKCh2YWwsIGtleSwgX2luZGV4KSA9PiB7XG4gICAgaWYodmFsIGluc3RhbmNlb2YgRmlsZSl7IHRvUmVtb3ZlLnB1c2goa2V5KSB9XG4gIH0pXG5cbiAgLy8gQ2xlYW51cCBhZnRlciBidWlsZGluZyBmaWxlRGF0YVxuICB0b1JlbW92ZS5mb3JFYWNoKGtleSA9PiBmb3JtRGF0YS5kZWxldGUoa2V5KSlcblxuICBsZXQgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpXG4gIGZvcihsZXQgW2tleSwgdmFsXSBvZiBmb3JtRGF0YS5lbnRyaWVzKCkpe1xuICAgIGlmKG9ubHlOYW1lcy5sZW5ndGggPT09IDAgfHwgb25seU5hbWVzLmluZGV4T2Yoa2V5KSA+PSAwKXtcbiAgICAgIHBhcmFtcy5hcHBlbmQoa2V5LCB2YWwpXG4gICAgfVxuICB9XG4gIGZvcihsZXQgbWV0YUtleSBpbiBtZXRhKXsgcGFyYW1zLmFwcGVuZChtZXRhS2V5LCBtZXRhW21ldGFLZXldKSB9XG5cbiAgcmV0dXJuIHBhcmFtcy50b1N0cmluZygpXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZpZXcge1xuICBjb25zdHJ1Y3RvcihlbCwgbGl2ZVNvY2tldCwgcGFyZW50VmlldywgZmxhc2gpe1xuICAgIHRoaXMubGl2ZVNvY2tldCA9IGxpdmVTb2NrZXRcbiAgICB0aGlzLmZsYXNoID0gZmxhc2hcbiAgICB0aGlzLnBhcmVudCA9IHBhcmVudFZpZXdcbiAgICB0aGlzLnJvb3QgPSBwYXJlbnRWaWV3ID8gcGFyZW50Vmlldy5yb290IDogdGhpc1xuICAgIHRoaXMuZWwgPSBlbFxuICAgIHRoaXMuaWQgPSB0aGlzLmVsLmlkXG4gICAgdGhpcy5yZWYgPSAwXG4gICAgdGhpcy5jaGlsZEpvaW5zID0gMFxuICAgIHRoaXMubG9hZGVyVGltZXIgPSBudWxsXG4gICAgdGhpcy5wZW5kaW5nRGlmZnMgPSBbXVxuICAgIHRoaXMucHJ1bmluZ0NJRHMgPSBbXVxuICAgIHRoaXMucmVkaXJlY3QgPSBmYWxzZVxuICAgIHRoaXMuaHJlZiA9IG51bGxcbiAgICB0aGlzLmpvaW5Db3VudCA9IHRoaXMucGFyZW50ID8gdGhpcy5wYXJlbnQuam9pbkNvdW50IC0gMSA6IDBcbiAgICB0aGlzLmpvaW5QZW5kaW5nID0gdHJ1ZVxuICAgIHRoaXMuZGVzdHJveWVkID0gZmFsc2VcbiAgICB0aGlzLmpvaW5DYWxsYmFjayA9IGZ1bmN0aW9uKG9uRG9uZSl7IG9uRG9uZSAmJiBvbkRvbmUoKSB9XG4gICAgdGhpcy5zdG9wQ2FsbGJhY2sgPSBmdW5jdGlvbigpeyB9XG4gICAgdGhpcy5wZW5kaW5nSm9pbk9wcyA9IHRoaXMucGFyZW50ID8gbnVsbCA6IFtdXG4gICAgdGhpcy52aWV3SG9va3MgPSB7fVxuICAgIHRoaXMudXBsb2FkZXJzID0ge31cbiAgICB0aGlzLmZvcm1TdWJtaXRzID0gW11cbiAgICB0aGlzLmNoaWxkcmVuID0gdGhpcy5wYXJlbnQgPyBudWxsIDoge31cbiAgICB0aGlzLnJvb3QuY2hpbGRyZW5bdGhpcy5pZF0gPSB7fVxuICAgIHRoaXMuY2hhbm5lbCA9IHRoaXMubGl2ZVNvY2tldC5jaGFubmVsKGBsdjoke3RoaXMuaWR9YCwgKCkgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVkaXJlY3Q6IHRoaXMucmVkaXJlY3QgPyB0aGlzLmhyZWYgOiB1bmRlZmluZWQsXG4gICAgICAgIHVybDogdGhpcy5yZWRpcmVjdCA/IHVuZGVmaW5lZCA6IHRoaXMuaHJlZiB8fCB1bmRlZmluZWQsXG4gICAgICAgIHBhcmFtczogdGhpcy5jb25uZWN0UGFyYW1zKCksXG4gICAgICAgIHNlc3Npb246IHRoaXMuZ2V0U2Vzc2lvbigpLFxuICAgICAgICBzdGF0aWM6IHRoaXMuZ2V0U3RhdGljKCksXG4gICAgICAgIGZsYXNoOiB0aGlzLmZsYXNoXG4gICAgICB9XG4gICAgfSlcbiAgICB0aGlzLnNob3dMb2FkZXIodGhpcy5saXZlU29ja2V0LmxvYWRlclRpbWVvdXQpXG4gICAgdGhpcy5iaW5kQ2hhbm5lbCgpXG4gIH1cblxuICBzZXRIcmVmKGhyZWYpeyB0aGlzLmhyZWYgPSBocmVmIH1cblxuICBzZXRSZWRpcmVjdChocmVmKXtcbiAgICB0aGlzLnJlZGlyZWN0ID0gdHJ1ZVxuICAgIHRoaXMuaHJlZiA9IGhyZWZcbiAgfVxuXG4gIGlzTWFpbigpeyByZXR1cm4gdGhpcy5lbC5oYXNBdHRyaWJ1dGUoUEhYX01BSU4pIH1cblxuICBjb25uZWN0UGFyYW1zKCl7XG4gICAgbGV0IHBhcmFtcyA9IHRoaXMubGl2ZVNvY2tldC5wYXJhbXModGhpcy5lbClcbiAgICBsZXQgbWFuaWZlc3QgPVxuICAgICAgRE9NLmFsbChkb2N1bWVudCwgYFske3RoaXMuYmluZGluZyhQSFhfVFJBQ0tfU1RBVElDKX1dYClcbiAgICAgICAgLm1hcChub2RlID0+IG5vZGUuc3JjIHx8IG5vZGUuaHJlZikuZmlsdGVyKHVybCA9PiB0eXBlb2YgKHVybCkgPT09IFwic3RyaW5nXCIpXG5cbiAgICBpZihtYW5pZmVzdC5sZW5ndGggPiAwKXsgcGFyYW1zW1wiX3RyYWNrX3N0YXRpY1wiXSA9IG1hbmlmZXN0IH1cbiAgICBwYXJhbXNbXCJfbW91bnRzXCJdID0gdGhpcy5qb2luQ291bnRcblxuICAgIHJldHVybiBwYXJhbXNcbiAgfVxuXG4gIGlzQ29ubmVjdGVkKCl7IHJldHVybiB0aGlzLmNoYW5uZWwuY2FuUHVzaCgpIH1cblxuICBnZXRTZXNzaW9uKCl7IHJldHVybiB0aGlzLmVsLmdldEF0dHJpYnV0ZShQSFhfU0VTU0lPTikgfVxuXG4gIGdldFN0YXRpYygpe1xuICAgIGxldCB2YWwgPSB0aGlzLmVsLmdldEF0dHJpYnV0ZShQSFhfU1RBVElDKVxuICAgIHJldHVybiB2YWwgPT09IFwiXCIgPyBudWxsIDogdmFsXG4gIH1cblxuICBkZXN0cm95KGNhbGxiYWNrID0gZnVuY3Rpb24gKCl7IH0pe1xuICAgIHRoaXMuZGVzdHJveUFsbENoaWxkcmVuKClcbiAgICB0aGlzLmRlc3Ryb3llZCA9IHRydWVcbiAgICBkZWxldGUgdGhpcy5yb290LmNoaWxkcmVuW3RoaXMuaWRdXG4gICAgaWYodGhpcy5wYXJlbnQpeyBkZWxldGUgdGhpcy5yb290LmNoaWxkcmVuW3RoaXMucGFyZW50LmlkXVt0aGlzLmlkXSB9XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMubG9hZGVyVGltZXIpXG4gICAgbGV0IG9uRmluaXNoZWQgPSAoKSA9PiB7XG4gICAgICBjYWxsYmFjaygpXG4gICAgICBmb3IobGV0IGlkIGluIHRoaXMudmlld0hvb2tzKXtcbiAgICAgICAgdGhpcy5kZXN0cm95SG9vayh0aGlzLnZpZXdIb29rc1tpZF0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgRE9NLm1hcmtQaHhDaGlsZERlc3Ryb3llZCh0aGlzLmVsKVxuXG4gICAgdGhpcy5sb2coXCJkZXN0cm95ZWRcIiwgKCkgPT4gW1widGhlIGNoaWxkIGhhcyBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgcGFyZW50XCJdKVxuICAgIHRoaXMuY2hhbm5lbC5sZWF2ZSgpXG4gICAgICAucmVjZWl2ZShcIm9rXCIsIG9uRmluaXNoZWQpXG4gICAgICAucmVjZWl2ZShcImVycm9yXCIsIG9uRmluaXNoZWQpXG4gICAgICAucmVjZWl2ZShcInRpbWVvdXRcIiwgb25GaW5pc2hlZClcbiAgfVxuXG4gIHNldENvbnRhaW5lckNsYXNzZXMoLi4uY2xhc3Nlcyl7XG4gICAgdGhpcy5lbC5jbGFzc0xpc3QucmVtb3ZlKFxuICAgICAgUEhYX0NPTk5FQ1RFRF9DTEFTUyxcbiAgICAgIFBIWF9ESVNDT05ORUNURURfQ0xBU1MsXG4gICAgICBQSFhfRVJST1JfQ0xBU1NcbiAgICApXG4gICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKC4uLmNsYXNzZXMpXG4gIH1cblxuICBzaG93TG9hZGVyKHRpbWVvdXQpe1xuICAgIGNsZWFyVGltZW91dCh0aGlzLmxvYWRlclRpbWVyKVxuICAgIGlmKHRpbWVvdXQpe1xuICAgICAgdGhpcy5sb2FkZXJUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4gdGhpcy5zaG93TG9hZGVyKCksIHRpbWVvdXQpXG4gICAgfSBlbHNlIHtcbiAgICAgIGZvcihsZXQgaWQgaW4gdGhpcy52aWV3SG9va3MpeyB0aGlzLnZpZXdIb29rc1tpZF0uX19kaXNjb25uZWN0ZWQoKSB9XG4gICAgICB0aGlzLnNldENvbnRhaW5lckNsYXNzZXMoUEhYX0RJU0NPTk5FQ1RFRF9DTEFTUylcbiAgICB9XG4gIH1cblxuICBoaWRlTG9hZGVyKCl7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMubG9hZGVyVGltZXIpXG4gICAgdGhpcy5zZXRDb250YWluZXJDbGFzc2VzKFBIWF9DT05ORUNURURfQ0xBU1MpXG4gIH1cblxuICB0cmlnZ2VyUmVjb25uZWN0ZWQoKXtcbiAgICBmb3IobGV0IGlkIGluIHRoaXMudmlld0hvb2tzKXsgdGhpcy52aWV3SG9va3NbaWRdLl9fcmVjb25uZWN0ZWQoKSB9XG4gIH1cblxuICBsb2coa2luZCwgbXNnQ2FsbGJhY2spe1xuICAgIHRoaXMubGl2ZVNvY2tldC5sb2codGhpcywga2luZCwgbXNnQ2FsbGJhY2spXG4gIH1cblxuICB0cmFuc2l0aW9uKHRpbWUsIG9uU3RhcnQsIG9uRG9uZSA9IGZ1bmN0aW9uKCl7fSl7XG4gICAgdGhpcy5saXZlU29ja2V0LnRyYW5zaXRpb24odGltZSwgb25TdGFydCwgb25Eb25lKVxuICB9XG5cbiAgd2l0aGluVGFyZ2V0cyhwaHhUYXJnZXQsIGNhbGxiYWNrKXtcbiAgICBpZihwaHhUYXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCB8fCBwaHhUYXJnZXQgaW5zdGFuY2VvZiBTVkdFbGVtZW50KXtcbiAgICAgIHJldHVybiB0aGlzLmxpdmVTb2NrZXQub3duZXIocGh4VGFyZ2V0LCB2aWV3ID0+IGNhbGxiYWNrKHZpZXcsIHBoeFRhcmdldCkpXG4gICAgfVxuXG4gICAgaWYoaXNDaWQocGh4VGFyZ2V0KSl7XG4gICAgICBsZXQgdGFyZ2V0cyA9IERPTS5maW5kQ29tcG9uZW50Tm9kZUxpc3QodGhpcy5lbCwgcGh4VGFyZ2V0KVxuICAgICAgaWYodGFyZ2V0cy5sZW5ndGggPT09IDApe1xuICAgICAgICBsb2dFcnJvcihgbm8gY29tcG9uZW50IGZvdW5kIG1hdGNoaW5nIHBoeC10YXJnZXQgb2YgJHtwaHhUYXJnZXR9YClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKHRoaXMsIHBhcnNlSW50KHBoeFRhcmdldCkpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCB0YXJnZXRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHBoeFRhcmdldCkpXG4gICAgICBpZih0YXJnZXRzLmxlbmd0aCA9PT0gMCl7IGxvZ0Vycm9yKGBub3RoaW5nIGZvdW5kIG1hdGNoaW5nIHRoZSBwaHgtdGFyZ2V0IHNlbGVjdG9yIFwiJHtwaHhUYXJnZXR9XCJgKSB9XG4gICAgICB0YXJnZXRzLmZvckVhY2godGFyZ2V0ID0+IHRoaXMubGl2ZVNvY2tldC5vd25lcih0YXJnZXQsIHZpZXcgPT4gY2FsbGJhY2sodmlldywgdGFyZ2V0KSkpXG4gICAgfVxuICB9XG5cbiAgYXBwbHlEaWZmKHR5cGUsIHJhd0RpZmYsIGNhbGxiYWNrKXtcbiAgICB0aGlzLmxvZyh0eXBlLCAoKSA9PiBbXCJcIiwgY2xvbmUocmF3RGlmZildKVxuICAgIGxldCB7ZGlmZiwgcmVwbHksIGV2ZW50cywgdGl0bGV9ID0gUmVuZGVyZWQuZXh0cmFjdChyYXdEaWZmKVxuICAgIGlmKHRpdGxlKXsgRE9NLnB1dFRpdGxlKHRpdGxlKSB9XG5cbiAgICBjYWxsYmFjayh7ZGlmZiwgcmVwbHksIGV2ZW50c30pXG4gICAgcmV0dXJuIHJlcGx5XG4gIH1cblxuICBvbkpvaW4ocmVzcCl7XG4gICAgbGV0IHtyZW5kZXJlZCwgY29udGFpbmVyfSA9IHJlc3BcbiAgICBpZihjb250YWluZXIpe1xuICAgICAgbGV0IFt0YWcsIGF0dHJzXSA9IGNvbnRhaW5lclxuICAgICAgdGhpcy5lbCA9IERPTS5yZXBsYWNlUm9vdENvbnRhaW5lcih0aGlzLmVsLCB0YWcsIGF0dHJzKVxuICAgIH1cbiAgICB0aGlzLmNoaWxkSm9pbnMgPSAwXG4gICAgdGhpcy5qb2luUGVuZGluZyA9IHRydWVcbiAgICB0aGlzLmZsYXNoID0gbnVsbFxuXG4gICAgQnJvd3Nlci5kcm9wTG9jYWwodGhpcy5saXZlU29ja2V0LmxvY2FsU3RvcmFnZSwgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLCBDT05TRUNVVElWRV9SRUxPQURTKVxuICAgIHRoaXMuYXBwbHlEaWZmKFwibW91bnRcIiwgcmVuZGVyZWQsICh7ZGlmZiwgZXZlbnRzfSkgPT4ge1xuICAgICAgdGhpcy5yZW5kZXJlZCA9IG5ldyBSZW5kZXJlZCh0aGlzLmlkLCBkaWZmKVxuICAgICAgbGV0IGh0bWwgPSB0aGlzLnJlbmRlckNvbnRhaW5lcihudWxsLCBcImpvaW5cIilcbiAgICAgIHRoaXMuZHJvcFBlbmRpbmdSZWZzKClcbiAgICAgIGxldCBmb3JtcyA9IHRoaXMuZm9ybXNGb3JSZWNvdmVyeShodG1sKVxuICAgICAgdGhpcy5qb2luQ291bnQrK1xuXG4gICAgICBpZihmb3Jtcy5sZW5ndGggPiAwKXtcbiAgICAgICAgZm9ybXMuZm9yRWFjaCgoW2Zvcm0sIG5ld0Zvcm0sIG5ld0NpZF0sIGkpID0+IHtcbiAgICAgICAgICB0aGlzLnB1c2hGb3JtUmVjb3ZlcnkoZm9ybSwgbmV3Q2lkLCByZXNwID0+IHtcbiAgICAgICAgICAgIGlmKGkgPT09IGZvcm1zLmxlbmd0aCAtIDEpe1xuICAgICAgICAgICAgICB0aGlzLm9uSm9pbkNvbXBsZXRlKHJlc3AsIGh0bWwsIGV2ZW50cylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5vbkpvaW5Db21wbGV0ZShyZXNwLCBodG1sLCBldmVudHMpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGRyb3BQZW5kaW5nUmVmcygpe1xuICAgIERPTS5hbGwoZG9jdW1lbnQsIGBbJHtQSFhfUkVGX1NSQ309XCIke3RoaXMuaWR9XCJdWyR7UEhYX1JFRn1dYCwgZWwgPT4ge1xuICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKFBIWF9SRUYpXG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoUEhYX1JFRl9TUkMpXG4gICAgfSlcbiAgfVxuXG4gIG9uSm9pbkNvbXBsZXRlKHtsaXZlX3BhdGNofSwgaHRtbCwgZXZlbnRzKXtcbiAgICAvLyBJbiBvcmRlciB0byBwcm92aWRlIGEgYmV0dGVyIGV4cGVyaWVuY2UsIHdlIHdhbnQgdG8gam9pblxuICAgIC8vIGFsbCBMaXZlVmlld3MgZmlyc3QgYW5kIG9ubHkgdGhlbiBhcHBseSB0aGVpciBwYXRjaGVzLlxuICAgIGlmKHRoaXMuam9pbkNvdW50ID4gMSB8fCAodGhpcy5wYXJlbnQgJiYgIXRoaXMucGFyZW50LmlzSm9pblBlbmRpbmcoKSkpe1xuICAgICAgcmV0dXJuIHRoaXMuYXBwbHlKb2luUGF0Y2gobGl2ZV9wYXRjaCwgaHRtbCwgZXZlbnRzKVxuICAgIH1cblxuICAgIC8vIE9uZSBkb3duc2lkZSBvZiB0aGlzIGFwcHJvYWNoIGlzIHRoYXQgd2UgbmVlZCB0byBmaW5kIHBoeENoaWxkcmVuXG4gICAgLy8gaW4gdGhlIGh0bWwgZnJhZ21lbnQsIGluc3RlYWQgb2YgZGlyZWN0bHkgb24gdGhlIERPTS4gVGhlIGZyYWdtZW50XG4gICAgLy8gYWxzbyBkb2VzIG5vdCBpbmNsdWRlIFBIWF9TVEFUSUMsIHNvIHdlIG5lZWQgdG8gY29weSBpdCBvdmVyIGZyb21cbiAgICAvLyB0aGUgRE9NLlxuICAgIGxldCBuZXdDaGlsZHJlbiA9IERPTS5maW5kUGh4Q2hpbGRyZW5JbkZyYWdtZW50KGh0bWwsIHRoaXMuaWQpLmZpbHRlcih0b0VsID0+IHtcbiAgICAgIGxldCBmcm9tRWwgPSB0b0VsLmlkICYmIHRoaXMuZWwucXVlcnlTZWxlY3RvcihgW2lkPVwiJHt0b0VsLmlkfVwiXWApXG4gICAgICBsZXQgcGh4U3RhdGljID0gZnJvbUVsICYmIGZyb21FbC5nZXRBdHRyaWJ1dGUoUEhYX1NUQVRJQylcbiAgICAgIGlmKHBoeFN0YXRpYyl7IHRvRWwuc2V0QXR0cmlidXRlKFBIWF9TVEFUSUMsIHBoeFN0YXRpYykgfVxuICAgICAgcmV0dXJuIHRoaXMuam9pbkNoaWxkKHRvRWwpXG4gICAgfSlcblxuICAgIGlmKG5ld0NoaWxkcmVuLmxlbmd0aCA9PT0gMCl7XG4gICAgICBpZih0aGlzLnBhcmVudCl7XG4gICAgICAgIHRoaXMucm9vdC5wZW5kaW5nSm9pbk9wcy5wdXNoKFt0aGlzLCAoKSA9PiB0aGlzLmFwcGx5Sm9pblBhdGNoKGxpdmVfcGF0Y2gsIGh0bWwsIGV2ZW50cyldKVxuICAgICAgICB0aGlzLnBhcmVudC5hY2tKb2luKHRoaXMpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm9uQWxsQ2hpbGRKb2luc0NvbXBsZXRlKClcbiAgICAgICAgdGhpcy5hcHBseUpvaW5QYXRjaChsaXZlX3BhdGNoLCBodG1sLCBldmVudHMpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucm9vdC5wZW5kaW5nSm9pbk9wcy5wdXNoKFt0aGlzLCAoKSA9PiB0aGlzLmFwcGx5Sm9pblBhdGNoKGxpdmVfcGF0Y2gsIGh0bWwsIGV2ZW50cyldKVxuICAgIH1cbiAgfVxuXG4gIGF0dGFjaFRydWVEb2NFbCgpe1xuICAgIHRoaXMuZWwgPSBET00uYnlJZCh0aGlzLmlkKVxuICAgIHRoaXMuZWwuc2V0QXR0cmlidXRlKFBIWF9ST09UX0lELCB0aGlzLnJvb3QuaWQpXG4gIH1cblxuICBhcHBseUpvaW5QYXRjaChsaXZlX3BhdGNoLCBodG1sLCBldmVudHMpe1xuICAgIHRoaXMuYXR0YWNoVHJ1ZURvY0VsKClcbiAgICBsZXQgcGF0Y2ggPSBuZXcgRE9NUGF0Y2godGhpcywgdGhpcy5lbCwgdGhpcy5pZCwgaHRtbCwgbnVsbClcbiAgICBwYXRjaC5tYXJrUHJ1bmFibGVDb250ZW50Rm9yUmVtb3ZhbCgpXG4gICAgdGhpcy5wZXJmb3JtUGF0Y2gocGF0Y2gsIGZhbHNlKVxuICAgIHRoaXMuam9pbk5ld0NoaWxkcmVuKClcbiAgICBET00uYWxsKHRoaXMuZWwsIGBbJHt0aGlzLmJpbmRpbmcoUEhYX0hPT0spfV0sIFtkYXRhLXBoeC0ke1BIWF9IT09LfV1gLCBob29rRWwgPT4ge1xuICAgICAgbGV0IGhvb2sgPSB0aGlzLmFkZEhvb2soaG9va0VsKVxuICAgICAgaWYoaG9vayl7IGhvb2suX19tb3VudGVkKCkgfVxuICAgIH0pXG5cbiAgICB0aGlzLmpvaW5QZW5kaW5nID0gZmFsc2VcbiAgICB0aGlzLmxpdmVTb2NrZXQuZGlzcGF0Y2hFdmVudHMoZXZlbnRzKVxuICAgIHRoaXMuYXBwbHlQZW5kaW5nVXBkYXRlcygpXG5cbiAgICBpZihsaXZlX3BhdGNoKXtcbiAgICAgIGxldCB7a2luZCwgdG99ID0gbGl2ZV9wYXRjaFxuICAgICAgdGhpcy5saXZlU29ja2V0Lmhpc3RvcnlQYXRjaCh0bywga2luZClcbiAgICB9XG4gICAgdGhpcy5oaWRlTG9hZGVyKClcbiAgICBpZih0aGlzLmpvaW5Db3VudCA+IDEpeyB0aGlzLnRyaWdnZXJSZWNvbm5lY3RlZCgpIH1cbiAgICB0aGlzLnN0b3BDYWxsYmFjaygpXG4gIH1cblxuICB0cmlnZ2VyQmVmb3JlVXBkYXRlSG9vayhmcm9tRWwsIHRvRWwpe1xuICAgIHRoaXMubGl2ZVNvY2tldC50cmlnZ2VyRE9NKFwib25CZWZvcmVFbFVwZGF0ZWRcIiwgW2Zyb21FbCwgdG9FbF0pXG4gICAgbGV0IGhvb2sgPSB0aGlzLmdldEhvb2soZnJvbUVsKVxuICAgIGxldCBpc0lnbm9yZWQgPSBob29rICYmIERPTS5pc0lnbm9yZWQoZnJvbUVsLCB0aGlzLmJpbmRpbmcoUEhYX1VQREFURSkpXG4gICAgaWYoaG9vayAmJiAhZnJvbUVsLmlzRXF1YWxOb2RlKHRvRWwpICYmICEoaXNJZ25vcmVkICYmIGlzRXF1YWxPYmooZnJvbUVsLmRhdGFzZXQsIHRvRWwuZGF0YXNldCkpKXtcbiAgICAgIGhvb2suX19iZWZvcmVVcGRhdGUoKVxuICAgICAgcmV0dXJuIGhvb2tcbiAgICB9XG4gIH1cblxuICBwZXJmb3JtUGF0Y2gocGF0Y2gsIHBydW5lQ2lkcyl7XG4gICAgbGV0IHJlbW92ZWRFbHMgPSBbXVxuICAgIGxldCBwaHhDaGlsZHJlbkFkZGVkID0gZmFsc2VcbiAgICBsZXQgdXBkYXRlZEhvb2tJZHMgPSBuZXcgU2V0KClcblxuICAgIHBhdGNoLmFmdGVyKFwiYWRkZWRcIiwgZWwgPT4ge1xuICAgICAgdGhpcy5saXZlU29ja2V0LnRyaWdnZXJET00oXCJvbk5vZGVBZGRlZFwiLCBbZWxdKVxuXG4gICAgICBsZXQgbmV3SG9vayA9IHRoaXMuYWRkSG9vayhlbClcbiAgICAgIGlmKG5ld0hvb2speyBuZXdIb29rLl9fbW91bnRlZCgpIH1cbiAgICB9KVxuXG4gICAgcGF0Y2guYWZ0ZXIoXCJwaHhDaGlsZEFkZGVkXCIsIGVsID0+IHtcbiAgICAgIGlmKERPTS5pc1BoeFN0aWNreShlbCkpe1xuICAgICAgICB0aGlzLmxpdmVTb2NrZXQuam9pblJvb3RWaWV3cygpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwaHhDaGlsZHJlbkFkZGVkID0gdHJ1ZVxuICAgICAgfVxuICAgIH0pXG5cbiAgICBwYXRjaC5iZWZvcmUoXCJ1cGRhdGVkXCIsIChmcm9tRWwsIHRvRWwpID0+IHtcbiAgICAgIGxldCBob29rID0gdGhpcy50cmlnZ2VyQmVmb3JlVXBkYXRlSG9vayhmcm9tRWwsIHRvRWwpXG4gICAgICBpZihob29rKXsgdXBkYXRlZEhvb2tJZHMuYWRkKGZyb21FbC5pZCkgfVxuICAgIH0pXG5cbiAgICBwYXRjaC5hZnRlcihcInVwZGF0ZWRcIiwgZWwgPT4ge1xuICAgICAgaWYodXBkYXRlZEhvb2tJZHMuaGFzKGVsLmlkKSl7IHRoaXMuZ2V0SG9vayhlbCkuX191cGRhdGVkKCkgfVxuICAgIH0pXG5cbiAgICBwYXRjaC5hZnRlcihcImRpc2NhcmRlZFwiLCAoZWwpID0+IHtcbiAgICAgIGlmKGVsLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSl7IHJlbW92ZWRFbHMucHVzaChlbCkgfVxuICAgIH0pXG5cbiAgICBwYXRjaC5hZnRlcihcInRyYW5zaXRpb25zRGlzY2FyZGVkXCIsIGVscyA9PiB0aGlzLmFmdGVyRWxlbWVudHNSZW1vdmVkKGVscywgcHJ1bmVDaWRzKSlcbiAgICBwYXRjaC5wZXJmb3JtKClcbiAgICB0aGlzLmFmdGVyRWxlbWVudHNSZW1vdmVkKHJlbW92ZWRFbHMsIHBydW5lQ2lkcylcblxuICAgIHJldHVybiBwaHhDaGlsZHJlbkFkZGVkXG4gIH1cblxuICBhZnRlckVsZW1lbnRzUmVtb3ZlZChlbGVtZW50cywgcHJ1bmVDaWRzKXtcbiAgICBsZXQgZGVzdHJveWVkQ0lEcyA9IFtdXG4gICAgZWxlbWVudHMuZm9yRWFjaChwYXJlbnQgPT4ge1xuICAgICAgbGV0IGNvbXBvbmVudHMgPSBET00uYWxsKHBhcmVudCwgYFske1BIWF9DT01QT05FTlR9XWApXG4gICAgICBsZXQgaG9va3MgPSBET00uYWxsKHBhcmVudCwgYFske3RoaXMuYmluZGluZyhQSFhfSE9PSyl9XWApXG4gICAgICBjb21wb25lbnRzLmNvbmNhdChwYXJlbnQpLmZvckVhY2goZWwgPT4ge1xuICAgICAgICBsZXQgY2lkID0gdGhpcy5jb21wb25lbnRJRChlbClcbiAgICAgICAgaWYoaXNDaWQoY2lkKSAmJiBkZXN0cm95ZWRDSURzLmluZGV4T2YoY2lkKSA9PT0gLTEpeyBkZXN0cm95ZWRDSURzLnB1c2goY2lkKSB9XG4gICAgICB9KVxuICAgICAgaG9va3MuY29uY2F0KHBhcmVudCkuZm9yRWFjaChob29rRWwgPT4ge1xuICAgICAgICBsZXQgaG9vayA9IHRoaXMuZ2V0SG9vayhob29rRWwpXG4gICAgICAgIGhvb2sgJiYgdGhpcy5kZXN0cm95SG9vayhob29rKVxuICAgICAgfSlcbiAgICB9KVxuICAgIC8vIFdlIHNob3VsZCBub3QgcHJ1bmVDaWRzIG9uIGpvaW5zLiBPdGhlcndpc2UsIGluIGNhc2Ugb2ZcbiAgICAvLyByZWpvaW5zLCB3ZSBtYXkgbm90aWZ5IGNpZHMgdGhhdCBubyBsb25nZXIgYmVsb25nIHRvIHRoZVxuICAgIC8vIGN1cnJlbnQgTGl2ZVZpZXcgdG8gYmUgcmVtb3ZlZC5cbiAgICBpZihwcnVuZUNpZHMpe1xuICAgICAgdGhpcy5tYXliZVB1c2hDb21wb25lbnRzRGVzdHJveWVkKGRlc3Ryb3llZENJRHMpXG4gICAgfVxuICB9XG5cbiAgam9pbk5ld0NoaWxkcmVuKCl7XG4gICAgRE9NLmZpbmRQaHhDaGlsZHJlbih0aGlzLmVsLCB0aGlzLmlkKS5mb3JFYWNoKGVsID0+IHRoaXMuam9pbkNoaWxkKGVsKSlcbiAgfVxuXG4gIGdldENoaWxkQnlJZChpZCl7IHJldHVybiB0aGlzLnJvb3QuY2hpbGRyZW5bdGhpcy5pZF1baWRdIH1cblxuICBnZXREZXNjZW5kZW50QnlFbChlbCl7XG4gICAgaWYoZWwuaWQgPT09IHRoaXMuaWQpe1xuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW5bZWwuZ2V0QXR0cmlidXRlKFBIWF9QQVJFTlRfSUQpXVtlbC5pZF1cbiAgICB9XG4gIH1cblxuICBkZXN0cm95RGVzY2VuZGVudChpZCl7XG4gICAgZm9yKGxldCBwYXJlbnRJZCBpbiB0aGlzLnJvb3QuY2hpbGRyZW4pe1xuICAgICAgZm9yKGxldCBjaGlsZElkIGluIHRoaXMucm9vdC5jaGlsZHJlbltwYXJlbnRJZF0pe1xuICAgICAgICBpZihjaGlsZElkID09PSBpZCl7IHJldHVybiB0aGlzLnJvb3QuY2hpbGRyZW5bcGFyZW50SWRdW2NoaWxkSWRdLmRlc3Ryb3koKSB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgam9pbkNoaWxkKGVsKXtcbiAgICBsZXQgY2hpbGQgPSB0aGlzLmdldENoaWxkQnlJZChlbC5pZClcbiAgICBpZighY2hpbGQpe1xuICAgICAgbGV0IHZpZXcgPSBuZXcgVmlldyhlbCwgdGhpcy5saXZlU29ja2V0LCB0aGlzKVxuICAgICAgdGhpcy5yb290LmNoaWxkcmVuW3RoaXMuaWRdW3ZpZXcuaWRdID0gdmlld1xuICAgICAgdmlldy5qb2luKClcbiAgICAgIHRoaXMuY2hpbGRKb2lucysrXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgfVxuXG4gIGlzSm9pblBlbmRpbmcoKXsgcmV0dXJuIHRoaXMuam9pblBlbmRpbmcgfVxuXG4gIGFja0pvaW4oX2NoaWxkKXtcbiAgICB0aGlzLmNoaWxkSm9pbnMtLVxuXG4gICAgaWYodGhpcy5jaGlsZEpvaW5zID09PSAwKXtcbiAgICAgIGlmKHRoaXMucGFyZW50KXtcbiAgICAgICAgdGhpcy5wYXJlbnQuYWNrSm9pbih0aGlzKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5vbkFsbENoaWxkSm9pbnNDb21wbGV0ZSgpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgb25BbGxDaGlsZEpvaW5zQ29tcGxldGUoKXtcbiAgICB0aGlzLmpvaW5DYWxsYmFjaygoKSA9PiB7XG4gICAgICB0aGlzLnBlbmRpbmdKb2luT3BzLmZvckVhY2goKFt2aWV3LCBvcF0pID0+IHtcbiAgICAgICAgaWYoIXZpZXcuaXNEZXN0cm95ZWQoKSl7IG9wKCkgfVxuICAgICAgfSlcbiAgICAgIHRoaXMucGVuZGluZ0pvaW5PcHMgPSBbXVxuICAgIH0pXG4gIH1cblxuICB1cGRhdGUoZGlmZiwgZXZlbnRzKXtcbiAgICBpZih0aGlzLmlzSm9pblBlbmRpbmcoKSB8fCAodGhpcy5saXZlU29ja2V0Lmhhc1BlbmRpbmdMaW5rKCkgJiYgIURPTS5pc1BoeFN0aWNreSh0aGlzLmVsKSkpe1xuICAgICAgcmV0dXJuIHRoaXMucGVuZGluZ0RpZmZzLnB1c2goe2RpZmYsIGV2ZW50c30pXG4gICAgfVxuXG4gICAgdGhpcy5yZW5kZXJlZC5tZXJnZURpZmYoZGlmZilcbiAgICBsZXQgcGh4Q2hpbGRyZW5BZGRlZCA9IGZhbHNlXG5cbiAgICAvLyBXaGVuIHRoZSBkaWZmIG9ubHkgY29udGFpbnMgY29tcG9uZW50IGRpZmZzLCB0aGVuIHdhbGsgY29tcG9uZW50c1xuICAgIC8vIGFuZCBwYXRjaCBvbmx5IHRoZSBwYXJlbnQgY29tcG9uZW50IGNvbnRhaW5lcnMgZm91bmQgaW4gdGhlIGRpZmYuXG4gICAgLy8gT3RoZXJ3aXNlLCBwYXRjaCBlbnRpcmUgTFYgY29udGFpbmVyLlxuICAgIGlmKHRoaXMucmVuZGVyZWQuaXNDb21wb25lbnRPbmx5RGlmZihkaWZmKSl7XG4gICAgICB0aGlzLmxpdmVTb2NrZXQudGltZShcImNvbXBvbmVudCBwYXRjaCBjb21wbGV0ZVwiLCAoKSA9PiB7XG4gICAgICAgIGxldCBwYXJlbnRDaWRzID0gRE9NLmZpbmRQYXJlbnRDSURzKHRoaXMuZWwsIHRoaXMucmVuZGVyZWQuY29tcG9uZW50Q0lEcyhkaWZmKSlcbiAgICAgICAgcGFyZW50Q2lkcy5mb3JFYWNoKHBhcmVudENJRCA9PiB7XG4gICAgICAgICAgaWYodGhpcy5jb21wb25lbnRQYXRjaCh0aGlzLnJlbmRlcmVkLmdldENvbXBvbmVudChkaWZmLCBwYXJlbnRDSUQpLCBwYXJlbnRDSUQpKXsgcGh4Q2hpbGRyZW5BZGRlZCA9IHRydWUgfVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9IGVsc2UgaWYoIWlzRW1wdHkoZGlmZikpe1xuICAgICAgdGhpcy5saXZlU29ja2V0LnRpbWUoXCJmdWxsIHBhdGNoIGNvbXBsZXRlXCIsICgpID0+IHtcbiAgICAgICAgbGV0IGh0bWwgPSB0aGlzLnJlbmRlckNvbnRhaW5lcihkaWZmLCBcInVwZGF0ZVwiKVxuICAgICAgICBsZXQgcGF0Y2ggPSBuZXcgRE9NUGF0Y2godGhpcywgdGhpcy5lbCwgdGhpcy5pZCwgaHRtbCwgbnVsbClcbiAgICAgICAgcGh4Q2hpbGRyZW5BZGRlZCA9IHRoaXMucGVyZm9ybVBhdGNoKHBhdGNoLCB0cnVlKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICB0aGlzLmxpdmVTb2NrZXQuZGlzcGF0Y2hFdmVudHMoZXZlbnRzKVxuICAgIGlmKHBoeENoaWxkcmVuQWRkZWQpeyB0aGlzLmpvaW5OZXdDaGlsZHJlbigpIH1cbiAgfVxuXG4gIHJlbmRlckNvbnRhaW5lcihkaWZmLCBraW5kKXtcbiAgICByZXR1cm4gdGhpcy5saXZlU29ja2V0LnRpbWUoYHRvU3RyaW5nIGRpZmYgKCR7a2luZH0pYCwgKCkgPT4ge1xuICAgICAgbGV0IHRhZyA9IHRoaXMuZWwudGFnTmFtZVxuICAgICAgLy8gRG9uJ3Qgc2tpcCBhbnkgY29tcG9uZW50IGluIHRoZSBkaWZmIG5vciBhbnkgbWFya2VkIGFzIHBydW5lZFxuICAgICAgLy8gKGFzIHRoZXkgbWF5IGhhdmUgYmVlbiBhZGRlZCBiYWNrKVxuICAgICAgbGV0IGNpZHMgPSBkaWZmID8gdGhpcy5yZW5kZXJlZC5jb21wb25lbnRDSURzKGRpZmYpLmNvbmNhdCh0aGlzLnBydW5pbmdDSURzKSA6IG51bGxcbiAgICAgIGxldCBodG1sID0gdGhpcy5yZW5kZXJlZC50b1N0cmluZyhjaWRzKVxuICAgICAgcmV0dXJuIGA8JHt0YWd9PiR7aHRtbH08LyR7dGFnfT5gXG4gICAgfSlcbiAgfVxuXG4gIGNvbXBvbmVudFBhdGNoKGRpZmYsIGNpZCl7XG4gICAgaWYoaXNFbXB0eShkaWZmKSkgcmV0dXJuIGZhbHNlXG4gICAgbGV0IGh0bWwgPSB0aGlzLnJlbmRlcmVkLmNvbXBvbmVudFRvU3RyaW5nKGNpZClcbiAgICBsZXQgcGF0Y2ggPSBuZXcgRE9NUGF0Y2godGhpcywgdGhpcy5lbCwgdGhpcy5pZCwgaHRtbCwgY2lkKVxuICAgIGxldCBjaGlsZHJlbkFkZGVkID0gdGhpcy5wZXJmb3JtUGF0Y2gocGF0Y2gsIHRydWUpXG4gICAgcmV0dXJuIGNoaWxkcmVuQWRkZWRcbiAgfVxuXG4gIGdldEhvb2soZWwpeyByZXR1cm4gdGhpcy52aWV3SG9va3NbVmlld0hvb2suZWxlbWVudElEKGVsKV0gfVxuXG4gIGFkZEhvb2soZWwpe1xuICAgIGlmKFZpZXdIb29rLmVsZW1lbnRJRChlbCkgfHwgIWVsLmdldEF0dHJpYnV0ZSl7IHJldHVybiB9XG4gICAgbGV0IGhvb2tOYW1lID0gZWwuZ2V0QXR0cmlidXRlKGBkYXRhLXBoeC0ke1BIWF9IT09LfWApIHx8IGVsLmdldEF0dHJpYnV0ZSh0aGlzLmJpbmRpbmcoUEhYX0hPT0spKVxuICAgIGlmKGhvb2tOYW1lICYmICF0aGlzLm93bnNFbGVtZW50KGVsKSl7IHJldHVybiB9XG4gICAgbGV0IGNhbGxiYWNrcyA9IHRoaXMubGl2ZVNvY2tldC5nZXRIb29rQ2FsbGJhY2tzKGhvb2tOYW1lKVxuXG4gICAgaWYoY2FsbGJhY2tzKXtcbiAgICAgIGlmKCFlbC5pZCl7IGxvZ0Vycm9yKGBubyBET00gSUQgZm9yIGhvb2sgXCIke2hvb2tOYW1lfVwiLiBIb29rcyByZXF1aXJlIGEgdW5pcXVlIElEIG9uIGVhY2ggZWxlbWVudC5gLCBlbCkgfVxuICAgICAgbGV0IGhvb2sgPSBuZXcgVmlld0hvb2sodGhpcywgZWwsIGNhbGxiYWNrcylcbiAgICAgIHRoaXMudmlld0hvb2tzW1ZpZXdIb29rLmVsZW1lbnRJRChob29rLmVsKV0gPSBob29rXG4gICAgICByZXR1cm4gaG9va1xuICAgIH0gZWxzZSBpZihob29rTmFtZSAhPT0gbnVsbCl7XG4gICAgICBsb2dFcnJvcihgdW5rbm93biBob29rIGZvdW5kIGZvciBcIiR7aG9va05hbWV9XCJgLCBlbClcbiAgICB9XG4gIH1cblxuICBkZXN0cm95SG9vayhob29rKXtcbiAgICBob29rLl9fZGVzdHJveWVkKClcbiAgICBob29rLl9fY2xlYW51cF9fKClcbiAgICBkZWxldGUgdGhpcy52aWV3SG9va3NbVmlld0hvb2suZWxlbWVudElEKGhvb2suZWwpXVxuICB9XG5cbiAgYXBwbHlQZW5kaW5nVXBkYXRlcygpe1xuICAgIHRoaXMucGVuZGluZ0RpZmZzLmZvckVhY2goKHtkaWZmLCBldmVudHN9KSA9PiB0aGlzLnVwZGF0ZShkaWZmLCBldmVudHMpKVxuICAgIHRoaXMucGVuZGluZ0RpZmZzID0gW11cbiAgfVxuXG4gIG9uQ2hhbm5lbChldmVudCwgY2Ipe1xuICAgIHRoaXMubGl2ZVNvY2tldC5vbkNoYW5uZWwodGhpcy5jaGFubmVsLCBldmVudCwgcmVzcCA9PiB7XG4gICAgICBpZih0aGlzLmlzSm9pblBlbmRpbmcoKSl7XG4gICAgICAgIHRoaXMucm9vdC5wZW5kaW5nSm9pbk9wcy5wdXNoKFt0aGlzLCAoKSA9PiBjYihyZXNwKV0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxpdmVTb2NrZXQucmVxdWVzdERPTVVwZGF0ZSgoKSA9PiBjYihyZXNwKSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgYmluZENoYW5uZWwoKXtcbiAgICAvLyBUaGUgZGlmZiBldmVudCBzaG91bGQgYmUgaGFuZGxlZCBieSB0aGUgcmVndWxhciB1cGRhdGUgb3BlcmF0aW9ucy5cbiAgICAvLyBBbGwgb3RoZXIgb3BlcmF0aW9ucyBhcmUgcXVldWVkIHRvIGJlIGFwcGxpZWQgb25seSBhZnRlciBqb2luLlxuICAgIHRoaXMubGl2ZVNvY2tldC5vbkNoYW5uZWwodGhpcy5jaGFubmVsLCBcImRpZmZcIiwgKHJhd0RpZmYpID0+IHtcbiAgICAgIHRoaXMubGl2ZVNvY2tldC5yZXF1ZXN0RE9NVXBkYXRlKCgpID0+IHtcbiAgICAgICAgdGhpcy5hcHBseURpZmYoXCJ1cGRhdGVcIiwgcmF3RGlmZiwgKHtkaWZmLCBldmVudHN9KSA9PiB0aGlzLnVwZGF0ZShkaWZmLCBldmVudHMpKVxuICAgICAgfSlcbiAgICB9KVxuICAgIHRoaXMub25DaGFubmVsKFwicmVkaXJlY3RcIiwgKHt0bywgZmxhc2h9KSA9PiB0aGlzLm9uUmVkaXJlY3Qoe3RvLCBmbGFzaH0pKVxuICAgIHRoaXMub25DaGFubmVsKFwibGl2ZV9wYXRjaFwiLCAocmVkaXIpID0+IHRoaXMub25MaXZlUGF0Y2gocmVkaXIpKVxuICAgIHRoaXMub25DaGFubmVsKFwibGl2ZV9yZWRpcmVjdFwiLCAocmVkaXIpID0+IHRoaXMub25MaXZlUmVkaXJlY3QocmVkaXIpKVxuICAgIHRoaXMuY2hhbm5lbC5vbkVycm9yKHJlYXNvbiA9PiB0aGlzLm9uRXJyb3IocmVhc29uKSlcbiAgICB0aGlzLmNoYW5uZWwub25DbG9zZShyZWFzb24gPT4gdGhpcy5vbkNsb3NlKHJlYXNvbikpXG4gIH1cblxuICBkZXN0cm95QWxsQ2hpbGRyZW4oKXtcbiAgICBmb3IobGV0IGlkIGluIHRoaXMucm9vdC5jaGlsZHJlblt0aGlzLmlkXSl7XG4gICAgICB0aGlzLmdldENoaWxkQnlJZChpZCkuZGVzdHJveSgpXG4gICAgfVxuICB9XG5cbiAgb25MaXZlUmVkaXJlY3QocmVkaXIpe1xuICAgIGxldCB7dG8sIGtpbmQsIGZsYXNofSA9IHJlZGlyXG4gICAgbGV0IHVybCA9IHRoaXMuZXhwYW5kVVJMKHRvKVxuICAgIHRoaXMubGl2ZVNvY2tldC5oaXN0b3J5UmVkaXJlY3QodXJsLCBraW5kLCBmbGFzaClcbiAgfVxuXG4gIG9uTGl2ZVBhdGNoKHJlZGlyKXtcbiAgICBsZXQge3RvLCBraW5kfSA9IHJlZGlyXG4gICAgdGhpcy5ocmVmID0gdGhpcy5leHBhbmRVUkwodG8pXG4gICAgdGhpcy5saXZlU29ja2V0Lmhpc3RvcnlQYXRjaCh0bywga2luZClcbiAgfVxuXG4gIGV4cGFuZFVSTCh0byl7XG4gICAgcmV0dXJuIHRvLnN0YXJ0c1dpdGgoXCIvXCIpID8gYCR7d2luZG93LmxvY2F0aW9uLnByb3RvY29sfS8vJHt3aW5kb3cubG9jYXRpb24uaG9zdH0ke3RvfWAgOiB0b1xuICB9XG5cbiAgb25SZWRpcmVjdCh7dG8sIGZsYXNofSl7IHRoaXMubGl2ZVNvY2tldC5yZWRpcmVjdCh0bywgZmxhc2gpIH1cblxuICBpc0Rlc3Ryb3llZCgpeyByZXR1cm4gdGhpcy5kZXN0cm95ZWQgfVxuXG4gIGpvaW4oY2FsbGJhY2spe1xuICAgIGlmKHRoaXMuaXNNYWluKCkpe1xuICAgICAgdGhpcy5zdG9wQ2FsbGJhY2sgPSB0aGlzLmxpdmVTb2NrZXQud2l0aFBhZ2VMb2FkaW5nKHt0bzogdGhpcy5ocmVmLCBraW5kOiBcImluaXRpYWxcIn0pXG4gICAgfVxuICAgIHRoaXMuam9pbkNhbGxiYWNrID0gKG9uRG9uZSkgPT4ge1xuICAgICAgb25Eb25lID0gb25Eb25lIHx8IGZ1bmN0aW9uKCl7fVxuICAgICAgY2FsbGJhY2sgPyBjYWxsYmFjayh0aGlzLmpvaW5Db3VudCwgb25Eb25lKSA6IG9uRG9uZSgpXG4gICAgfVxuICAgIHRoaXMubGl2ZVNvY2tldC53cmFwUHVzaCh0aGlzLCB7dGltZW91dDogZmFsc2V9LCAoKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5jaGFubmVsLmpvaW4oKVxuICAgICAgICAucmVjZWl2ZShcIm9rXCIsIGRhdGEgPT4ge1xuICAgICAgICAgIGlmKCF0aGlzLmlzRGVzdHJveWVkKCkpe1xuICAgICAgICAgICAgdGhpcy5saXZlU29ja2V0LnJlcXVlc3RET01VcGRhdGUoKCkgPT4gdGhpcy5vbkpvaW4oZGF0YSkpXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAucmVjZWl2ZShcImVycm9yXCIsIHJlc3AgPT4gIXRoaXMuaXNEZXN0cm95ZWQoKSAmJiB0aGlzLm9uSm9pbkVycm9yKHJlc3ApKVxuICAgICAgICAucmVjZWl2ZShcInRpbWVvdXRcIiwgKCkgPT4gIXRoaXMuaXNEZXN0cm95ZWQoKSAmJiB0aGlzLm9uSm9pbkVycm9yKHtyZWFzb246IFwidGltZW91dFwifSkpXG4gICAgfSlcbiAgfVxuXG4gIG9uSm9pbkVycm9yKHJlc3Ape1xuICAgIGlmKHJlc3AucmVhc29uID09PSBcInVuYXV0aG9yaXplZFwiIHx8IHJlc3AucmVhc29uID09PSBcInN0YWxlXCIpe1xuICAgICAgdGhpcy5sb2coXCJlcnJvclwiLCAoKSA9PiBbXCJ1bmF1dGhvcml6ZWQgbGl2ZV9yZWRpcmVjdC4gRmFsbGluZyBiYWNrIHRvIHBhZ2UgcmVxdWVzdFwiLCByZXNwXSlcbiAgICAgIHJldHVybiB0aGlzLm9uUmVkaXJlY3Qoe3RvOiB0aGlzLmhyZWZ9KVxuICAgIH1cbiAgICBpZihyZXNwLnJlZGlyZWN0IHx8IHJlc3AubGl2ZV9yZWRpcmVjdCl7XG4gICAgICB0aGlzLmpvaW5QZW5kaW5nID0gZmFsc2VcbiAgICAgIHRoaXMuY2hhbm5lbC5sZWF2ZSgpXG4gICAgfVxuICAgIGlmKHJlc3AucmVkaXJlY3QpeyByZXR1cm4gdGhpcy5vblJlZGlyZWN0KHJlc3AucmVkaXJlY3QpIH1cbiAgICBpZihyZXNwLmxpdmVfcmVkaXJlY3QpeyByZXR1cm4gdGhpcy5vbkxpdmVSZWRpcmVjdChyZXNwLmxpdmVfcmVkaXJlY3QpIH1cbiAgICB0aGlzLmxvZyhcImVycm9yXCIsICgpID0+IFtcInVuYWJsZSB0byBqb2luXCIsIHJlc3BdKVxuICAgIGlmKHRoaXMubGl2ZVNvY2tldC5pc0Nvbm5lY3RlZCgpKXsgdGhpcy5saXZlU29ja2V0LnJlbG9hZFdpdGhKaXR0ZXIodGhpcykgfVxuICB9XG5cbiAgb25DbG9zZShyZWFzb24pe1xuICAgIGlmKHRoaXMuaXNEZXN0cm95ZWQoKSl7IHJldHVybiB9XG4gICAgaWYodGhpcy5saXZlU29ja2V0Lmhhc1BlbmRpbmdMaW5rKCkgJiYgcmVhc29uICE9PSBcImxlYXZlXCIpe1xuICAgICAgcmV0dXJuIHRoaXMubGl2ZVNvY2tldC5yZWxvYWRXaXRoSml0dGVyKHRoaXMpXG4gICAgfVxuICAgIHRoaXMuZGVzdHJveUFsbENoaWxkcmVuKClcbiAgICB0aGlzLmxpdmVTb2NrZXQuZHJvcEFjdGl2ZUVsZW1lbnQodGhpcylcbiAgICAvLyBkb2N1bWVudC5hY3RpdmVFbGVtZW50IGNhbiBiZSBudWxsIGluIEludGVybmV0IEV4cGxvcmVyIDExXG4gICAgaWYoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCl7IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuYmx1cigpIH1cbiAgICBpZih0aGlzLmxpdmVTb2NrZXQuaXNVbmxvYWRlZCgpKXtcbiAgICAgIHRoaXMuc2hvd0xvYWRlcihCRUZPUkVfVU5MT0FEX0xPQURFUl9USU1FT1VUKVxuICAgIH1cbiAgfVxuXG4gIG9uRXJyb3IocmVhc29uKXtcbiAgICB0aGlzLm9uQ2xvc2UocmVhc29uKVxuICAgIGlmKHRoaXMubGl2ZVNvY2tldC5pc0Nvbm5lY3RlZCgpKXsgdGhpcy5sb2coXCJlcnJvclwiLCAoKSA9PiBbXCJ2aWV3IGNyYXNoZWRcIiwgcmVhc29uXSkgfVxuICAgIGlmKCF0aGlzLmxpdmVTb2NrZXQuaXNVbmxvYWRlZCgpKXsgdGhpcy5kaXNwbGF5RXJyb3IoKSB9XG4gIH1cblxuICBkaXNwbGF5RXJyb3IoKXtcbiAgICBpZih0aGlzLmlzTWFpbigpKXsgRE9NLmRpc3BhdGNoRXZlbnQod2luZG93LCBcInBoeDpwYWdlLWxvYWRpbmctc3RhcnRcIiwge2RldGFpbDoge3RvOiB0aGlzLmhyZWYsIGtpbmQ6IFwiZXJyb3JcIn19KSB9XG4gICAgdGhpcy5zaG93TG9hZGVyKClcbiAgICB0aGlzLnNldENvbnRhaW5lckNsYXNzZXMoUEhYX0RJU0NPTk5FQ1RFRF9DTEFTUywgUEhYX0VSUk9SX0NMQVNTKVxuICB9XG5cbiAgcHVzaFdpdGhSZXBseShyZWZHZW5lcmF0b3IsIGV2ZW50LCBwYXlsb2FkLCBvblJlcGx5ID0gZnVuY3Rpb24gKCl7IH0pe1xuICAgIGlmKCF0aGlzLmlzQ29ubmVjdGVkKCkpeyByZXR1cm4gfVxuXG4gICAgbGV0IFtyZWYsIFtlbF0sIG9wdHNdID0gcmVmR2VuZXJhdG9yID8gcmVmR2VuZXJhdG9yKCkgOiBbbnVsbCwgW10sIHt9XVxuICAgIGxldCBvbkxvYWRpbmdEb25lID0gZnVuY3Rpb24oKXsgfVxuICAgIGlmKG9wdHMucGFnZV9sb2FkaW5nIHx8IChlbCAmJiAoZWwuZ2V0QXR0cmlidXRlKHRoaXMuYmluZGluZyhQSFhfUEFHRV9MT0FESU5HKSkgIT09IG51bGwpKSl7XG4gICAgICBvbkxvYWRpbmdEb25lID0gdGhpcy5saXZlU29ja2V0LndpdGhQYWdlTG9hZGluZyh7a2luZDogXCJlbGVtZW50XCIsIHRhcmdldDogZWx9KVxuICAgIH1cblxuICAgIGlmKHR5cGVvZiAocGF5bG9hZC5jaWQpICE9PSBcIm51bWJlclwiKXsgZGVsZXRlIHBheWxvYWQuY2lkIH1cbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5saXZlU29ja2V0LndyYXBQdXNoKHRoaXMsIHt0aW1lb3V0OiB0cnVlfSwgKCkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFubmVsLnB1c2goZXZlbnQsIHBheWxvYWQsIFBVU0hfVElNRU9VVCkucmVjZWl2ZShcIm9rXCIsIHJlc3AgPT4ge1xuICAgICAgICAgIGlmKHJlZiAhPT0gbnVsbCl7IHRoaXMudW5kb1JlZnMocmVmKSB9XG4gICAgICAgICAgbGV0IGZpbmlzaCA9IChob29rUmVwbHkpID0+IHtcbiAgICAgICAgICAgIGlmKHJlc3AucmVkaXJlY3QpeyB0aGlzLm9uUmVkaXJlY3QocmVzcC5yZWRpcmVjdCkgfVxuICAgICAgICAgICAgaWYocmVzcC5saXZlX3BhdGNoKXsgdGhpcy5vbkxpdmVQYXRjaChyZXNwLmxpdmVfcGF0Y2gpIH1cbiAgICAgICAgICAgIGlmKHJlc3AubGl2ZV9yZWRpcmVjdCl7IHRoaXMub25MaXZlUmVkaXJlY3QocmVzcC5saXZlX3JlZGlyZWN0KSB9XG4gICAgICAgICAgICBvbkxvYWRpbmdEb25lKClcbiAgICAgICAgICAgIG9uUmVwbHkocmVzcCwgaG9va1JlcGx5KVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZihyZXNwLmRpZmYpe1xuICAgICAgICAgICAgdGhpcy5saXZlU29ja2V0LnJlcXVlc3RET01VcGRhdGUoKCkgPT4ge1xuICAgICAgICAgICAgICBsZXQgaG9va1JlcGx5ID0gdGhpcy5hcHBseURpZmYoXCJ1cGRhdGVcIiwgcmVzcC5kaWZmLCAoe2RpZmYsIGV2ZW50c30pID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZShkaWZmLCBldmVudHMpXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIGZpbmlzaChob29rUmVwbHkpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmaW5pc2gobnVsbClcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIClcbiAgfVxuXG4gIHVuZG9SZWZzKHJlZil7XG4gICAgRE9NLmFsbChkb2N1bWVudCwgYFske1BIWF9SRUZfU1JDfT1cIiR7dGhpcy5pZH1cIl1bJHtQSFhfUkVGfT1cIiR7cmVmfVwiXWAsIGVsID0+IHtcbiAgICAgIGxldCBkaXNhYmxlZFZhbCA9IGVsLmdldEF0dHJpYnV0ZShQSFhfRElTQUJMRUQpXG4gICAgICAvLyByZW1vdmUgcmVmc1xuICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKFBIWF9SRUYpXG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoUEhYX1JFRl9TUkMpXG4gICAgICAvLyByZXN0b3JlIGlucHV0c1xuICAgICAgaWYoZWwuZ2V0QXR0cmlidXRlKFBIWF9SRUFET05MWSkgIT09IG51bGwpe1xuICAgICAgICBlbC5yZWFkT25seSA9IGZhbHNlXG4gICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShQSFhfUkVBRE9OTFkpXG4gICAgICB9XG4gICAgICBpZihkaXNhYmxlZFZhbCAhPT0gbnVsbCl7XG4gICAgICAgIGVsLmRpc2FibGVkID0gZGlzYWJsZWRWYWwgPT09IFwidHJ1ZVwiID8gdHJ1ZSA6IGZhbHNlXG4gICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShQSFhfRElTQUJMRUQpXG4gICAgICB9XG4gICAgICAvLyByZW1vdmUgY2xhc3Nlc1xuICAgICAgUEhYX0VWRU5UX0NMQVNTRVMuZm9yRWFjaChjbGFzc05hbWUgPT4gRE9NLnJlbW92ZUNsYXNzKGVsLCBjbGFzc05hbWUpKVxuICAgICAgLy8gcmVzdG9yZSBkaXNhYmxlc1xuICAgICAgbGV0IGRpc2FibGVSZXN0b3JlID0gZWwuZ2V0QXR0cmlidXRlKFBIWF9ESVNBQkxFX1dJVEhfUkVTVE9SRSlcbiAgICAgIGlmKGRpc2FibGVSZXN0b3JlICE9PSBudWxsKXtcbiAgICAgICAgZWwuaW5uZXJUZXh0ID0gZGlzYWJsZVJlc3RvcmVcbiAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKFBIWF9ESVNBQkxFX1dJVEhfUkVTVE9SRSlcbiAgICAgIH1cbiAgICAgIGxldCB0b0VsID0gRE9NLnByaXZhdGUoZWwsIFBIWF9SRUYpXG4gICAgICBpZih0b0VsKXtcbiAgICAgICAgbGV0IGhvb2sgPSB0aGlzLnRyaWdnZXJCZWZvcmVVcGRhdGVIb29rKGVsLCB0b0VsKVxuICAgICAgICBET01QYXRjaC5wYXRjaEVsKGVsLCB0b0VsLCB0aGlzLmxpdmVTb2NrZXQuZ2V0QWN0aXZlRWxlbWVudCgpKVxuICAgICAgICBpZihob29rKXsgaG9vay5fX3VwZGF0ZWQoKSB9XG4gICAgICAgIERPTS5kZWxldGVQcml2YXRlKGVsLCBQSFhfUkVGKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBwdXRSZWYoZWxlbWVudHMsIGV2ZW50LCBvcHRzID0ge30pe1xuICAgIGxldCBuZXdSZWYgPSB0aGlzLnJlZisrXG4gICAgbGV0IGRpc2FibGVXaXRoID0gdGhpcy5iaW5kaW5nKFBIWF9ESVNBQkxFX1dJVEgpXG4gICAgaWYob3B0cy5sb2FkaW5nKXsgZWxlbWVudHMgPSBlbGVtZW50cy5jb25jYXQoRE9NLmFsbChkb2N1bWVudCwgb3B0cy5sb2FkaW5nKSl9XG5cbiAgICBlbGVtZW50cy5mb3JFYWNoKGVsID0+IHtcbiAgICAgIGVsLmNsYXNzTGlzdC5hZGQoYHBoeC0ke2V2ZW50fS1sb2FkaW5nYClcbiAgICAgIGVsLnNldEF0dHJpYnV0ZShQSFhfUkVGLCBuZXdSZWYpXG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoUEhYX1JFRl9TUkMsIHRoaXMuZWwuaWQpXG4gICAgICBsZXQgZGlzYWJsZVRleHQgPSBlbC5nZXRBdHRyaWJ1dGUoZGlzYWJsZVdpdGgpXG4gICAgICBpZihkaXNhYmxlVGV4dCAhPT0gbnVsbCl7XG4gICAgICAgIGlmKCFlbC5nZXRBdHRyaWJ1dGUoUEhYX0RJU0FCTEVfV0lUSF9SRVNUT1JFKSl7XG4gICAgICAgICAgZWwuc2V0QXR0cmlidXRlKFBIWF9ESVNBQkxFX1dJVEhfUkVTVE9SRSwgZWwuaW5uZXJUZXh0KVxuICAgICAgICB9XG4gICAgICAgIGlmKGRpc2FibGVUZXh0ICE9PSBcIlwiKXsgZWwuaW5uZXJUZXh0ID0gZGlzYWJsZVRleHQgfVxuICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCBcIlwiKVxuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIFtuZXdSZWYsIGVsZW1lbnRzLCBvcHRzXVxuICB9XG5cbiAgY29tcG9uZW50SUQoZWwpe1xuICAgIGxldCBjaWQgPSBlbC5nZXRBdHRyaWJ1dGUgJiYgZWwuZ2V0QXR0cmlidXRlKFBIWF9DT01QT05FTlQpXG4gICAgcmV0dXJuIGNpZCA/IHBhcnNlSW50KGNpZCkgOiBudWxsXG4gIH1cblxuICB0YXJnZXRDb21wb25lbnRJRCh0YXJnZXQsIHRhcmdldEN0eCwgb3B0cyA9IHt9KXtcbiAgICBpZihpc0NpZCh0YXJnZXRDdHgpKXsgcmV0dXJuIHRhcmdldEN0eCB9XG5cbiAgICBsZXQgY2lkT3JTZWxlY3RvciA9IHRhcmdldC5nZXRBdHRyaWJ1dGUodGhpcy5iaW5kaW5nKFwidGFyZ2V0XCIpKVxuICAgIGlmKGlzQ2lkKGNpZE9yU2VsZWN0b3IpKXtcbiAgICAgIHJldHVybiBwYXJzZUludChjaWRPclNlbGVjdG9yKVxuICAgIH0gZWxzZSBpZih0YXJnZXRDdHggJiYgKGNpZE9yU2VsZWN0b3IgIT09IG51bGwgfHwgb3B0cy50YXJnZXQpKXtcbiAgICAgIHJldHVybiB0aGlzLmNsb3Nlc3RDb21wb25lbnRJRCh0YXJnZXRDdHgpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgY2xvc2VzdENvbXBvbmVudElEKHRhcmdldEN0eCl7XG4gICAgaWYoaXNDaWQodGFyZ2V0Q3R4KSl7XG4gICAgICByZXR1cm4gdGFyZ2V0Q3R4XG4gICAgfSBlbHNlIGlmKHRhcmdldEN0eCl7XG4gICAgICByZXR1cm4gbWF5YmUodGFyZ2V0Q3R4LmNsb3Nlc3QoYFske1BIWF9DT01QT05FTlR9XWApLCBlbCA9PiB0aGlzLm93bnNFbGVtZW50KGVsKSAmJiB0aGlzLmNvbXBvbmVudElEKGVsKSlcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICBwdXNoSG9va0V2ZW50KHRhcmdldEN0eCwgZXZlbnQsIHBheWxvYWQsIG9uUmVwbHkpe1xuICAgIGlmKCF0aGlzLmlzQ29ubmVjdGVkKCkpe1xuICAgICAgdGhpcy5sb2coXCJob29rXCIsICgpID0+IFtcInVuYWJsZSB0byBwdXNoIGhvb2sgZXZlbnQuIExpdmVWaWV3IG5vdCBjb25uZWN0ZWRcIiwgZXZlbnQsIHBheWxvYWRdKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIGxldCBbcmVmLCBlbHMsIG9wdHNdID0gdGhpcy5wdXRSZWYoW10sIFwiaG9va1wiKVxuICAgIHRoaXMucHVzaFdpdGhSZXBseSgoKSA9PiBbcmVmLCBlbHMsIG9wdHNdLCBcImV2ZW50XCIsIHtcbiAgICAgIHR5cGU6IFwiaG9va1wiLFxuICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgdmFsdWU6IHBheWxvYWQsXG4gICAgICBjaWQ6IHRoaXMuY2xvc2VzdENvbXBvbmVudElEKHRhcmdldEN0eClcbiAgICB9LCAocmVzcCwgcmVwbHkpID0+IG9uUmVwbHkocmVwbHksIHJlZikpXG5cbiAgICByZXR1cm4gcmVmXG4gIH1cblxuICBleHRyYWN0TWV0YShlbCwgbWV0YSwgdmFsdWUpe1xuICAgIGxldCBwcmVmaXggPSB0aGlzLmJpbmRpbmcoXCJ2YWx1ZS1cIilcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgZWwuYXR0cmlidXRlcy5sZW5ndGg7IGkrKyl7XG4gICAgICBpZighbWV0YSl7IG1ldGEgPSB7fSB9XG4gICAgICBsZXQgbmFtZSA9IGVsLmF0dHJpYnV0ZXNbaV0ubmFtZVxuICAgICAgaWYobmFtZS5zdGFydHNXaXRoKHByZWZpeCkpeyBtZXRhW25hbWUucmVwbGFjZShwcmVmaXgsIFwiXCIpXSA9IGVsLmdldEF0dHJpYnV0ZShuYW1lKSB9XG4gICAgfVxuICAgIGlmKGVsLnZhbHVlICE9PSB1bmRlZmluZWQpe1xuICAgICAgaWYoIW1ldGEpeyBtZXRhID0ge30gfVxuICAgICAgbWV0YS52YWx1ZSA9IGVsLnZhbHVlXG5cbiAgICAgIGlmKGVsLnRhZ05hbWUgPT09IFwiSU5QVVRcIiAmJiBDSEVDS0FCTEVfSU5QVVRTLmluZGV4T2YoZWwudHlwZSkgPj0gMCAmJiAhZWwuY2hlY2tlZCl7XG4gICAgICAgIGRlbGV0ZSBtZXRhLnZhbHVlXG4gICAgICB9XG4gICAgfVxuICAgIGlmKHZhbHVlKXtcbiAgICAgIGlmKCFtZXRhKXsgbWV0YSA9IHt9IH1cbiAgICAgIGZvcihsZXQga2V5IGluIHZhbHVlKXsgbWV0YVtrZXldID0gdmFsdWVba2V5XSB9XG4gICAgfVxuICAgIHJldHVybiBtZXRhXG4gIH1cblxuICBwdXNoRXZlbnQodHlwZSwgZWwsIHRhcmdldEN0eCwgcGh4RXZlbnQsIG1ldGEsIG9wdHMgPSB7fSl7XG4gICAgdGhpcy5wdXNoV2l0aFJlcGx5KCgpID0+IHRoaXMucHV0UmVmKFtlbF0sIHR5cGUsIG9wdHMpLCBcImV2ZW50XCIsIHtcbiAgICAgIHR5cGU6IHR5cGUsXG4gICAgICBldmVudDogcGh4RXZlbnQsXG4gICAgICB2YWx1ZTogdGhpcy5leHRyYWN0TWV0YShlbCwgbWV0YSwgb3B0cy52YWx1ZSksXG4gICAgICBjaWQ6IHRoaXMudGFyZ2V0Q29tcG9uZW50SUQoZWwsIHRhcmdldEN0eCwgb3B0cylcbiAgICB9KVxuICB9XG5cbiAgcHVzaEZpbGVQcm9ncmVzcyhmaWxlRWwsIGVudHJ5UmVmLCBwcm9ncmVzcywgb25SZXBseSA9IGZ1bmN0aW9uICgpeyB9KXtcbiAgICB0aGlzLmxpdmVTb2NrZXQud2l0aGluT3duZXJzKGZpbGVFbC5mb3JtLCAodmlldywgdGFyZ2V0Q3R4KSA9PiB7XG4gICAgICB2aWV3LnB1c2hXaXRoUmVwbHkobnVsbCwgXCJwcm9ncmVzc1wiLCB7XG4gICAgICAgIGV2ZW50OiBmaWxlRWwuZ2V0QXR0cmlidXRlKHZpZXcuYmluZGluZyhQSFhfUFJPR1JFU1MpKSxcbiAgICAgICAgcmVmOiBmaWxlRWwuZ2V0QXR0cmlidXRlKFBIWF9VUExPQURfUkVGKSxcbiAgICAgICAgZW50cnlfcmVmOiBlbnRyeVJlZixcbiAgICAgICAgcHJvZ3Jlc3M6IHByb2dyZXNzLFxuICAgICAgICBjaWQ6IHZpZXcudGFyZ2V0Q29tcG9uZW50SUQoZmlsZUVsLmZvcm0sIHRhcmdldEN0eClcbiAgICAgIH0sIG9uUmVwbHkpXG4gICAgfSlcbiAgfVxuXG4gIHB1c2hJbnB1dChpbnB1dEVsLCB0YXJnZXRDdHgsIGZvcmNlQ2lkLCBwaHhFdmVudCwgb3B0cywgY2FsbGJhY2spe1xuICAgIGxldCB1cGxvYWRzXG4gICAgbGV0IGNpZCA9IGlzQ2lkKGZvcmNlQ2lkKSA/IGZvcmNlQ2lkIDogdGhpcy50YXJnZXRDb21wb25lbnRJRChpbnB1dEVsLmZvcm0sIHRhcmdldEN0eClcbiAgICBsZXQgcmVmR2VuZXJhdG9yID0gKCkgPT4gdGhpcy5wdXRSZWYoW2lucHV0RWwsIGlucHV0RWwuZm9ybV0sIFwiY2hhbmdlXCIsIG9wdHMpXG4gICAgbGV0IGZvcm1EYXRhXG4gICAgaWYoaW5wdXRFbC5nZXRBdHRyaWJ1dGUodGhpcy5iaW5kaW5nKFwiY2hhbmdlXCIpKSl7XG4gICAgICBmb3JtRGF0YSA9IHNlcmlhbGl6ZUZvcm0oaW5wdXRFbC5mb3JtLCB7X3RhcmdldDogb3B0cy5fdGFyZ2V0fSwgW2lucHV0RWwubmFtZV0pXG4gICAgfSBlbHNlIHtcbiAgICAgIGZvcm1EYXRhID0gc2VyaWFsaXplRm9ybShpbnB1dEVsLmZvcm0sIHtfdGFyZ2V0OiBvcHRzLl90YXJnZXR9KVxuICAgIH1cbiAgICBpZihET00uaXNVcGxvYWRJbnB1dChpbnB1dEVsKSAmJiBpbnB1dEVsLmZpbGVzICYmIGlucHV0RWwuZmlsZXMubGVuZ3RoID4gMCl7XG4gICAgICBMaXZlVXBsb2FkZXIudHJhY2tGaWxlcyhpbnB1dEVsLCBBcnJheS5mcm9tKGlucHV0RWwuZmlsZXMpKVxuICAgIH1cbiAgICB1cGxvYWRzID0gTGl2ZVVwbG9hZGVyLnNlcmlhbGl6ZVVwbG9hZHMoaW5wdXRFbClcbiAgICBsZXQgZXZlbnQgPSB7XG4gICAgICB0eXBlOiBcImZvcm1cIixcbiAgICAgIGV2ZW50OiBwaHhFdmVudCxcbiAgICAgIHZhbHVlOiBmb3JtRGF0YSxcbiAgICAgIHVwbG9hZHM6IHVwbG9hZHMsXG4gICAgICBjaWQ6IGNpZFxuICAgIH1cbiAgICB0aGlzLnB1c2hXaXRoUmVwbHkocmVmR2VuZXJhdG9yLCBcImV2ZW50XCIsIGV2ZW50LCByZXNwID0+IHtcbiAgICAgIERPTS5zaG93RXJyb3IoaW5wdXRFbCwgdGhpcy5saXZlU29ja2V0LmJpbmRpbmcoUEhYX0ZFRURCQUNLX0ZPUikpXG4gICAgICBpZihET00uaXNVcGxvYWRJbnB1dChpbnB1dEVsKSAmJiBpbnB1dEVsLmdldEF0dHJpYnV0ZShcImRhdGEtcGh4LWF1dG8tdXBsb2FkXCIpICE9PSBudWxsKXtcbiAgICAgICAgaWYoTGl2ZVVwbG9hZGVyLmZpbGVzQXdhaXRpbmdQcmVmbGlnaHQoaW5wdXRFbCkubGVuZ3RoID4gMCl7XG4gICAgICAgICAgbGV0IFtyZWYsIF9lbHNdID0gcmVmR2VuZXJhdG9yKClcbiAgICAgICAgICB0aGlzLnVwbG9hZEZpbGVzKGlucHV0RWwuZm9ybSwgdGFyZ2V0Q3R4LCByZWYsIGNpZCwgKF91cGxvYWRzKSA9PiB7XG4gICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhyZXNwKVxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyQXdhaXRpbmdTdWJtaXQoaW5wdXRFbC5mb3JtKVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKHJlc3ApXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIHRyaWdnZXJBd2FpdGluZ1N1Ym1pdChmb3JtRWwpe1xuICAgIGxldCBhd2FpdGluZ1N1Ym1pdCA9IHRoaXMuZ2V0U2NoZWR1bGVkU3VibWl0KGZvcm1FbClcbiAgICBpZihhd2FpdGluZ1N1Ym1pdCl7XG4gICAgICBsZXQgW19lbCwgX3JlZiwgX29wdHMsIGNhbGxiYWNrXSA9IGF3YWl0aW5nU3VibWl0XG4gICAgICB0aGlzLmNhbmNlbFN1Ym1pdChmb3JtRWwpXG4gICAgICBjYWxsYmFjaygpXG4gICAgfVxuICB9XG5cbiAgZ2V0U2NoZWR1bGVkU3VibWl0KGZvcm1FbCl7XG4gICAgcmV0dXJuIHRoaXMuZm9ybVN1Ym1pdHMuZmluZCgoW2VsLCBfcmVmLCBfb3B0cywgX2NhbGxiYWNrXSkgPT4gZWwuaXNTYW1lTm9kZShmb3JtRWwpKVxuICB9XG5cbiAgc2NoZWR1bGVTdWJtaXQoZm9ybUVsLCByZWYsIG9wdHMsIGNhbGxiYWNrKXtcbiAgICBpZih0aGlzLmdldFNjaGVkdWxlZFN1Ym1pdChmb3JtRWwpKXsgcmV0dXJuIHRydWUgfVxuICAgIHRoaXMuZm9ybVN1Ym1pdHMucHVzaChbZm9ybUVsLCByZWYsIG9wdHMsIGNhbGxiYWNrXSlcbiAgfVxuXG4gIGNhbmNlbFN1Ym1pdChmb3JtRWwpe1xuICAgIHRoaXMuZm9ybVN1Ym1pdHMgPSB0aGlzLmZvcm1TdWJtaXRzLmZpbHRlcigoW2VsLCByZWYsIF9jYWxsYmFja10pID0+IHtcbiAgICAgIGlmKGVsLmlzU2FtZU5vZGUoZm9ybUVsKSl7XG4gICAgICAgIHRoaXMudW5kb1JlZnMocmVmKVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIHB1c2hGb3JtU3VibWl0KGZvcm1FbCwgdGFyZ2V0Q3R4LCBwaHhFdmVudCwgb3B0cywgb25SZXBseSl7XG4gICAgbGV0IGZpbHRlcklnbm9yZWQgPSBlbCA9PiB7XG4gICAgICBsZXQgdXNlcklnbm9yZWQgPSBjbG9zZXN0UGh4QmluZGluZyhlbCwgYCR7dGhpcy5iaW5kaW5nKFBIWF9VUERBVEUpfT1pZ25vcmVgLCBlbC5mb3JtKVxuICAgICAgcmV0dXJuICEodXNlcklnbm9yZWQgfHwgY2xvc2VzdFBoeEJpbmRpbmcoZWwsIFwiZGF0YS1waHgtdXBkYXRlPWlnbm9yZVwiLCBlbC5mb3JtKSlcbiAgICB9XG4gICAgbGV0IGZpbHRlckRpc2FibGVzID0gZWwgPT4ge1xuICAgICAgcmV0dXJuIGVsLmhhc0F0dHJpYnV0ZSh0aGlzLmJpbmRpbmcoUEhYX0RJU0FCTEVfV0lUSCkpXG4gICAgfVxuICAgIGxldCBmaWx0ZXJCdXR0b24gPSBlbCA9PiBlbC50YWdOYW1lID09IFwiQlVUVE9OXCJcblxuICAgIGxldCBmaWx0ZXJJbnB1dCA9IGVsID0+IFtcIklOUFVUXCIsIFwiVEVYVEFSRUFcIiwgXCJTRUxFQ1RcIl0uaW5jbHVkZXMoZWwudGFnTmFtZSlcblxuICAgIGxldCByZWZHZW5lcmF0b3IgPSAoKSA9PiB7XG4gICAgICBsZXQgZm9ybUVsZW1lbnRzID0gQXJyYXkuZnJvbShmb3JtRWwuZWxlbWVudHMpXG4gICAgICBsZXQgZGlzYWJsZXMgPSBmb3JtRWxlbWVudHMuZmlsdGVyKGZpbHRlckRpc2FibGVzKVxuICAgICAgbGV0IGJ1dHRvbnMgPSBmb3JtRWxlbWVudHMuZmlsdGVyKGZpbHRlckJ1dHRvbikuZmlsdGVyKGZpbHRlcklnbm9yZWQpXG4gICAgICBsZXQgaW5wdXRzID0gZm9ybUVsZW1lbnRzLmZpbHRlcihmaWx0ZXJJbnB1dCkuZmlsdGVyKGZpbHRlcklnbm9yZWQpXG5cbiAgICAgIGJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4ge1xuICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKFBIWF9ESVNBQkxFRCwgYnV0dG9uLmRpc2FibGVkKVxuICAgICAgICBidXR0b24uZGlzYWJsZWQgPSB0cnVlXG4gICAgICB9KVxuICAgICAgaW5wdXRzLmZvckVhY2goaW5wdXQgPT4ge1xuICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoUEhYX1JFQURPTkxZLCBpbnB1dC5yZWFkT25seSlcbiAgICAgICAgaW5wdXQucmVhZE9ubHkgPSB0cnVlXG4gICAgICAgIGlmKGlucHV0LmZpbGVzKXtcbiAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoUEhYX0RJU0FCTEVELCBpbnB1dC5kaXNhYmxlZClcbiAgICAgICAgICBpbnB1dC5kaXNhYmxlZCA9IHRydWVcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIGZvcm1FbC5zZXRBdHRyaWJ1dGUodGhpcy5iaW5kaW5nKFBIWF9QQUdFX0xPQURJTkcpLCBcIlwiKVxuICAgICAgcmV0dXJuIHRoaXMucHV0UmVmKFtmb3JtRWxdLmNvbmNhdChkaXNhYmxlcykuY29uY2F0KGJ1dHRvbnMpLmNvbmNhdChpbnB1dHMpLCBcInN1Ym1pdFwiLCBvcHRzKVxuICAgIH1cblxuICAgIGxldCBjaWQgPSB0aGlzLnRhcmdldENvbXBvbmVudElEKGZvcm1FbCwgdGFyZ2V0Q3R4KVxuICAgIGlmKExpdmVVcGxvYWRlci5oYXNVcGxvYWRzSW5Qcm9ncmVzcyhmb3JtRWwpKXtcbiAgICAgIGxldCBbcmVmLCBfZWxzXSA9IHJlZkdlbmVyYXRvcigpXG4gICAgICBsZXQgcHVzaCA9ICgpID0+IHRoaXMucHVzaEZvcm1TdWJtaXQoZm9ybUVsLCB0YXJnZXRDdHgsIHBoeEV2ZW50LCBvcHRzLCBvblJlcGx5KVxuICAgICAgcmV0dXJuIHRoaXMuc2NoZWR1bGVTdWJtaXQoZm9ybUVsLCByZWYsIG9wdHMsIHB1c2gpXG4gICAgfSBlbHNlIGlmKExpdmVVcGxvYWRlci5pbnB1dHNBd2FpdGluZ1ByZWZsaWdodChmb3JtRWwpLmxlbmd0aCA+IDApe1xuICAgICAgbGV0IFtyZWYsIGVsc10gPSByZWZHZW5lcmF0b3IoKVxuICAgICAgbGV0IHByb3h5UmVmR2VuID0gKCkgPT4gW3JlZiwgZWxzLCBvcHRzXVxuICAgICAgdGhpcy51cGxvYWRGaWxlcyhmb3JtRWwsIHRhcmdldEN0eCwgcmVmLCBjaWQsIChfdXBsb2FkcykgPT4ge1xuICAgICAgICBsZXQgZm9ybURhdGEgPSBzZXJpYWxpemVGb3JtKGZvcm1FbCwge30pXG4gICAgICAgIHRoaXMucHVzaFdpdGhSZXBseShwcm94eVJlZkdlbiwgXCJldmVudFwiLCB7XG4gICAgICAgICAgdHlwZTogXCJmb3JtXCIsXG4gICAgICAgICAgZXZlbnQ6IHBoeEV2ZW50LFxuICAgICAgICAgIHZhbHVlOiBmb3JtRGF0YSxcbiAgICAgICAgICBjaWQ6IGNpZFxuICAgICAgICB9LCBvblJlcGx5KVxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGZvcm1EYXRhID0gc2VyaWFsaXplRm9ybShmb3JtRWwsIHt9KVxuICAgICAgdGhpcy5wdXNoV2l0aFJlcGx5KHJlZkdlbmVyYXRvciwgXCJldmVudFwiLCB7XG4gICAgICAgIHR5cGU6IFwiZm9ybVwiLFxuICAgICAgICBldmVudDogcGh4RXZlbnQsXG4gICAgICAgIHZhbHVlOiBmb3JtRGF0YSxcbiAgICAgICAgY2lkOiBjaWRcbiAgICAgIH0sIG9uUmVwbHkpXG4gICAgfVxuICB9XG5cbiAgdXBsb2FkRmlsZXMoZm9ybUVsLCB0YXJnZXRDdHgsIHJlZiwgY2lkLCBvbkNvbXBsZXRlKXtcbiAgICBsZXQgam9pbkNvdW50QXRVcGxvYWQgPSB0aGlzLmpvaW5Db3VudFxuICAgIGxldCBpbnB1dEVscyA9IExpdmVVcGxvYWRlci5hY3RpdmVGaWxlSW5wdXRzKGZvcm1FbClcbiAgICBsZXQgbnVtRmlsZUlucHV0c0luUHJvZ3Jlc3MgPSBpbnB1dEVscy5sZW5ndGhcblxuICAgIC8vIGdldCBlYWNoIGZpbGUgaW5wdXRcbiAgICBpbnB1dEVscy5mb3JFYWNoKGlucHV0RWwgPT4ge1xuICAgICAgbGV0IHVwbG9hZGVyID0gbmV3IExpdmVVcGxvYWRlcihpbnB1dEVsLCB0aGlzLCAoKSA9PiB7XG4gICAgICAgIG51bUZpbGVJbnB1dHNJblByb2dyZXNzLS1cbiAgICAgICAgaWYobnVtRmlsZUlucHV0c0luUHJvZ3Jlc3MgPT09IDApeyBvbkNvbXBsZXRlKCkgfVxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMudXBsb2FkZXJzW2lucHV0RWxdID0gdXBsb2FkZXJcbiAgICAgIGxldCBlbnRyaWVzID0gdXBsb2FkZXIuZW50cmllcygpLm1hcChlbnRyeSA9PiBlbnRyeS50b1ByZWZsaWdodFBheWxvYWQoKSlcblxuICAgICAgbGV0IHBheWxvYWQgPSB7XG4gICAgICAgIHJlZjogaW5wdXRFbC5nZXRBdHRyaWJ1dGUoUEhYX1VQTE9BRF9SRUYpLFxuICAgICAgICBlbnRyaWVzOiBlbnRyaWVzLFxuICAgICAgICBjaWQ6IHRoaXMudGFyZ2V0Q29tcG9uZW50SUQoaW5wdXRFbC5mb3JtLCB0YXJnZXRDdHgpXG4gICAgICB9XG5cbiAgICAgIHRoaXMubG9nKFwidXBsb2FkXCIsICgpID0+IFtcInNlbmRpbmcgcHJlZmxpZ2h0IHJlcXVlc3RcIiwgcGF5bG9hZF0pXG5cbiAgICAgIHRoaXMucHVzaFdpdGhSZXBseShudWxsLCBcImFsbG93X3VwbG9hZFwiLCBwYXlsb2FkLCByZXNwID0+IHtcbiAgICAgICAgdGhpcy5sb2coXCJ1cGxvYWRcIiwgKCkgPT4gW1wiZ290IHByZWZsaWdodCByZXNwb25zZVwiLCByZXNwXSlcbiAgICAgICAgaWYocmVzcC5lcnJvcil7XG4gICAgICAgICAgdGhpcy51bmRvUmVmcyhyZWYpXG4gICAgICAgICAgbGV0IFtlbnRyeV9yZWYsIHJlYXNvbl0gPSByZXNwLmVycm9yXG4gICAgICAgICAgdGhpcy5sb2coXCJ1cGxvYWRcIiwgKCkgPT4gW2BlcnJvciBmb3IgZW50cnkgJHtlbnRyeV9yZWZ9YCwgcmVhc29uXSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZXQgb25FcnJvciA9IChjYWxsYmFjaykgPT4ge1xuICAgICAgICAgICAgdGhpcy5jaGFubmVsLm9uRXJyb3IoKCkgPT4ge1xuICAgICAgICAgICAgICBpZih0aGlzLmpvaW5Db3VudCA9PT0gam9pbkNvdW50QXRVcGxvYWQpeyBjYWxsYmFjaygpIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICAgIHVwbG9hZGVyLmluaXRBZGFwdGVyVXBsb2FkKHJlc3AsIG9uRXJyb3IsIHRoaXMubGl2ZVNvY2tldClcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgZGlzcGF0Y2hVcGxvYWRzKG5hbWUsIGZpbGVzT3JCbG9icyl7XG4gICAgbGV0IGlucHV0cyA9IERPTS5maW5kVXBsb2FkSW5wdXRzKHRoaXMuZWwpLmZpbHRlcihlbCA9PiBlbC5uYW1lID09PSBuYW1lKVxuICAgIGlmKGlucHV0cy5sZW5ndGggPT09IDApeyBsb2dFcnJvcihgbm8gbGl2ZSBmaWxlIGlucHV0cyBmb3VuZCBtYXRjaGluZyB0aGUgbmFtZSBcIiR7bmFtZX1cImApIH1cbiAgICBlbHNlIGlmKGlucHV0cy5sZW5ndGggPiAxKXsgbG9nRXJyb3IoYGR1cGxpY2F0ZSBsaXZlIGZpbGUgaW5wdXRzIGZvdW5kIG1hdGNoaW5nIHRoZSBuYW1lIFwiJHtuYW1lfVwiYCkgfVxuICAgIGVsc2UgeyBET00uZGlzcGF0Y2hFdmVudChpbnB1dHNbMF0sIFBIWF9UUkFDS19VUExPQURTLCB7ZGV0YWlsOiB7ZmlsZXM6IGZpbGVzT3JCbG9ic319KSB9XG4gIH1cblxuICBwdXNoRm9ybVJlY292ZXJ5KGZvcm0sIG5ld0NpZCwgY2FsbGJhY2spe1xuICAgIHRoaXMubGl2ZVNvY2tldC53aXRoaW5Pd25lcnMoZm9ybSwgKHZpZXcsIHRhcmdldEN0eCkgPT4ge1xuICAgICAgbGV0IGlucHV0ID0gZm9ybS5lbGVtZW50c1swXVxuICAgICAgbGV0IHBoeEV2ZW50ID0gZm9ybS5nZXRBdHRyaWJ1dGUodGhpcy5iaW5kaW5nKFBIWF9BVVRPX1JFQ09WRVIpKSB8fCBmb3JtLmdldEF0dHJpYnV0ZSh0aGlzLmJpbmRpbmcoXCJjaGFuZ2VcIikpXG5cbiAgICAgIEpTLmV4ZWMoXCJjaGFuZ2VcIiwgcGh4RXZlbnQsIHZpZXcsIGlucHV0LCBbXCJwdXNoXCIsIHtfdGFyZ2V0OiBpbnB1dC5uYW1lLCBuZXdDaWQ6IG5ld0NpZCwgY2FsbGJhY2s6IGNhbGxiYWNrfV0pXG4gICAgfSlcbiAgfVxuXG4gIHB1c2hMaW5rUGF0Y2goaHJlZiwgdGFyZ2V0RWwsIGNhbGxiYWNrKXtcbiAgICBsZXQgbGlua1JlZiA9IHRoaXMubGl2ZVNvY2tldC5zZXRQZW5kaW5nTGluayhocmVmKVxuICAgIGxldCByZWZHZW4gPSB0YXJnZXRFbCA/ICgpID0+IHRoaXMucHV0UmVmKFt0YXJnZXRFbF0sIFwiY2xpY2tcIikgOiBudWxsXG4gICAgbGV0IGZhbGxiYWNrID0gKCkgPT4gdGhpcy5saXZlU29ja2V0LnJlZGlyZWN0KHdpbmRvdy5sb2NhdGlvbi5ocmVmKVxuXG4gICAgbGV0IHB1c2ggPSB0aGlzLnB1c2hXaXRoUmVwbHkocmVmR2VuLCBcImxpdmVfcGF0Y2hcIiwge3VybDogaHJlZn0sIHJlc3AgPT4ge1xuICAgICAgdGhpcy5saXZlU29ja2V0LnJlcXVlc3RET01VcGRhdGUoKCkgPT4ge1xuICAgICAgICBpZihyZXNwLmxpbmtfcmVkaXJlY3Qpe1xuICAgICAgICAgIHRoaXMubGl2ZVNvY2tldC5yZXBsYWNlTWFpbihocmVmLCBudWxsLCBjYWxsYmFjaywgbGlua1JlZilcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZih0aGlzLmxpdmVTb2NrZXQuY29tbWl0UGVuZGluZ0xpbmsobGlua1JlZikpe1xuICAgICAgICAgICAgdGhpcy5ocmVmID0gaHJlZlxuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmFwcGx5UGVuZGluZ1VwZGF0ZXMoKVxuICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGxpbmtSZWYpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSlcblxuICAgIGlmKHB1c2gpe1xuICAgICAgcHVzaC5yZWNlaXZlKFwidGltZW91dFwiLCBmYWxsYmFjaylcbiAgICB9IGVsc2Uge1xuICAgICAgZmFsbGJhY2soKVxuICAgIH1cbiAgfVxuXG4gIGZvcm1zRm9yUmVjb3ZlcnkoaHRtbCl7XG4gICAgaWYodGhpcy5qb2luQ291bnQgPT09IDApeyByZXR1cm4gW10gfVxuXG4gICAgbGV0IHBoeENoYW5nZSA9IHRoaXMuYmluZGluZyhcImNoYW5nZVwiKVxuICAgIGxldCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZW1wbGF0ZVwiKVxuICAgIHRlbXBsYXRlLmlubmVySFRNTCA9IGh0bWxcblxuICAgIHJldHVybiAoXG4gICAgICBET00uYWxsKHRoaXMuZWwsIGBmb3JtWyR7cGh4Q2hhbmdlfV1gKVxuICAgICAgICAuZmlsdGVyKGZvcm0gPT4gZm9ybS5pZCAmJiB0aGlzLm93bnNFbGVtZW50KGZvcm0pKVxuICAgICAgICAuZmlsdGVyKGZvcm0gPT4gZm9ybS5lbGVtZW50cy5sZW5ndGggPiAwKVxuICAgICAgICAuZmlsdGVyKGZvcm0gPT4gZm9ybS5nZXRBdHRyaWJ1dGUodGhpcy5iaW5kaW5nKFBIWF9BVVRPX1JFQ09WRVIpKSAhPT0gXCJpZ25vcmVcIilcbiAgICAgICAgLm1hcChmb3JtID0+IHtcbiAgICAgICAgICBsZXQgbmV3Rm9ybSA9IHRlbXBsYXRlLmNvbnRlbnQucXVlcnlTZWxlY3RvcihgZm9ybVtpZD1cIiR7Zm9ybS5pZH1cIl1bJHtwaHhDaGFuZ2V9PVwiJHtmb3JtLmdldEF0dHJpYnV0ZShwaHhDaGFuZ2UpfVwiXWApXG4gICAgICAgICAgaWYobmV3Rm9ybSl7XG4gICAgICAgICAgICByZXR1cm4gW2Zvcm0sIG5ld0Zvcm0sIHRoaXMudGFyZ2V0Q29tcG9uZW50SUQobmV3Rm9ybSldXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBbZm9ybSwgbnVsbCwgbnVsbF1cbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5maWx0ZXIoKFtmb3JtLCBuZXdGb3JtLCBuZXdDaWRdKSA9PiBuZXdGb3JtKVxuICAgIClcbiAgfVxuXG4gIG1heWJlUHVzaENvbXBvbmVudHNEZXN0cm95ZWQoZGVzdHJveWVkQ0lEcyl7XG4gICAgbGV0IHdpbGxEZXN0cm95Q0lEcyA9IGRlc3Ryb3llZENJRHMuZmlsdGVyKGNpZCA9PiB7XG4gICAgICByZXR1cm4gRE9NLmZpbmRDb21wb25lbnROb2RlTGlzdCh0aGlzLmVsLCBjaWQpLmxlbmd0aCA9PT0gMFxuICAgIH0pXG4gICAgaWYod2lsbERlc3Ryb3lDSURzLmxlbmd0aCA+IDApe1xuICAgICAgdGhpcy5wcnVuaW5nQ0lEcy5wdXNoKC4uLndpbGxEZXN0cm95Q0lEcylcblxuICAgICAgdGhpcy5wdXNoV2l0aFJlcGx5KG51bGwsIFwiY2lkc193aWxsX2Rlc3Ryb3lcIiwge2NpZHM6IHdpbGxEZXN0cm95Q0lEc30sICgpID0+IHtcbiAgICAgICAgLy8gVGhlIGNpZHMgYXJlIGVpdGhlciBiYWNrIG9uIHRoZSBwYWdlIG9yIHRoZXkgd2lsbCBiZSBmdWxseSByZW1vdmVkLFxuICAgICAgICAvLyBzbyB3ZSBjYW4gcmVtb3ZlIHRoZW0gZnJvbSB0aGUgcHJ1bmluZ0NJRHMuXG4gICAgICAgIHRoaXMucHJ1bmluZ0NJRHMgPSB0aGlzLnBydW5pbmdDSURzLmZpbHRlcihjaWQgPT4gd2lsbERlc3Ryb3lDSURzLmluZGV4T2YoY2lkKSAhPT0gLTEpXG5cbiAgICAgICAgLy8gU2VlIGlmIGFueSBvZiB0aGUgY2lkcyB3ZSB3YW50ZWQgdG8gZGVzdHJveSB3ZXJlIGFkZGVkIGJhY2ssXG4gICAgICAgIC8vIGlmIHRoZXkgd2VyZSBhZGRlZCBiYWNrLCB3ZSBkb24ndCBhY3R1YWxseSBkZXN0cm95IHRoZW0uXG4gICAgICAgIGxldCBjb21wbGV0ZWx5RGVzdHJveUNJRHMgPSB3aWxsRGVzdHJveUNJRHMuZmlsdGVyKGNpZCA9PiB7XG4gICAgICAgICAgcmV0dXJuIERPTS5maW5kQ29tcG9uZW50Tm9kZUxpc3QodGhpcy5lbCwgY2lkKS5sZW5ndGggPT09IDBcbiAgICAgICAgfSlcblxuICAgICAgICBpZihjb21wbGV0ZWx5RGVzdHJveUNJRHMubGVuZ3RoID4gMCl7XG4gICAgICAgICAgdGhpcy5wdXNoV2l0aFJlcGx5KG51bGwsIFwiY2lkc19kZXN0cm95ZWRcIiwge2NpZHM6IGNvbXBsZXRlbHlEZXN0cm95Q0lEc30sIChyZXNwKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVkLnBydW5lQ0lEcyhyZXNwLmNpZHMpXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBvd25zRWxlbWVudChlbCl7XG4gICAgcmV0dXJuIGVsLmdldEF0dHJpYnV0ZShQSFhfUEFSRU5UX0lEKSA9PT0gdGhpcy5pZCB8fFxuICAgICAgbWF5YmUoZWwuY2xvc2VzdChQSFhfVklFV19TRUxFQ1RPUiksIG5vZGUgPT4gbm9kZS5pZCkgPT09IHRoaXMuaWRcbiAgfVxuXG4gIHN1Ym1pdEZvcm0oZm9ybSwgdGFyZ2V0Q3R4LCBwaHhFdmVudCwgb3B0cyA9IHt9KXtcbiAgICBET00ucHV0UHJpdmF0ZShmb3JtLCBQSFhfSEFTX1NVQk1JVFRFRCwgdHJ1ZSlcbiAgICBsZXQgcGh4RmVlZGJhY2sgPSB0aGlzLmxpdmVTb2NrZXQuYmluZGluZyhQSFhfRkVFREJBQ0tfRk9SKVxuICAgIGxldCBpbnB1dHMgPSBBcnJheS5mcm9tKGZvcm0uZWxlbWVudHMpXG4gICAgdGhpcy5saXZlU29ja2V0LmJsdXJBY3RpdmVFbGVtZW50KHRoaXMpXG4gICAgdGhpcy5wdXNoRm9ybVN1Ym1pdChmb3JtLCB0YXJnZXRDdHgsIHBoeEV2ZW50LCBvcHRzLCAoKSA9PiB7XG4gICAgICBpbnB1dHMuZm9yRWFjaChpbnB1dCA9PiBET00uc2hvd0Vycm9yKGlucHV0LCBwaHhGZWVkYmFjaykpXG4gICAgICB0aGlzLmxpdmVTb2NrZXQucmVzdG9yZVByZXZpb3VzbHlBY3RpdmVGb2N1cygpXG4gICAgfSlcbiAgfVxuXG4gIGJpbmRpbmcoa2luZCl7IHJldHVybiB0aGlzLmxpdmVTb2NrZXQuYmluZGluZyhraW5kKSB9XG59XG4iLCAiLyoqIEluaXRpYWxpemVzIHRoZSBMaXZlU29ja2V0XG4gKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBlbmRQb2ludCAtIFRoZSBzdHJpbmcgV2ViU29ja2V0IGVuZHBvaW50LCBpZSwgYFwid3NzOi8vZXhhbXBsZS5jb20vbGl2ZVwiYCxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgXCIvbGl2ZVwiYCAoaW5oZXJpdGVkIGhvc3QgJiBwcm90b2NvbClcbiAqIEBwYXJhbSB7UGhvZW5peC5Tb2NrZXR9IHNvY2tldCAtIHRoZSByZXF1aXJlZCBQaG9lbml4IFNvY2tldCBjbGFzcyBpbXBvcnRlZCBmcm9tIFwicGhvZW5peFwiLiBGb3IgZXhhbXBsZTpcbiAqXG4gKiAgICAgaW1wb3J0IHtTb2NrZXR9IGZyb20gXCJwaG9lbml4XCJcbiAqICAgICBpbXBvcnQge0xpdmVTb2NrZXR9IGZyb20gXCJwaG9lbml4X2xpdmVfdmlld1wiXG4gKiAgICAgbGV0IGxpdmVTb2NrZXQgPSBuZXcgTGl2ZVNvY2tldChcIi9saXZlXCIsIFNvY2tldCwgey4uLn0pXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRzXSAtIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24uIE91dHNpZGUgb2Yga2V5cyBsaXN0ZWQgYmVsb3csIGFsbFxuICogY29uZmlndXJhdGlvbiBpcyBwYXNzZWQgZGlyZWN0bHkgdG8gdGhlIFBob2VuaXggU29ja2V0IGNvbnN0cnVjdG9yLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRzLmRlZmF1bHRzXSAtIFRoZSBvcHRpb25hbCBkZWZhdWx0cyB0byB1c2UgZm9yIHZhcmlvdXMgYmluZGluZ3MsXG4gKiBzdWNoIGFzIGBwaHgtZGVib3VuY2VgLiBTdXBwb3J0cyB0aGUgZm9sbG93aW5nIGtleXM6XG4gKlxuICogICAtIGRlYm91bmNlIC0gdGhlIG1pbGxpc2Vjb25kIHBoeC1kZWJvdW5jZSB0aW1lLiBEZWZhdWx0cyAzMDBcbiAqICAgLSB0aHJvdHRsZSAtIHRoZSBtaWxsaXNlY29uZCBwaHgtdGhyb3R0bGUgdGltZS4gRGVmYXVsdHMgMzAwXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdHMucGFyYW1zXSAtIFRoZSBvcHRpb25hbCBmdW5jdGlvbiBmb3IgcGFzc2luZyBjb25uZWN0IHBhcmFtcy5cbiAqIFRoZSBmdW5jdGlvbiByZWNlaXZlcyB0aGUgZWxlbWVudCBhc3NvY2lhdGVkIHdpdGggYSBnaXZlbiBMaXZlVmlldy4gRm9yIGV4YW1wbGU6XG4gKlxuICogICAgIChlbCkgPT4ge3ZpZXc6IGVsLmdldEF0dHJpYnV0ZShcImRhdGEtbXktdmlldy1uYW1lXCIsIHRva2VuOiB3aW5kb3cubXlUb2tlbn1cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdHMuYmluZGluZ1ByZWZpeF0gLSBUaGUgb3B0aW9uYWwgcHJlZml4IHRvIHVzZSBmb3IgYWxsIHBoeCBET00gYW5ub3RhdGlvbnMuXG4gKiBEZWZhdWx0cyB0byBcInBoeC1cIi5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0cy5ob29rc10gLSBUaGUgb3B0aW9uYWwgb2JqZWN0IGZvciByZWZlcmVuY2luZyBMaXZlVmlldyBob29rIGNhbGxiYWNrcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0cy51cGxvYWRlcnNdIC0gVGhlIG9wdGlvbmFsIG9iamVjdCBmb3IgcmVmZXJlbmNpbmcgTGl2ZVZpZXcgdXBsb2FkZXIgY2FsbGJhY2tzLlxuICogQHBhcmFtIHtpbnRlZ2VyfSBbb3B0cy5sb2FkZXJUaW1lb3V0XSAtIFRoZSBvcHRpb25hbCBkZWxheSBpbiBtaWxsaXNlY29uZHMgdG8gd2FpdCBiZWZvcmUgYXBwbHlcbiAqIGxvYWRpbmcgc3RhdGVzLlxuICogQHBhcmFtIHtpbnRlZ2VyfSBbb3B0cy5tYXhSZWxvYWRzXSAtIFRoZSBtYXhpbXVtIHJlbG9hZHMgYmVmb3JlIGVudGVyaW5nIGZhaWxzYWZlIG1vZGUuXG4gKiBAcGFyYW0ge2ludGVnZXJ9IFtvcHRzLnJlbG9hZEppdHRlck1pbl0gLSBUaGUgbWluaW11bSB0aW1lIGJldHdlZW4gbm9ybWFsIHJlbG9hZCBhdHRlbXB0cy5cbiAqIEBwYXJhbSB7aW50ZWdlcn0gW29wdHMucmVsb2FkSml0dGVyTWF4XSAtIFRoZSBtYXhpbXVtIHRpbWUgYmV0d2VlbiBub3JtYWwgcmVsb2FkIGF0dGVtcHRzLlxuICogQHBhcmFtIHtpbnRlZ2VyfSBbb3B0cy5mYWlsc2FmZUppdHRlcl0gLSBUaGUgdGltZSBiZXR3ZWVuIHJlbG9hZCBhdHRlbXB0cyBpbiBmYWlsc2FmZSBtb2RlLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdHMudmlld0xvZ2dlcl0gLSBUaGUgb3B0aW9uYWwgZnVuY3Rpb24gdG8gbG9nIGRlYnVnIGluZm9ybWF0aW9uLiBGb3IgZXhhbXBsZTpcbiAqXG4gKiAgICAgKHZpZXcsIGtpbmQsIG1zZywgb2JqKSA9PiBjb25zb2xlLmxvZyhgJHt2aWV3LmlkfSAke2tpbmR9OiAke21zZ30gLSBgLCBvYmopXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRzLm1ldGFkYXRhXSAtIFRoZSBvcHRpb25hbCBvYmplY3QgbWFwcGluZyBldmVudCBuYW1lcyB0byBmdW5jdGlvbnMgZm9yXG4gKiBwb3B1bGF0aW5nIGV2ZW50IG1ldGFkYXRhLiBGb3IgZXhhbXBsZTpcbiAqXG4gKiAgICAgbWV0YWRhdGE6IHtcbiAqICAgICAgIGNsaWNrOiAoZSwgZWwpID0+IHtcbiAqICAgICAgICAgcmV0dXJuIHtcbiAqICAgICAgICAgICBjdHJsS2V5OiBlLmN0cmxLZXksXG4gKiAgICAgICAgICAgbWV0YUtleTogZS5tZXRhS2V5LFxuICogICAgICAgICAgIGRldGFpbDogZS5kZXRhaWwgfHwgMSxcbiAqICAgICAgICAgfVxuICogICAgICAgfSxcbiAqICAgICAgIGtleWRvd246IChlLCBlbCkgPT4ge1xuICogICAgICAgICByZXR1cm4ge1xuICogICAgICAgICAgIGtleTogZS5rZXksXG4gKiAgICAgICAgICAgY3RybEtleTogZS5jdHJsS2V5LFxuICogICAgICAgICAgIG1ldGFLZXk6IGUubWV0YUtleSxcbiAqICAgICAgICAgICBzaGlmdEtleTogZS5zaGlmdEtleVxuICogICAgICAgICB9XG4gKiAgICAgICB9XG4gKiAgICAgfVxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRzLnNlc3Npb25TdG9yYWdlXSAtIEFuIG9wdGlvbmFsIFN0b3JhZ2UgY29tcGF0aWJsZSBvYmplY3RcbiAqIFVzZWZ1bCB3aGVuIExpdmVWaWV3IHdvbid0IGhhdmUgYWNjZXNzIHRvIGBzZXNzaW9uU3RvcmFnZWAuICBGb3IgZXhhbXBsZSwgVGhpcyBjb3VsZFxuICogaGFwcGVuIGlmIGEgc2l0ZSBsb2FkcyBhIGNyb3NzLWRvbWFpbiBMaXZlVmlldyBpbiBhbiBpZnJhbWUuICBFeGFtcGxlIHVzYWdlOlxuICpcbiAqICAgICBjbGFzcyBJbk1lbW9yeVN0b3JhZ2Uge1xuICogICAgICAgY29uc3RydWN0b3IoKSB7IHRoaXMuc3RvcmFnZSA9IHt9IH1cbiAqICAgICAgIGdldEl0ZW0oa2V5TmFtZSkgeyByZXR1cm4gdGhpcy5zdG9yYWdlW2tleU5hbWVdIH1cbiAqICAgICAgIHJlbW92ZUl0ZW0oa2V5TmFtZSkgeyBkZWxldGUgdGhpcy5zdG9yYWdlW2tleU5hbWVdIH1cbiAqICAgICAgIHNldEl0ZW0oa2V5TmFtZSwga2V5VmFsdWUpIHsgdGhpcy5zdG9yYWdlW2tleU5hbWVdID0ga2V5VmFsdWUgfVxuICogICAgIH1cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdHMubG9jYWxTdG9yYWdlXSAtIEFuIG9wdGlvbmFsIFN0b3JhZ2UgY29tcGF0aWJsZSBvYmplY3RcbiAqIFVzZWZ1bCBmb3Igd2hlbiBMaXZlVmlldyB3b24ndCBoYXZlIGFjY2VzcyB0byBgbG9jYWxTdG9yYWdlYC5cbiAqIFNlZSBgb3B0cy5zZXNzaW9uU3RvcmFnZWAgZm9yIGV4YW1wbGVzLlxuKi9cblxuaW1wb3J0IHtcbiAgQklORElOR19QUkVGSVgsXG4gIENPTlNFQ1VUSVZFX1JFTE9BRFMsXG4gIERFRkFVTFRTLFxuICBGQUlMU0FGRV9KSVRURVIsXG4gIExPQURFUl9USU1FT1VULFxuICBNQVhfUkVMT0FEUyxcbiAgUEhYX0RFQk9VTkNFLFxuICBQSFhfRFJPUF9UQVJHRVQsXG4gIFBIWF9IQVNfRk9DVVNFRCxcbiAgUEhYX0tFWSxcbiAgUEhYX0xJTktfU1RBVEUsXG4gIFBIWF9MSVZFX0xJTkssXG4gIFBIWF9MVl9ERUJVRyxcbiAgUEhYX0xWX0xBVEVOQ1lfU0lNLFxuICBQSFhfTFZfUFJPRklMRSxcbiAgUEhYX01BSU4sXG4gIFBIWF9QQVJFTlRfSUQsXG4gIFBIWF9WSUVXX1NFTEVDVE9SLFxuICBQSFhfUk9PVF9JRCxcbiAgUEhYX1RIUk9UVExFLFxuICBQSFhfVFJBQ0tfVVBMT0FEUyxcbiAgUEhYX1NFU1NJT04sXG4gIFJFTE9BRF9KSVRURVJfTUlOLFxuICBSRUxPQURfSklUVEVSX01BWCxcbn0gZnJvbSBcIi4vY29uc3RhbnRzXCJcblxuaW1wb3J0IHtcbiAgY2xvbmUsXG4gIGNsb3Nlc3RQaHhCaW5kaW5nLFxuICBjbG9zdXJlLFxuICBkZWJ1ZyxcbiAgaXNPYmplY3QsXG4gIG1heWJlXG59IGZyb20gXCIuL3V0aWxzXCJcblxuaW1wb3J0IEJyb3dzZXIgZnJvbSBcIi4vYnJvd3NlclwiXG5pbXBvcnQgRE9NIGZyb20gXCIuL2RvbVwiXG5pbXBvcnQgSG9va3MgZnJvbSBcIi4vaG9va3NcIlxuaW1wb3J0IExpdmVVcGxvYWRlciBmcm9tIFwiLi9saXZlX3VwbG9hZGVyXCJcbmltcG9ydCBWaWV3IGZyb20gXCIuL3ZpZXdcIlxuaW1wb3J0IEpTIGZyb20gXCIuL2pzXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGl2ZVNvY2tldCB7XG4gIGNvbnN0cnVjdG9yKHVybCwgcGh4U29ja2V0LCBvcHRzID0ge30pe1xuICAgIHRoaXMudW5sb2FkZWQgPSBmYWxzZVxuICAgIGlmKCFwaHhTb2NrZXQgfHwgcGh4U29ja2V0LmNvbnN0cnVjdG9yLm5hbWUgPT09IFwiT2JqZWN0XCIpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBcbiAgICAgIGEgcGhvZW5peCBTb2NrZXQgbXVzdCBiZSBwcm92aWRlZCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IHRvIHRoZSBMaXZlU29ja2V0IGNvbnN0cnVjdG9yLiBGb3IgZXhhbXBsZTpcblxuICAgICAgICAgIGltcG9ydCB7U29ja2V0fSBmcm9tIFwicGhvZW5peFwiXG4gICAgICAgICAgaW1wb3J0IHtMaXZlU29ja2V0fSBmcm9tIFwicGhvZW5peF9saXZlX3ZpZXdcIlxuICAgICAgICAgIGxldCBsaXZlU29ja2V0ID0gbmV3IExpdmVTb2NrZXQoXCIvbGl2ZVwiLCBTb2NrZXQsIHsuLi59KVxuICAgICAgYClcbiAgICB9XG4gICAgdGhpcy5zb2NrZXQgPSBuZXcgcGh4U29ja2V0KHVybCwgb3B0cylcbiAgICB0aGlzLmJpbmRpbmdQcmVmaXggPSBvcHRzLmJpbmRpbmdQcmVmaXggfHwgQklORElOR19QUkVGSVhcbiAgICB0aGlzLm9wdHMgPSBvcHRzXG4gICAgdGhpcy5wYXJhbXMgPSBjbG9zdXJlKG9wdHMucGFyYW1zIHx8IHt9KVxuICAgIHRoaXMudmlld0xvZ2dlciA9IG9wdHMudmlld0xvZ2dlclxuICAgIHRoaXMubWV0YWRhdGFDYWxsYmFja3MgPSBvcHRzLm1ldGFkYXRhIHx8IHt9XG4gICAgdGhpcy5kZWZhdWx0cyA9IE9iamVjdC5hc3NpZ24oY2xvbmUoREVGQVVMVFMpLCBvcHRzLmRlZmF1bHRzIHx8IHt9KVxuICAgIHRoaXMuYWN0aXZlRWxlbWVudCA9IG51bGxcbiAgICB0aGlzLnByZXZBY3RpdmUgPSBudWxsXG4gICAgdGhpcy5zaWxlbmNlZCA9IGZhbHNlXG4gICAgdGhpcy5tYWluID0gbnVsbFxuICAgIHRoaXMub3V0Z29pbmdNYWluRWwgPSBudWxsXG4gICAgdGhpcy5jbGlja1N0YXJ0ZWRBdFRhcmdldCA9IG51bGxcbiAgICB0aGlzLmxpbmtSZWYgPSAxXG4gICAgdGhpcy5yb290cyA9IHt9XG4gICAgdGhpcy5ocmVmID0gd2luZG93LmxvY2F0aW9uLmhyZWZcbiAgICB0aGlzLnBlbmRpbmdMaW5rID0gbnVsbFxuICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gY2xvbmUod2luZG93LmxvY2F0aW9uKVxuICAgIHRoaXMuaG9va3MgPSBvcHRzLmhvb2tzIHx8IHt9XG4gICAgdGhpcy51cGxvYWRlcnMgPSBvcHRzLnVwbG9hZGVycyB8fCB7fVxuICAgIHRoaXMubG9hZGVyVGltZW91dCA9IG9wdHMubG9hZGVyVGltZW91dCB8fCBMT0FERVJfVElNRU9VVFxuICAgIHRoaXMucmVsb2FkV2l0aEppdHRlclRpbWVyID0gbnVsbFxuICAgIHRoaXMubWF4UmVsb2FkcyA9IG9wdHMubWF4UmVsb2FkcyB8fCBNQVhfUkVMT0FEU1xuICAgIHRoaXMucmVsb2FkSml0dGVyTWluID0gb3B0cy5yZWxvYWRKaXR0ZXJNaW4gfHwgUkVMT0FEX0pJVFRFUl9NSU5cbiAgICB0aGlzLnJlbG9hZEppdHRlck1heCA9IG9wdHMucmVsb2FkSml0dGVyTWF4IHx8IFJFTE9BRF9KSVRURVJfTUFYXG4gICAgdGhpcy5mYWlsc2FmZUppdHRlciA9IG9wdHMuZmFpbHNhZmVKaXR0ZXIgfHwgRkFJTFNBRkVfSklUVEVSXG4gICAgdGhpcy5sb2NhbFN0b3JhZ2UgPSBvcHRzLmxvY2FsU3RvcmFnZSB8fCB3aW5kb3cubG9jYWxTdG9yYWdlXG4gICAgdGhpcy5zZXNzaW9uU3RvcmFnZSA9IG9wdHMuc2Vzc2lvblN0b3JhZ2UgfHwgd2luZG93LnNlc3Npb25TdG9yYWdlXG4gICAgdGhpcy5ib3VuZFRvcExldmVsRXZlbnRzID0gZmFsc2VcbiAgICB0aGlzLmRvbUNhbGxiYWNrcyA9IE9iamVjdC5hc3NpZ24oe29uTm9kZUFkZGVkOiBjbG9zdXJlKCksIG9uQmVmb3JlRWxVcGRhdGVkOiBjbG9zdXJlKCl9LCBvcHRzLmRvbSB8fCB7fSlcbiAgICB0aGlzLnRyYW5zaXRpb25zID0gbmV3IFRyYW5zaXRpb25TZXQoKVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicGFnZWhpZGVcIiwgX2UgPT4ge1xuICAgICAgdGhpcy51bmxvYWRlZCA9IHRydWVcbiAgICB9KVxuICAgIHRoaXMuc29ja2V0Lm9uT3BlbigoKSA9PiB7XG4gICAgICBpZih0aGlzLmlzVW5sb2FkZWQoKSl7XG4gICAgICAgIC8vIHJlbG9hZCBwYWdlIGlmIGJlaW5nIHJlc3RvcmVkIGZyb20gYmFjay9mb3J3YXJkIGNhY2hlIGFuZCBicm93c2VyIGRvZXMgbm90IGVtaXQgXCJwYWdlc2hvd1wiXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICAvLyBwdWJsaWNcblxuICBpc1Byb2ZpbGVFbmFibGVkKCl7IHJldHVybiB0aGlzLnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oUEhYX0xWX1BST0ZJTEUpID09PSBcInRydWVcIiB9XG5cbiAgaXNEZWJ1Z0VuYWJsZWQoKXsgcmV0dXJuIHRoaXMuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShQSFhfTFZfREVCVUcpID09PSBcInRydWVcIiB9XG5cbiAgaXNEZWJ1Z0Rpc2FibGVkKCl7IHJldHVybiB0aGlzLnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oUEhYX0xWX0RFQlVHKSA9PT0gXCJmYWxzZVwiIH1cblxuICBlbmFibGVEZWJ1ZygpeyB0aGlzLnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oUEhYX0xWX0RFQlVHLCBcInRydWVcIikgfVxuXG4gIGVuYWJsZVByb2ZpbGluZygpeyB0aGlzLnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oUEhYX0xWX1BST0ZJTEUsIFwidHJ1ZVwiKSB9XG5cbiAgZGlzYWJsZURlYnVnKCl7IHRoaXMuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShQSFhfTFZfREVCVUcsIFwiZmFsc2VcIikgfVxuXG4gIGRpc2FibGVQcm9maWxpbmcoKXsgdGhpcy5zZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKFBIWF9MVl9QUk9GSUxFKSB9XG5cbiAgZW5hYmxlTGF0ZW5jeVNpbSh1cHBlckJvdW5kTXMpe1xuICAgIHRoaXMuZW5hYmxlRGVidWcoKVxuICAgIGNvbnNvbGUubG9nKFwibGF0ZW5jeSBzaW11bGF0b3IgZW5hYmxlZCBmb3IgdGhlIGR1cmF0aW9uIG9mIHRoaXMgYnJvd3NlciBzZXNzaW9uLiBDYWxsIGRpc2FibGVMYXRlbmN5U2ltKCkgdG8gZGlzYWJsZVwiKVxuICAgIHRoaXMuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShQSFhfTFZfTEFURU5DWV9TSU0sIHVwcGVyQm91bmRNcylcbiAgfVxuXG4gIGRpc2FibGVMYXRlbmN5U2ltKCl7IHRoaXMuc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShQSFhfTFZfTEFURU5DWV9TSU0pIH1cblxuICBnZXRMYXRlbmN5U2ltKCl7XG4gICAgbGV0IHN0ciA9IHRoaXMuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShQSFhfTFZfTEFURU5DWV9TSU0pXG4gICAgcmV0dXJuIHN0ciA/IHBhcnNlSW50KHN0cikgOiBudWxsXG4gIH1cblxuICBnZXRTb2NrZXQoKXsgcmV0dXJuIHRoaXMuc29ja2V0IH1cblxuICBjb25uZWN0KCl7XG4gICAgLy8gZW5hYmxlIGRlYnVnIGJ5IGRlZmF1bHQgaWYgb24gbG9jYWxob3N0IGFuZCBub3QgZXhwbGljaXRseSBkaXNhYmxlZFxuICAgIGlmKHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSA9PT0gXCJsb2NhbGhvc3RcIiAmJiAhdGhpcy5pc0RlYnVnRGlzYWJsZWQoKSl7IHRoaXMuZW5hYmxlRGVidWcoKSB9XG4gICAgbGV0IGRvQ29ubmVjdCA9ICgpID0+IHtcbiAgICAgIGlmKHRoaXMuam9pblJvb3RWaWV3cygpKXtcbiAgICAgICAgdGhpcy5iaW5kVG9wTGV2ZWxFdmVudHMoKVxuICAgICAgICB0aGlzLnNvY2tldC5jb25uZWN0KClcbiAgICAgIH0gZWxzZSBpZih0aGlzLm1haW4pe1xuICAgICAgICB0aGlzLnNvY2tldC5jb25uZWN0KClcbiAgICAgIH1cbiAgICB9XG4gICAgaWYoW1wiY29tcGxldGVcIiwgXCJsb2FkZWRcIiwgXCJpbnRlcmFjdGl2ZVwiXS5pbmRleE9mKGRvY3VtZW50LnJlYWR5U3RhdGUpID49IDApe1xuICAgICAgZG9Db25uZWN0KClcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4gZG9Db25uZWN0KCkpXG4gICAgfVxuICB9XG5cbiAgZGlzY29ubmVjdChjYWxsYmFjayl7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMucmVsb2FkV2l0aEppdHRlclRpbWVyKVxuICAgIHRoaXMuc29ja2V0LmRpc2Nvbm5lY3QoY2FsbGJhY2spXG4gIH1cblxuICByZXBsYWNlVHJhbnNwb3J0KHRyYW5zcG9ydCl7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMucmVsb2FkV2l0aEppdHRlclRpbWVyKVxuICAgIHRoaXMuc29ja2V0LnJlcGxhY2VUcmFuc3BvcnQodHJhbnNwb3J0KVxuICAgIHRoaXMuY29ubmVjdCgpXG4gIH1cblxuICBleGVjSlMoZWwsIGVuY29kZWRKUywgZXZlbnRUeXBlID0gbnVsbCl7XG4gICAgdGhpcy5vd25lcihlbCwgdmlldyA9PiBKUy5leGVjKGV2ZW50VHlwZSwgZW5jb2RlZEpTLCB2aWV3LCBlbCkpXG4gIH1cblxuICAvLyBwcml2YXRlXG5cbiAgdHJpZ2dlckRPTShraW5kLCBhcmdzKXsgdGhpcy5kb21DYWxsYmFja3Nba2luZF0oLi4uYXJncykgfVxuXG4gIHRpbWUobmFtZSwgZnVuYyl7XG4gICAgaWYoIXRoaXMuaXNQcm9maWxlRW5hYmxlZCgpIHx8ICFjb25zb2xlLnRpbWUpeyByZXR1cm4gZnVuYygpIH1cbiAgICBjb25zb2xlLnRpbWUobmFtZSlcbiAgICBsZXQgcmVzdWx0ID0gZnVuYygpXG4gICAgY29uc29sZS50aW1lRW5kKG5hbWUpXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgbG9nKHZpZXcsIGtpbmQsIG1zZ0NhbGxiYWNrKXtcbiAgICBpZih0aGlzLnZpZXdMb2dnZXIpe1xuICAgICAgbGV0IFttc2csIG9ial0gPSBtc2dDYWxsYmFjaygpXG4gICAgICB0aGlzLnZpZXdMb2dnZXIodmlldywga2luZCwgbXNnLCBvYmopXG4gICAgfSBlbHNlIGlmKHRoaXMuaXNEZWJ1Z0VuYWJsZWQoKSl7XG4gICAgICBsZXQgW21zZywgb2JqXSA9IG1zZ0NhbGxiYWNrKClcbiAgICAgIGRlYnVnKHZpZXcsIGtpbmQsIG1zZywgb2JqKVxuICAgIH1cbiAgfVxuXG4gIHJlcXVlc3RET01VcGRhdGUoY2FsbGJhY2spe1xuICAgIHRoaXMudHJhbnNpdGlvbnMuYWZ0ZXIoY2FsbGJhY2spXG4gIH1cblxuICB0cmFuc2l0aW9uKHRpbWUsIG9uU3RhcnQsIG9uRG9uZSA9IGZ1bmN0aW9uKCl7fSl7XG4gICAgdGhpcy50cmFuc2l0aW9ucy5hZGRUcmFuc2l0aW9uKHRpbWUsIG9uU3RhcnQsIG9uRG9uZSlcbiAgfVxuXG4gIG9uQ2hhbm5lbChjaGFubmVsLCBldmVudCwgY2Ipe1xuICAgIGNoYW5uZWwub24oZXZlbnQsIGRhdGEgPT4ge1xuICAgICAgbGV0IGxhdGVuY3kgPSB0aGlzLmdldExhdGVuY3lTaW0oKVxuICAgICAgaWYoIWxhdGVuY3kpe1xuICAgICAgICBjYihkYXRhKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coYHNpbXVsYXRpbmcgJHtsYXRlbmN5fW1zIG9mIGxhdGVuY3kgZnJvbSBzZXJ2ZXIgdG8gY2xpZW50YClcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiBjYihkYXRhKSwgbGF0ZW5jeSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgd3JhcFB1c2godmlldywgb3B0cywgcHVzaCl7XG4gICAgbGV0IGxhdGVuY3kgPSB0aGlzLmdldExhdGVuY3lTaW0oKVxuICAgIGxldCBvbGRKb2luQ291bnQgPSB2aWV3LmpvaW5Db3VudFxuICAgIGlmKCFsYXRlbmN5KXtcbiAgICAgIGlmKHRoaXMuaXNDb25uZWN0ZWQoKSAmJiBvcHRzLnRpbWVvdXQpe1xuICAgICAgICByZXR1cm4gcHVzaCgpLnJlY2VpdmUoXCJ0aW1lb3V0XCIsICgpID0+IHtcbiAgICAgICAgICBpZih2aWV3LmpvaW5Db3VudCA9PT0gb2xkSm9pbkNvdW50ICYmICF2aWV3LmlzRGVzdHJveWVkKCkpe1xuICAgICAgICAgICAgdGhpcy5yZWxvYWRXaXRoSml0dGVyKHZpZXcsICgpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5sb2codmlldywgXCJ0aW1lb3V0XCIsICgpID0+IFtcInJlY2VpdmVkIHRpbWVvdXQgd2hpbGUgY29tbXVuaWNhdGluZyB3aXRoIHNlcnZlci4gRmFsbGluZyBiYWNrIHRvIGhhcmQgcmVmcmVzaCBmb3IgcmVjb3ZlcnlcIl0pXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBwdXNoKClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyhgc2ltdWxhdGluZyAke2xhdGVuY3l9bXMgb2YgbGF0ZW5jeSBmcm9tIGNsaWVudCB0byBzZXJ2ZXJgKVxuICAgIGxldCBmYWtlUHVzaCA9IHtcbiAgICAgIHJlY2VpdmVzOiBbXSxcbiAgICAgIHJlY2VpdmUoa2luZCwgY2IpeyB0aGlzLnJlY2VpdmVzLnB1c2goW2tpbmQsIGNiXSkgfVxuICAgIH1cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmKHZpZXcuaXNEZXN0cm95ZWQoKSl7IHJldHVybiB9XG4gICAgICBmYWtlUHVzaC5yZWNlaXZlcy5yZWR1Y2UoKGFjYywgW2tpbmQsIGNiXSkgPT4gYWNjLnJlY2VpdmUoa2luZCwgY2IpLCBwdXNoKCkpXG4gICAgfSwgbGF0ZW5jeSlcbiAgICByZXR1cm4gZmFrZVB1c2hcbiAgfVxuXG4gIHJlbG9hZFdpdGhKaXR0ZXIodmlldywgbG9nKXtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5yZWxvYWRXaXRoSml0dGVyVGltZXIpXG4gICAgdGhpcy5kaXNjb25uZWN0KClcbiAgICBsZXQgbWluTXMgPSB0aGlzLnJlbG9hZEppdHRlck1pblxuICAgIGxldCBtYXhNcyA9IHRoaXMucmVsb2FkSml0dGVyTWF4XG4gICAgbGV0IGFmdGVyTXMgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4TXMgLSBtaW5NcyArIDEpKSArIG1pbk1zXG4gICAgbGV0IHRyaWVzID0gQnJvd3Nlci51cGRhdGVMb2NhbCh0aGlzLmxvY2FsU3RvcmFnZSwgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLCBDT05TRUNVVElWRV9SRUxPQURTLCAwLCBjb3VudCA9PiBjb3VudCArIDEpXG4gICAgaWYodHJpZXMgPiB0aGlzLm1heFJlbG9hZHMpe1xuICAgICAgYWZ0ZXJNcyA9IHRoaXMuZmFpbHNhZmVKaXR0ZXJcbiAgICB9XG4gICAgdGhpcy5yZWxvYWRXaXRoSml0dGVyVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIC8vIGlmIHZpZXcgaGFzIHJlY292ZXJlZCwgc3VjaCBhcyB0cmFuc3BvcnQgcmVwbGFjZWQsIHRoZW4gY2FuY2VsXG4gICAgICBpZih2aWV3LmlzRGVzdHJveWVkKCkgfHwgdmlldy5pc0Nvbm5lY3RlZCgpKXsgcmV0dXJuIH1cbiAgICAgIHZpZXcuZGVzdHJveSgpXG4gICAgICBsb2cgPyBsb2coKSA6IHRoaXMubG9nKHZpZXcsIFwiam9pblwiLCAoKSA9PiBbYGVuY291bnRlcmVkICR7dHJpZXN9IGNvbnNlY3V0aXZlIHJlbG9hZHNgXSlcbiAgICAgIGlmKHRyaWVzID4gdGhpcy5tYXhSZWxvYWRzKXtcbiAgICAgICAgdGhpcy5sb2codmlldywgXCJqb2luXCIsICgpID0+IFtgZXhjZWVkZWQgJHt0aGlzLm1heFJlbG9hZHN9IGNvbnNlY3V0aXZlIHJlbG9hZHMuIEVudGVyaW5nIGZhaWxzYWZlIG1vZGVgXSlcbiAgICAgIH1cbiAgICAgIGlmKHRoaXMuaGFzUGVuZGluZ0xpbmsoKSl7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IHRoaXMucGVuZGluZ0xpbmtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKVxuICAgICAgfVxuICAgIH0sIGFmdGVyTXMpXG4gIH1cblxuICBnZXRIb29rQ2FsbGJhY2tzKG5hbWUpe1xuICAgIHJldHVybiBuYW1lICYmIG5hbWUuc3RhcnRzV2l0aChcIlBob2VuaXguXCIpID8gSG9va3NbbmFtZS5zcGxpdChcIi5cIilbMV1dIDogdGhpcy5ob29rc1tuYW1lXVxuICB9XG5cbiAgaXNVbmxvYWRlZCgpeyByZXR1cm4gdGhpcy51bmxvYWRlZCB9XG5cbiAgaXNDb25uZWN0ZWQoKXsgcmV0dXJuIHRoaXMuc29ja2V0LmlzQ29ubmVjdGVkKCkgfVxuXG4gIGdldEJpbmRpbmdQcmVmaXgoKXsgcmV0dXJuIHRoaXMuYmluZGluZ1ByZWZpeCB9XG5cbiAgYmluZGluZyhraW5kKXsgcmV0dXJuIGAke3RoaXMuZ2V0QmluZGluZ1ByZWZpeCgpfSR7a2luZH1gIH1cblxuICBjaGFubmVsKHRvcGljLCBwYXJhbXMpeyByZXR1cm4gdGhpcy5zb2NrZXQuY2hhbm5lbCh0b3BpYywgcGFyYW1zKSB9XG5cbiAgam9pblJvb3RWaWV3cygpe1xuICAgIGxldCByb290c0ZvdW5kID0gZmFsc2VcbiAgICBET00uYWxsKGRvY3VtZW50LCBgJHtQSFhfVklFV19TRUxFQ1RPUn06bm90KFske1BIWF9QQVJFTlRfSUR9XSlgLCByb290RWwgPT4ge1xuICAgICAgaWYoIXRoaXMuZ2V0Um9vdEJ5SWQocm9vdEVsLmlkKSl7XG4gICAgICAgIGxldCB2aWV3ID0gdGhpcy5uZXdSb290Vmlldyhyb290RWwpXG4gICAgICAgIHZpZXcuc2V0SHJlZih0aGlzLmdldEhyZWYoKSlcbiAgICAgICAgdmlldy5qb2luKClcbiAgICAgICAgaWYocm9vdEVsLmhhc0F0dHJpYnV0ZShQSFhfTUFJTikpeyB0aGlzLm1haW4gPSB2aWV3IH1cbiAgICAgIH1cbiAgICAgIHJvb3RzRm91bmQgPSB0cnVlXG4gICAgfSlcbiAgICByZXR1cm4gcm9vdHNGb3VuZFxuICB9XG5cbiAgcmVkaXJlY3QodG8sIGZsYXNoKXtcbiAgICB0aGlzLmRpc2Nvbm5lY3QoKVxuICAgIEJyb3dzZXIucmVkaXJlY3QodG8sIGZsYXNoKVxuICB9XG5cbiAgcmVwbGFjZU1haW4oaHJlZiwgZmxhc2gsIGNhbGxiYWNrID0gbnVsbCwgbGlua1JlZiA9IHRoaXMuc2V0UGVuZGluZ0xpbmsoaHJlZikpe1xuICAgIHRoaXMub3V0Z29pbmdNYWluRWwgPSB0aGlzLm91dGdvaW5nTWFpbkVsIHx8IHRoaXMubWFpbi5lbFxuICAgIGxldCBuZXdNYWluRWwgPSBET00uY2xvbmVOb2RlKHRoaXMub3V0Z29pbmdNYWluRWwsIFwiXCIpXG4gICAgdGhpcy5tYWluLnNob3dMb2FkZXIodGhpcy5sb2FkZXJUaW1lb3V0KVxuICAgIHRoaXMubWFpbi5kZXN0cm95KClcblxuICAgIHRoaXMubWFpbiA9IHRoaXMubmV3Um9vdFZpZXcobmV3TWFpbkVsLCBmbGFzaClcbiAgICB0aGlzLm1haW4uc2V0UmVkaXJlY3QoaHJlZilcbiAgICB0aGlzLnRyYW5zaXRpb25SZW1vdmVzKClcbiAgICB0aGlzLm1haW4uam9pbigoam9pbkNvdW50LCBvbkRvbmUpID0+IHtcbiAgICAgIGlmKGpvaW5Db3VudCA9PT0gMSAmJiB0aGlzLmNvbW1pdFBlbmRpbmdMaW5rKGxpbmtSZWYpKXtcbiAgICAgICAgdGhpcy5yZXF1ZXN0RE9NVXBkYXRlKCgpID0+IHtcbiAgICAgICAgICBET00uZmluZFBoeFN0aWNreShkb2N1bWVudCkuZm9yRWFjaChlbCA9PiBuZXdNYWluRWwuYXBwZW5kQ2hpbGQoZWwpKVxuICAgICAgICAgIHRoaXMub3V0Z29pbmdNYWluRWwucmVwbGFjZVdpdGgobmV3TWFpbkVsKVxuICAgICAgICAgIHRoaXMub3V0Z29pbmdNYWluRWwgPSBudWxsXG4gICAgICAgICAgY2FsbGJhY2sgJiYgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNhbGxiYWNrKVxuICAgICAgICAgIG9uRG9uZSgpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIHRyYW5zaXRpb25SZW1vdmVzKGVsZW1lbnRzKXtcbiAgICBsZXQgcmVtb3ZlQXR0ciA9IHRoaXMuYmluZGluZyhcInJlbW92ZVwiKVxuICAgIGVsZW1lbnRzID0gZWxlbWVudHMgfHwgRE9NLmFsbChkb2N1bWVudCwgYFske3JlbW92ZUF0dHJ9XWApXG4gICAgZWxlbWVudHMuZm9yRWFjaChlbCA9PiB7XG4gICAgICBpZihkb2N1bWVudC5ib2R5LmNvbnRhaW5zKGVsKSl7IC8vIHNraXAgY2hpbGRyZW4gYWxyZWFkeSByZW1vdmVkXG4gICAgICAgIHRoaXMuZXhlY0pTKGVsLCBlbC5nZXRBdHRyaWJ1dGUocmVtb3ZlQXR0ciksIFwicmVtb3ZlXCIpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGlzUGh4VmlldyhlbCl7IHJldHVybiBlbC5nZXRBdHRyaWJ1dGUgJiYgZWwuZ2V0QXR0cmlidXRlKFBIWF9TRVNTSU9OKSAhPT0gbnVsbCB9XG5cbiAgbmV3Um9vdFZpZXcoZWwsIGZsYXNoKXtcbiAgICBsZXQgdmlldyA9IG5ldyBWaWV3KGVsLCB0aGlzLCBudWxsLCBmbGFzaClcbiAgICB0aGlzLnJvb3RzW3ZpZXcuaWRdID0gdmlld1xuICAgIHJldHVybiB2aWV3XG4gIH1cblxuICBvd25lcihjaGlsZEVsLCBjYWxsYmFjayl7XG4gICAgbGV0IHZpZXcgPSBtYXliZShjaGlsZEVsLmNsb3Nlc3QoUEhYX1ZJRVdfU0VMRUNUT1IpLCBlbCA9PiB0aGlzLmdldFZpZXdCeUVsKGVsKSkgfHwgdGhpcy5tYWluXG4gICAgaWYodmlldyl7IGNhbGxiYWNrKHZpZXcpIH1cbiAgfVxuXG4gIHdpdGhpbk93bmVycyhjaGlsZEVsLCBjYWxsYmFjayl7XG4gICAgdGhpcy5vd25lcihjaGlsZEVsLCB2aWV3ID0+IGNhbGxiYWNrKHZpZXcsIGNoaWxkRWwpKVxuICB9XG5cbiAgZ2V0Vmlld0J5RWwoZWwpe1xuICAgIGxldCByb290SWQgPSBlbC5nZXRBdHRyaWJ1dGUoUEhYX1JPT1RfSUQpXG4gICAgcmV0dXJuIG1heWJlKHRoaXMuZ2V0Um9vdEJ5SWQocm9vdElkKSwgcm9vdCA9PiByb290LmdldERlc2NlbmRlbnRCeUVsKGVsKSlcbiAgfVxuXG4gIGdldFJvb3RCeUlkKGlkKXsgcmV0dXJuIHRoaXMucm9vdHNbaWRdIH1cblxuICBkZXN0cm95QWxsVmlld3MoKXtcbiAgICBmb3IobGV0IGlkIGluIHRoaXMucm9vdHMpe1xuICAgICAgdGhpcy5yb290c1tpZF0uZGVzdHJveSgpXG4gICAgICBkZWxldGUgdGhpcy5yb290c1tpZF1cbiAgICB9XG4gICAgdGhpcy5tYWluID0gbnVsbFxuICB9XG5cbiAgZGVzdHJveVZpZXdCeUVsKGVsKXtcbiAgICBsZXQgcm9vdCA9IHRoaXMuZ2V0Um9vdEJ5SWQoZWwuZ2V0QXR0cmlidXRlKFBIWF9ST09UX0lEKSlcbiAgICBpZihyb290ICYmIHJvb3QuaWQgPT09IGVsLmlkKXtcbiAgICAgIHJvb3QuZGVzdHJveSgpXG4gICAgICBkZWxldGUgdGhpcy5yb290c1tyb290LmlkXVxuICAgIH0gZWxzZSBpZihyb290KXtcbiAgICAgIHJvb3QuZGVzdHJveURlc2NlbmRlbnQoZWwuaWQpXG4gICAgfVxuICB9XG5cbiAgc2V0QWN0aXZlRWxlbWVudCh0YXJnZXQpe1xuICAgIGlmKHRoaXMuYWN0aXZlRWxlbWVudCA9PT0gdGFyZ2V0KXsgcmV0dXJuIH1cbiAgICB0aGlzLmFjdGl2ZUVsZW1lbnQgPSB0YXJnZXRcbiAgICBsZXQgY2FuY2VsID0gKCkgPT4ge1xuICAgICAgaWYodGFyZ2V0ID09PSB0aGlzLmFjdGl2ZUVsZW1lbnQpeyB0aGlzLmFjdGl2ZUVsZW1lbnQgPSBudWxsIH1cbiAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzKVxuICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCB0aGlzKVxuICAgIH1cbiAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgY2FuY2VsKVxuICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgY2FuY2VsKVxuICB9XG5cbiAgZ2V0QWN0aXZlRWxlbWVudCgpe1xuICAgIGlmKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGRvY3VtZW50LmJvZHkpe1xuICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlRWxlbWVudCB8fCBkb2N1bWVudC5hY3RpdmVFbGVtZW50XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgY2FuIGJlIG51bGwgaW4gSW50ZXJuZXQgRXhwbG9yZXIgMTFcbiAgICAgIHJldHVybiBkb2N1bWVudC5hY3RpdmVFbGVtZW50IHx8IGRvY3VtZW50LmJvZHlcbiAgICB9XG4gIH1cblxuICBkcm9wQWN0aXZlRWxlbWVudCh2aWV3KXtcbiAgICBpZih0aGlzLnByZXZBY3RpdmUgJiYgdmlldy5vd25zRWxlbWVudCh0aGlzLnByZXZBY3RpdmUpKXtcbiAgICAgIHRoaXMucHJldkFjdGl2ZSA9IG51bGxcbiAgICB9XG4gIH1cblxuICByZXN0b3JlUHJldmlvdXNseUFjdGl2ZUZvY3VzKCl7XG4gICAgaWYodGhpcy5wcmV2QWN0aXZlICYmIHRoaXMucHJldkFjdGl2ZSAhPT0gZG9jdW1lbnQuYm9keSl7XG4gICAgICB0aGlzLnByZXZBY3RpdmUuZm9jdXMoKVxuICAgIH1cbiAgfVxuXG4gIGJsdXJBY3RpdmVFbGVtZW50KCl7XG4gICAgdGhpcy5wcmV2QWN0aXZlID0gdGhpcy5nZXRBY3RpdmVFbGVtZW50KClcbiAgICBpZih0aGlzLnByZXZBY3RpdmUgIT09IGRvY3VtZW50LmJvZHkpeyB0aGlzLnByZXZBY3RpdmUuYmx1cigpIH1cbiAgfVxuXG4gIGJpbmRUb3BMZXZlbEV2ZW50cygpe1xuICAgIGlmKHRoaXMuYm91bmRUb3BMZXZlbEV2ZW50cyl7IHJldHVybiB9XG5cbiAgICB0aGlzLmJvdW5kVG9wTGV2ZWxFdmVudHMgPSB0cnVlXG4gICAgLy8gZW50ZXIgZmFpbHNhZmUgcmVsb2FkIGlmIHNlcnZlciBoYXMgZ29uZSBhd2F5IGludGVudGlvbmFsbHksIHN1Y2ggYXMgXCJkaXNjb25uZWN0XCIgYnJvYWRjYXN0XG4gICAgdGhpcy5zb2NrZXQub25DbG9zZShldmVudCA9PiB7XG4gICAgICBpZihldmVudCAmJiBldmVudC5jb2RlID09PSAxMDAwICYmIHRoaXMubWFpbil7XG4gICAgICAgIHRoaXMucmVsb2FkV2l0aEppdHRlcih0aGlzLm1haW4pXG4gICAgICB9XG4gICAgfSlcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKXsgfSkgLy8gZW5zdXJlIGFsbCBjbGljayBldmVudHMgYnViYmxlIGZvciBtb2JpbGUgU2FmYXJpXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwYWdlc2hvd1wiLCBlID0+IHtcbiAgICAgIGlmKGUucGVyc2lzdGVkKXsgLy8gcmVsb2FkIHBhZ2UgaWYgYmVpbmcgcmVzdG9yZWQgZnJvbSBiYWNrL2ZvcndhcmQgY2FjaGVcbiAgICAgICAgdGhpcy5nZXRTb2NrZXQoKS5kaXNjb25uZWN0KClcbiAgICAgICAgdGhpcy53aXRoUGFnZUxvYWRpbmcoe3RvOiB3aW5kb3cubG9jYXRpb24uaHJlZiwga2luZDogXCJyZWRpcmVjdFwifSlcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXG4gICAgICB9XG4gICAgfSwgdHJ1ZSlcbiAgICB0aGlzLmJpbmROYXYoKVxuICAgIHRoaXMuYmluZENsaWNrcygpXG4gICAgdGhpcy5iaW5kRm9ybXMoKVxuICAgIHRoaXMuYmluZCh7a2V5dXA6IFwia2V5dXBcIiwga2V5ZG93bjogXCJrZXlkb3duXCJ9LCAoZSwgdHlwZSwgdmlldywgdGFyZ2V0RWwsIHBoeEV2ZW50LCBldmVudFRhcmdldCkgPT4ge1xuICAgICAgbGV0IG1hdGNoS2V5ID0gdGFyZ2V0RWwuZ2V0QXR0cmlidXRlKHRoaXMuYmluZGluZyhQSFhfS0VZKSlcbiAgICAgIGxldCBwcmVzc2VkS2V5ID0gZS5rZXkgJiYgZS5rZXkudG9Mb3dlckNhc2UoKSAvLyBjaHJvbWUgY2xpY2tlZCBhdXRvY29tcGxldGVzIHNlbmQgYSBrZXlkb3duIHdpdGhvdXQga2V5XG4gICAgICBpZihtYXRjaEtleSAmJiBtYXRjaEtleS50b0xvd2VyQ2FzZSgpICE9PSBwcmVzc2VkS2V5KXsgcmV0dXJuIH1cblxuICAgICAgbGV0IGRhdGEgPSB7a2V5OiBlLmtleSwgLi4udGhpcy5ldmVudE1ldGEodHlwZSwgZSwgdGFyZ2V0RWwpfVxuICAgICAgSlMuZXhlYyh0eXBlLCBwaHhFdmVudCwgdmlldywgdGFyZ2V0RWwsIFtcInB1c2hcIiwge2RhdGF9XSlcbiAgICB9KVxuICAgIHRoaXMuYmluZCh7Ymx1cjogXCJmb2N1c291dFwiLCBmb2N1czogXCJmb2N1c2luXCJ9LCAoZSwgdHlwZSwgdmlldywgdGFyZ2V0RWwsIHBoeEV2ZW50LCBldmVudFRhcmdldCkgPT4ge1xuICAgICAgaWYoIWV2ZW50VGFyZ2V0KXtcbiAgICAgICAgbGV0IGRhdGEgPSB7a2V5OiBlLmtleSwgLi4udGhpcy5ldmVudE1ldGEodHlwZSwgZSwgdGFyZ2V0RWwpfVxuICAgICAgICBKUy5leGVjKHR5cGUsIHBoeEV2ZW50LCB2aWV3LCB0YXJnZXRFbCwgW1wicHVzaFwiLCB7ZGF0YX1dKVxuICAgICAgfVxuICAgIH0pXG4gICAgdGhpcy5iaW5kKHtibHVyOiBcImJsdXJcIiwgZm9jdXM6IFwiZm9jdXNcIn0sIChlLCB0eXBlLCB2aWV3LCB0YXJnZXRFbCwgdGFyZ2V0Q3R4LCBwaHhFdmVudCwgcGh4VGFyZ2V0KSA9PiB7XG4gICAgICAvLyBibHVyIGFuZCBmb2N1cyBhcmUgdHJpZ2dlcmVkIG9uIGRvY3VtZW50IGFuZCB3aW5kb3cuIERpc2NhcmQgb25lIHRvIGF2b2lkIGR1cHNcbiAgICAgIGlmKHBoeFRhcmdldCA9PT0gXCJ3aW5kb3dcIil7XG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5ldmVudE1ldGEodHlwZSwgZSwgdGFyZ2V0RWwpXG4gICAgICAgIEpTLmV4ZWModHlwZSwgcGh4RXZlbnQsIHZpZXcsIHRhcmdldEVsLCBbXCJwdXNoXCIsIHtkYXRhfV0pXG4gICAgICB9XG4gICAgfSlcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdvdmVyXCIsIGUgPT4gZS5wcmV2ZW50RGVmYXVsdCgpKVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiZHJvcFwiLCBlID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgbGV0IGRyb3BUYXJnZXRJZCA9IG1heWJlKGNsb3Nlc3RQaHhCaW5kaW5nKGUudGFyZ2V0LCB0aGlzLmJpbmRpbmcoUEhYX0RST1BfVEFSR0VUKSksIHRydWVUYXJnZXQgPT4ge1xuICAgICAgICByZXR1cm4gdHJ1ZVRhcmdldC5nZXRBdHRyaWJ1dGUodGhpcy5iaW5kaW5nKFBIWF9EUk9QX1RBUkdFVCkpXG4gICAgICB9KVxuICAgICAgbGV0IGRyb3BUYXJnZXQgPSBkcm9wVGFyZ2V0SWQgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZHJvcFRhcmdldElkKVxuICAgICAgbGV0IGZpbGVzID0gQXJyYXkuZnJvbShlLmRhdGFUcmFuc2Zlci5maWxlcyB8fCBbXSlcbiAgICAgIGlmKCFkcm9wVGFyZ2V0IHx8IGRyb3BUYXJnZXQuZGlzYWJsZWQgfHwgZmlsZXMubGVuZ3RoID09PSAwIHx8ICEoZHJvcFRhcmdldC5maWxlcyBpbnN0YW5jZW9mIEZpbGVMaXN0KSl7IHJldHVybiB9XG5cbiAgICAgIExpdmVVcGxvYWRlci50cmFja0ZpbGVzKGRyb3BUYXJnZXQsIGZpbGVzKVxuICAgICAgZHJvcFRhcmdldC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcImlucHV0XCIsIHtidWJibGVzOiB0cnVlfSkpXG4gICAgfSlcbiAgICB0aGlzLm9uKFBIWF9UUkFDS19VUExPQURTLCBlID0+IHtcbiAgICAgIGxldCB1cGxvYWRUYXJnZXQgPSBlLnRhcmdldFxuICAgICAgaWYoIURPTS5pc1VwbG9hZElucHV0KHVwbG9hZFRhcmdldCkpeyByZXR1cm4gfVxuICAgICAgbGV0IGZpbGVzID0gQXJyYXkuZnJvbShlLmRldGFpbC5maWxlcyB8fCBbXSkuZmlsdGVyKGYgPT4gZiBpbnN0YW5jZW9mIEZpbGUgfHwgZiBpbnN0YW5jZW9mIEJsb2IpXG4gICAgICBMaXZlVXBsb2FkZXIudHJhY2tGaWxlcyh1cGxvYWRUYXJnZXQsIGZpbGVzKVxuICAgICAgdXBsb2FkVGFyZ2V0LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KFwiaW5wdXRcIiwge2J1YmJsZXM6IHRydWV9KSlcbiAgICB9KVxuICB9XG5cbiAgZXZlbnRNZXRhKGV2ZW50TmFtZSwgZSwgdGFyZ2V0RWwpe1xuICAgIGxldCBjYWxsYmFjayA9IHRoaXMubWV0YWRhdGFDYWxsYmFja3NbZXZlbnROYW1lXVxuICAgIHJldHVybiBjYWxsYmFjayA/IGNhbGxiYWNrKGUsIHRhcmdldEVsKSA6IHt9XG4gIH1cblxuICBzZXRQZW5kaW5nTGluayhocmVmKXtcbiAgICB0aGlzLmxpbmtSZWYrK1xuICAgIHRoaXMucGVuZGluZ0xpbmsgPSBocmVmXG4gICAgcmV0dXJuIHRoaXMubGlua1JlZlxuICB9XG5cbiAgY29tbWl0UGVuZGluZ0xpbmsobGlua1JlZil7XG4gICAgaWYodGhpcy5saW5rUmVmICE9PSBsaW5rUmVmKXtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmhyZWYgPSB0aGlzLnBlbmRpbmdMaW5rXG4gICAgICB0aGlzLnBlbmRpbmdMaW5rID0gbnVsbFxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gIH1cblxuICBnZXRIcmVmKCl7IHJldHVybiB0aGlzLmhyZWYgfVxuXG4gIGhhc1BlbmRpbmdMaW5rKCl7IHJldHVybiAhIXRoaXMucGVuZGluZ0xpbmsgfVxuXG4gIGJpbmQoZXZlbnRzLCBjYWxsYmFjayl7XG4gICAgZm9yKGxldCBldmVudCBpbiBldmVudHMpe1xuICAgICAgbGV0IGJyb3dzZXJFdmVudE5hbWUgPSBldmVudHNbZXZlbnRdXG5cbiAgICAgIHRoaXMub24oYnJvd3NlckV2ZW50TmFtZSwgZSA9PiB7XG4gICAgICAgIGxldCBiaW5kaW5nID0gdGhpcy5iaW5kaW5nKGV2ZW50KVxuICAgICAgICBsZXQgd2luZG93QmluZGluZyA9IHRoaXMuYmluZGluZyhgd2luZG93LSR7ZXZlbnR9YClcbiAgICAgICAgbGV0IHRhcmdldFBoeEV2ZW50ID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlICYmIGUudGFyZ2V0LmdldEF0dHJpYnV0ZShiaW5kaW5nKVxuICAgICAgICBpZih0YXJnZXRQaHhFdmVudCl7XG4gICAgICAgICAgdGhpcy5kZWJvdW5jZShlLnRhcmdldCwgZSwgYnJvd3NlckV2ZW50TmFtZSwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy53aXRoaW5Pd25lcnMoZS50YXJnZXQsIHZpZXcgPT4ge1xuICAgICAgICAgICAgICBjYWxsYmFjayhlLCBldmVudCwgdmlldywgZS50YXJnZXQsIHRhcmdldFBoeEV2ZW50LCBudWxsKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIERPTS5hbGwoZG9jdW1lbnQsIGBbJHt3aW5kb3dCaW5kaW5nfV1gLCBlbCA9PiB7XG4gICAgICAgICAgICBsZXQgcGh4RXZlbnQgPSBlbC5nZXRBdHRyaWJ1dGUod2luZG93QmluZGluZylcbiAgICAgICAgICAgIHRoaXMuZGVib3VuY2UoZWwsIGUsIGJyb3dzZXJFdmVudE5hbWUsICgpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy53aXRoaW5Pd25lcnMoZWwsIHZpZXcgPT4ge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGUsIGV2ZW50LCB2aWV3LCBlbCwgcGh4RXZlbnQsIFwid2luZG93XCIpXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgYmluZENsaWNrcygpe1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGUgPT4gdGhpcy5jbGlja1N0YXJ0ZWRBdFRhcmdldCA9IGUudGFyZ2V0KVxuICAgIHRoaXMuYmluZENsaWNrKFwiY2xpY2tcIiwgXCJjbGlja1wiLCBmYWxzZSlcbiAgICB0aGlzLmJpbmRDbGljayhcIm1vdXNlZG93blwiLCBcImNhcHR1cmUtY2xpY2tcIiwgdHJ1ZSlcbiAgfVxuXG4gIGJpbmRDbGljayhldmVudE5hbWUsIGJpbmRpbmdOYW1lLCBjYXB0dXJlKXtcbiAgICBsZXQgY2xpY2sgPSB0aGlzLmJpbmRpbmcoYmluZGluZ05hbWUpXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBlID0+IHtcbiAgICAgIGxldCB0YXJnZXQgPSBudWxsXG4gICAgICBpZihjYXB0dXJlKXtcbiAgICAgICAgdGFyZ2V0ID0gZS50YXJnZXQubWF0Y2hlcyhgWyR7Y2xpY2t9XWApID8gZS50YXJnZXQgOiBlLnRhcmdldC5xdWVyeVNlbGVjdG9yKGBbJHtjbGlja31dYClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBjbGlja1N0YXJ0ZWRBdFRhcmdldCA9IHRoaXMuY2xpY2tTdGFydGVkQXRUYXJnZXQgfHwgZS50YXJnZXRcbiAgICAgICAgdGFyZ2V0ID0gY2xvc2VzdFBoeEJpbmRpbmcoY2xpY2tTdGFydGVkQXRUYXJnZXQsIGNsaWNrKVxuICAgICAgICB0aGlzLmRpc3BhdGNoQ2xpY2tBd2F5KGUsIGNsaWNrU3RhcnRlZEF0VGFyZ2V0KVxuICAgICAgICB0aGlzLmNsaWNrU3RhcnRlZEF0VGFyZ2V0ID0gbnVsbFxuICAgICAgfVxuICAgICAgbGV0IHBoeEV2ZW50ID0gdGFyZ2V0ICYmIHRhcmdldC5nZXRBdHRyaWJ1dGUoY2xpY2spXG4gICAgICBpZighcGh4RXZlbnQpeyByZXR1cm4gfVxuICAgICAgaWYodGFyZ2V0LmdldEF0dHJpYnV0ZShcImhyZWZcIikgPT09IFwiI1wiKXsgZS5wcmV2ZW50RGVmYXVsdCgpIH1cblxuICAgICAgdGhpcy5kZWJvdW5jZSh0YXJnZXQsIGUsIFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLndpdGhpbk93bmVycyh0YXJnZXQsIHZpZXcgPT4ge1xuICAgICAgICAgIEpTLmV4ZWMoXCJjbGlja1wiLCBwaHhFdmVudCwgdmlldywgdGFyZ2V0LCBbXCJwdXNoXCIsIHtkYXRhOiB0aGlzLmV2ZW50TWV0YShcImNsaWNrXCIsIGUsIHRhcmdldCl9XSlcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfSwgY2FwdHVyZSlcbiAgfVxuXG4gIGRpc3BhdGNoQ2xpY2tBd2F5KGUsIGNsaWNrU3RhcnRlZEF0KXtcbiAgICBsZXQgcGh4Q2xpY2tBd2F5ID0gdGhpcy5iaW5kaW5nKFwiY2xpY2stYXdheVwiKVxuICAgIERPTS5hbGwoZG9jdW1lbnQsIGBbJHtwaHhDbGlja0F3YXl9XWAsIGVsID0+IHtcbiAgICAgIGlmKCEoZWwuaXNTYW1lTm9kZShjbGlja1N0YXJ0ZWRBdCkgfHwgZWwuY29udGFpbnMoY2xpY2tTdGFydGVkQXQpKSl7XG4gICAgICAgIHRoaXMud2l0aGluT3duZXJzKGUudGFyZ2V0LCB2aWV3ID0+IHtcbiAgICAgICAgICBsZXQgcGh4RXZlbnQgPSBlbC5nZXRBdHRyaWJ1dGUocGh4Q2xpY2tBd2F5KVxuICAgICAgICAgIGlmKEpTLmlzVmlzaWJsZShlbCkpe1xuICAgICAgICAgICAgSlMuZXhlYyhcImNsaWNrXCIsIHBoeEV2ZW50LCB2aWV3LCBlbCwgW1wicHVzaFwiLCB7ZGF0YTogdGhpcy5ldmVudE1ldGEoXCJjbGlja1wiLCBlLCBlLnRhcmdldCl9XSlcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGJpbmROYXYoKXtcbiAgICBpZighQnJvd3Nlci5jYW5QdXNoU3RhdGUoKSl7IHJldHVybiB9XG4gICAgaWYoaGlzdG9yeS5zY3JvbGxSZXN0b3JhdGlvbil7IGhpc3Rvcnkuc2Nyb2xsUmVzdG9yYXRpb24gPSBcIm1hbnVhbFwiIH1cbiAgICBsZXQgc2Nyb2xsVGltZXIgPSBudWxsXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgX2UgPT4ge1xuICAgICAgY2xlYXJUaW1lb3V0KHNjcm9sbFRpbWVyKVxuICAgICAgc2Nyb2xsVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgQnJvd3Nlci51cGRhdGVDdXJyZW50U3RhdGUoc3RhdGUgPT4gT2JqZWN0LmFzc2lnbihzdGF0ZSwge3Njcm9sbDogd2luZG93LnNjcm9sbFl9KSlcbiAgICAgIH0sIDEwMClcbiAgICB9KVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicG9wc3RhdGVcIiwgZXZlbnQgPT4ge1xuICAgICAgaWYoIXRoaXMucmVnaXN0ZXJOZXdMb2NhdGlvbih3aW5kb3cubG9jYXRpb24pKXsgcmV0dXJuIH1cbiAgICAgIGxldCB7dHlwZSwgaWQsIHJvb3QsIHNjcm9sbH0gPSBldmVudC5zdGF0ZSB8fCB7fVxuICAgICAgbGV0IGhyZWYgPSB3aW5kb3cubG9jYXRpb24uaHJlZlxuXG4gICAgICB0aGlzLnJlcXVlc3RET01VcGRhdGUoKCkgPT4ge1xuICAgICAgICBpZih0aGlzLm1haW4uaXNDb25uZWN0ZWQoKSAmJiAodHlwZSA9PT0gXCJwYXRjaFwiICYmIGlkID09PSB0aGlzLm1haW4uaWQpKXtcbiAgICAgICAgICB0aGlzLm1haW4ucHVzaExpbmtQYXRjaChocmVmLCBudWxsKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucmVwbGFjZU1haW4oaHJlZiwgbnVsbCwgKCkgPT4ge1xuICAgICAgICAgICAgaWYocm9vdCl7IHRoaXMucmVwbGFjZVJvb3RIaXN0b3J5KCkgfVxuICAgICAgICAgICAgaWYodHlwZW9mKHNjcm9sbCkgPT09IFwibnVtYmVyXCIpe1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgc2Nyb2xsKVxuICAgICAgICAgICAgICB9LCAwKSAvLyB0aGUgYm9keSBuZWVkcyB0byByZW5kZXIgYmVmb3JlIHdlIHNjcm9sbC5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0sIGZhbHNlKVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZSA9PiB7XG4gICAgICBsZXQgdGFyZ2V0ID0gY2xvc2VzdFBoeEJpbmRpbmcoZS50YXJnZXQsIFBIWF9MSVZFX0xJTkspXG4gICAgICBsZXQgdHlwZSA9IHRhcmdldCAmJiB0YXJnZXQuZ2V0QXR0cmlidXRlKFBIWF9MSVZFX0xJTkspXG4gICAgICBsZXQgd2FudHNOZXdUYWIgPSBlLm1ldGFLZXkgfHwgZS5jdHJsS2V5IHx8IGUuYnV0dG9uID09PSAxXG4gICAgICBpZighdHlwZSB8fCAhdGhpcy5pc0Nvbm5lY3RlZCgpIHx8ICF0aGlzLm1haW4gfHwgd2FudHNOZXdUYWIpeyByZXR1cm4gfVxuXG4gICAgICBsZXQgaHJlZiA9IHRhcmdldC5ocmVmXG4gICAgICBsZXQgbGlua1N0YXRlID0gdGFyZ2V0LmdldEF0dHJpYnV0ZShQSFhfTElOS19TVEFURSlcbiAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSAvLyBkbyBub3QgYnViYmxlIGNsaWNrIHRvIHJlZ3VsYXIgcGh4LWNsaWNrIGJpbmRpbmdzXG4gICAgICBpZih0aGlzLnBlbmRpbmdMaW5rID09PSBocmVmKXsgcmV0dXJuIH1cblxuICAgICAgdGhpcy5yZXF1ZXN0RE9NVXBkYXRlKCgpID0+IHtcbiAgICAgICAgaWYodHlwZSA9PT0gXCJwYXRjaFwiKXtcbiAgICAgICAgICB0aGlzLnB1c2hIaXN0b3J5UGF0Y2goaHJlZiwgbGlua1N0YXRlLCB0YXJnZXQpXG4gICAgICAgIH0gZWxzZSBpZih0eXBlID09PSBcInJlZGlyZWN0XCIpe1xuICAgICAgICAgIHRoaXMuaGlzdG9yeVJlZGlyZWN0KGhyZWYsIGxpbmtTdGF0ZSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGV4cGVjdGVkICR7UEhYX0xJVkVfTElOS30gdG8gYmUgXCJwYXRjaFwiIG9yIFwicmVkaXJlY3RcIiwgZ290OiAke3R5cGV9YClcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9LCBmYWxzZSlcbiAgfVxuXG4gIGRpc3BhdGNoRXZlbnQoZXZlbnQsIHBheWxvYWQgPSB7fSl7XG4gICAgRE9NLmRpc3BhdGNoRXZlbnQod2luZG93LCBgcGh4OiR7ZXZlbnR9YCwge2RldGFpbDogcGF5bG9hZH0pXG4gIH1cblxuICBkaXNwYXRjaEV2ZW50cyhldmVudHMpe1xuICAgIGV2ZW50cy5mb3JFYWNoKChbZXZlbnQsIHBheWxvYWRdKSA9PiB0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQsIHBheWxvYWQpKVxuICB9XG5cbiAgd2l0aFBhZ2VMb2FkaW5nKGluZm8sIGNhbGxiYWNrKXtcbiAgICBET00uZGlzcGF0Y2hFdmVudCh3aW5kb3csIFwicGh4OnBhZ2UtbG9hZGluZy1zdGFydFwiLCB7ZGV0YWlsOiBpbmZvfSlcbiAgICBsZXQgZG9uZSA9ICgpID0+IERPTS5kaXNwYXRjaEV2ZW50KHdpbmRvdywgXCJwaHg6cGFnZS1sb2FkaW5nLXN0b3BcIiwge2RldGFpbDogaW5mb30pXG4gICAgcmV0dXJuIGNhbGxiYWNrID8gY2FsbGJhY2soZG9uZSkgOiBkb25lXG4gIH1cblxuICBwdXNoSGlzdG9yeVBhdGNoKGhyZWYsIGxpbmtTdGF0ZSwgdGFyZ2V0RWwpe1xuICAgIHRoaXMud2l0aFBhZ2VMb2FkaW5nKHt0bzogaHJlZiwga2luZDogXCJwYXRjaFwifSwgZG9uZSA9PiB7XG4gICAgICB0aGlzLm1haW4ucHVzaExpbmtQYXRjaChocmVmLCB0YXJnZXRFbCwgbGlua1JlZiA9PiB7XG4gICAgICAgIHRoaXMuaGlzdG9yeVBhdGNoKGhyZWYsIGxpbmtTdGF0ZSwgbGlua1JlZilcbiAgICAgICAgZG9uZSgpXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBoaXN0b3J5UGF0Y2goaHJlZiwgbGlua1N0YXRlLCBsaW5rUmVmID0gdGhpcy5zZXRQZW5kaW5nTGluayhocmVmKSl7XG4gICAgaWYoIXRoaXMuY29tbWl0UGVuZGluZ0xpbmsobGlua1JlZikpeyByZXR1cm4gfVxuXG4gICAgQnJvd3Nlci5wdXNoU3RhdGUobGlua1N0YXRlLCB7dHlwZTogXCJwYXRjaFwiLCBpZDogdGhpcy5tYWluLmlkfSwgaHJlZilcbiAgICB0aGlzLnJlZ2lzdGVyTmV3TG9jYXRpb24od2luZG93LmxvY2F0aW9uKVxuICB9XG5cbiAgaGlzdG9yeVJlZGlyZWN0KGhyZWYsIGxpbmtTdGF0ZSwgZmxhc2gpe1xuICAgIGxldCBzY3JvbGwgPSB3aW5kb3cuc2Nyb2xsWVxuICAgIHRoaXMud2l0aFBhZ2VMb2FkaW5nKHt0bzogaHJlZiwga2luZDogXCJyZWRpcmVjdFwifSwgZG9uZSA9PiB7XG4gICAgICB0aGlzLnJlcGxhY2VNYWluKGhyZWYsIGZsYXNoLCAoKSA9PiB7XG4gICAgICAgIEJyb3dzZXIucHVzaFN0YXRlKGxpbmtTdGF0ZSwge3R5cGU6IFwicmVkaXJlY3RcIiwgaWQ6IHRoaXMubWFpbi5pZCwgc2Nyb2xsOiBzY3JvbGx9LCBocmVmKVxuICAgICAgICB0aGlzLnJlZ2lzdGVyTmV3TG9jYXRpb24od2luZG93LmxvY2F0aW9uKVxuICAgICAgICBkb25lKClcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIHJlcGxhY2VSb290SGlzdG9yeSgpe1xuICAgIEJyb3dzZXIucHVzaFN0YXRlKFwicmVwbGFjZVwiLCB7cm9vdDogdHJ1ZSwgdHlwZTogXCJwYXRjaFwiLCBpZDogdGhpcy5tYWluLmlkfSlcbiAgfVxuXG4gIHJlZ2lzdGVyTmV3TG9jYXRpb24obmV3TG9jYXRpb24pe1xuICAgIGxldCB7cGF0aG5hbWUsIHNlYXJjaH0gPSB0aGlzLmN1cnJlbnRMb2NhdGlvblxuICAgIGlmKHBhdGhuYW1lICsgc2VhcmNoID09PSBuZXdMb2NhdGlvbi5wYXRobmFtZSArIG5ld0xvY2F0aW9uLnNlYXJjaCl7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jdXJyZW50TG9jYXRpb24gPSBjbG9uZShuZXdMb2NhdGlvbilcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9XG5cbiAgYmluZEZvcm1zKCl7XG4gICAgbGV0IGl0ZXJhdGlvbnMgPSAwXG4gICAgdGhpcy5vbihcInN1Ym1pdFwiLCBlID0+IHtcbiAgICAgIGxldCBwaHhFdmVudCA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSh0aGlzLmJpbmRpbmcoXCJzdWJtaXRcIikpXG4gICAgICBpZighcGh4RXZlbnQpeyByZXR1cm4gfVxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICBlLnRhcmdldC5kaXNhYmxlZCA9IHRydWVcbiAgICAgIHRoaXMud2l0aGluT3duZXJzKGUudGFyZ2V0LCB2aWV3ID0+IHtcbiAgICAgICAgSlMuZXhlYyhcInN1Ym1pdFwiLCBwaHhFdmVudCwgdmlldywgZS50YXJnZXQsIFtcInB1c2hcIiwge31dKVxuICAgICAgfSlcbiAgICB9LCBmYWxzZSlcblxuICAgIGZvcihsZXQgdHlwZSBvZiBbXCJjaGFuZ2VcIiwgXCJpbnB1dFwiXSl7XG4gICAgICB0aGlzLm9uKHR5cGUsIGUgPT4ge1xuICAgICAgICBsZXQgcGh4Q2hhbmdlID0gdGhpcy5iaW5kaW5nKFwiY2hhbmdlXCIpXG4gICAgICAgIGxldCBpbnB1dCA9IGUudGFyZ2V0XG4gICAgICAgIGxldCBpbnB1dEV2ZW50ID0gaW5wdXQuZ2V0QXR0cmlidXRlKHBoeENoYW5nZSlcbiAgICAgICAgbGV0IGZvcm1FdmVudCA9IGlucHV0LmZvcm0gJiYgaW5wdXQuZm9ybS5nZXRBdHRyaWJ1dGUocGh4Q2hhbmdlKVxuICAgICAgICBsZXQgcGh4RXZlbnQgPSBpbnB1dEV2ZW50IHx8IGZvcm1FdmVudFxuICAgICAgICBpZighcGh4RXZlbnQpeyByZXR1cm4gfVxuICAgICAgICBpZihpbnB1dC50eXBlID09PSBcIm51bWJlclwiICYmIGlucHV0LnZhbGlkaXR5ICYmIGlucHV0LnZhbGlkaXR5LmJhZElucHV0KXsgcmV0dXJuIH1cblxuICAgICAgICBsZXQgZGlzcGF0Y2hlciA9IGlucHV0RXZlbnQgPyBpbnB1dCA6IGlucHV0LmZvcm1cbiAgICAgICAgbGV0IGN1cnJlbnRJdGVyYXRpb25zID0gaXRlcmF0aW9uc1xuICAgICAgICBpdGVyYXRpb25zKytcbiAgICAgICAgbGV0IHthdDogYXQsIHR5cGU6IGxhc3RUeXBlfSA9IERPTS5wcml2YXRlKGlucHV0LCBcInByZXYtaXRlcmF0aW9uXCIpIHx8IHt9XG4gICAgICAgIC8vIGRldGVjdCBkdXAgYmVjYXVzZSBzb21lIGJyb3dzZXJzIGRpc3BhdGNoIGJvdGggXCJpbnB1dFwiIGFuZCBcImNoYW5nZVwiXG4gICAgICAgIGlmKGF0ID09PSBjdXJyZW50SXRlcmF0aW9ucyAtIDEgJiYgdHlwZSAhPT0gbGFzdFR5cGUpeyByZXR1cm4gfVxuXG4gICAgICAgIERPTS5wdXRQcml2YXRlKGlucHV0LCBcInByZXYtaXRlcmF0aW9uXCIsIHthdDogY3VycmVudEl0ZXJhdGlvbnMsIHR5cGU6IHR5cGV9KVxuXG4gICAgICAgIHRoaXMuZGVib3VuY2UoaW5wdXQsIGUsIHR5cGUsICgpID0+IHtcbiAgICAgICAgICB0aGlzLndpdGhpbk93bmVycyhkaXNwYXRjaGVyLCB2aWV3ID0+IHtcbiAgICAgICAgICAgIERPTS5wdXRQcml2YXRlKGlucHV0LCBQSFhfSEFTX0ZPQ1VTRUQsIHRydWUpXG4gICAgICAgICAgICBpZighRE9NLmlzVGV4dHVhbElucHV0KGlucHV0KSl7XG4gICAgICAgICAgICAgIHRoaXMuc2V0QWN0aXZlRWxlbWVudChpbnB1dClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEpTLmV4ZWMoXCJjaGFuZ2VcIiwgcGh4RXZlbnQsIHZpZXcsIGlucHV0LCBbXCJwdXNoXCIsIHtfdGFyZ2V0OiBlLnRhcmdldC5uYW1lLCBkaXNwYXRjaGVyOiBkaXNwYXRjaGVyfV0pXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgIH0sIGZhbHNlKVxuICAgIH1cbiAgfVxuXG4gIGRlYm91bmNlKGVsLCBldmVudCwgZXZlbnRUeXBlLCBjYWxsYmFjayl7XG4gICAgaWYoZXZlbnRUeXBlID09PSBcImJsdXJcIiB8fCBldmVudFR5cGUgPT09IFwiZm9jdXNvdXRcIil7IHJldHVybiBjYWxsYmFjaygpIH1cblxuICAgIGxldCBwaHhEZWJvdW5jZSA9IHRoaXMuYmluZGluZyhQSFhfREVCT1VOQ0UpXG4gICAgbGV0IHBoeFRocm90dGxlID0gdGhpcy5iaW5kaW5nKFBIWF9USFJPVFRMRSlcbiAgICBsZXQgZGVmYXVsdERlYm91bmNlID0gdGhpcy5kZWZhdWx0cy5kZWJvdW5jZS50b1N0cmluZygpXG4gICAgbGV0IGRlZmF1bHRUaHJvdHRsZSA9IHRoaXMuZGVmYXVsdHMudGhyb3R0bGUudG9TdHJpbmcoKVxuXG4gICAgdGhpcy53aXRoaW5Pd25lcnMoZWwsIHZpZXcgPT4ge1xuICAgICAgbGV0IGFzeW5jRmlsdGVyID0gKCkgPT4gIXZpZXcuaXNEZXN0cm95ZWQoKSAmJiBkb2N1bWVudC5ib2R5LmNvbnRhaW5zKGVsKVxuICAgICAgRE9NLmRlYm91bmNlKGVsLCBldmVudCwgcGh4RGVib3VuY2UsIGRlZmF1bHREZWJvdW5jZSwgcGh4VGhyb3R0bGUsIGRlZmF1bHRUaHJvdHRsZSwgYXN5bmNGaWx0ZXIsICgpID0+IHtcbiAgICAgICAgY2FsbGJhY2soKVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgc2lsZW5jZUV2ZW50cyhjYWxsYmFjayl7XG4gICAgdGhpcy5zaWxlbmNlZCA9IHRydWVcbiAgICBjYWxsYmFjaygpXG4gICAgdGhpcy5zaWxlbmNlZCA9IGZhbHNlXG4gIH1cblxuICBvbihldmVudCwgY2FsbGJhY2spe1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBlID0+IHtcbiAgICAgIGlmKCF0aGlzLnNpbGVuY2VkKXsgY2FsbGJhY2soZSkgfVxuICAgIH0pXG4gIH1cbn1cblxuY2xhc3MgVHJhbnNpdGlvblNldCB7XG4gIGNvbnN0cnVjdG9yKCl7XG4gICAgdGhpcy50cmFuc2l0aW9ucyA9IG5ldyBTZXQoKVxuICAgIHRoaXMucGVuZGluZ09wcyA9IFtdXG4gICAgdGhpcy5yZXNldCgpXG4gIH1cblxuICByZXNldCgpe1xuICAgIHRoaXMudHJhbnNpdGlvbnMuZm9yRWFjaCh0aW1lciA9PiB7XG4gICAgICBjYW5jZWxUaW1lb3V0KHRpbWVyKVxuICAgICAgdGhpcy50cmFuc2l0aW9ucy5kZWxldGUodGltZXIpXG4gICAgfSlcbiAgICB0aGlzLmZsdXNoUGVuZGluZ09wcygpXG4gIH1cblxuICBhZnRlcihjYWxsYmFjayl7XG4gICAgaWYodGhpcy5zaXplKCkgPT09IDApe1xuICAgICAgY2FsbGJhY2soKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnB1c2hQZW5kaW5nT3AoY2FsbGJhY2spXG4gICAgfVxuICB9XG5cbiAgYWRkVHJhbnNpdGlvbih0aW1lLCBvblN0YXJ0LCBvbkRvbmUpe1xuICAgIG9uU3RhcnQoKVxuICAgIGxldCB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy50cmFuc2l0aW9ucy5kZWxldGUodGltZXIpXG4gICAgICBvbkRvbmUoKVxuICAgICAgaWYodGhpcy5zaXplKCkgPT09IDApeyB0aGlzLmZsdXNoUGVuZGluZ09wcygpIH1cbiAgICB9LCB0aW1lKVxuICAgIHRoaXMudHJhbnNpdGlvbnMuYWRkKHRpbWVyKVxuICB9XG5cbiAgcHVzaFBlbmRpbmdPcChvcCl7IHRoaXMucGVuZGluZ09wcy5wdXNoKG9wKSB9XG5cbiAgc2l6ZSgpeyByZXR1cm4gdGhpcy50cmFuc2l0aW9ucy5zaXplIH1cblxuICBmbHVzaFBlbmRpbmdPcHMoKXtcbiAgICB0aGlzLnBlbmRpbmdPcHMuZm9yRWFjaChvcCA9PiBvcCgpKVxuICAgIHRoaXMucGVuZGluZ09wcyA9IFtdXG4gIH1cbn1cbiIsICJpbXBvcnQgXCIuLi9jc3MvcHJpc20tdnNjLWRhcmstcGx1cy5jc3NcIjtcbmltcG9ydCBcIi4uL2Nzcy9idWxtYS5jc3NcIjtcbmltcG9ydCBcIi4uL2Nzcy9hbmltYXRlLmNzc1wiO1xuaW1wb3J0IFwiLi4vY3NzL2FwcC5jc3NcIjtcblxuLy8gd2VicGFjayBhdXRvbWF0aWNhbGx5IGJ1bmRsZXMgYWxsIG1vZHVsZXMgaW4geW91clxuLy8gZW50cnkgcG9pbnRzLiBUaG9zZSBlbnRyeSBwb2ludHMgY2FuIGJlIGNvbmZpZ3VyZWRcbi8vIGluIFwid2VicGFjay5jb25maWcuanNcIi5cbi8vXG4vLyBJbXBvcnQgZGVwcyB3aXRoIHRoZSBkZXAgbmFtZSBvciBsb2NhbCBmaWxlcyB3aXRoIGEgcmVsYXRpdmUgcGF0aCwgZm9yIGV4YW1wbGU6XG4vL1xuLy8gICAgIGltcG9ydCB7U29ja2V0fSBmcm9tIFwicGhvZW5peFwiXG4vLyAgICAgaW1wb3J0IHNvY2tldCBmcm9tIFwiLi9zb2NrZXRcIlxuLy9cbmltcG9ydCBcInBob2VuaXhfaHRtbFwiXG5pbXBvcnQge1NvY2tldH0gZnJvbSBcInBob2VuaXhcIlxuaW1wb3J0IHtMaXZlU29ja2V0fSBmcm9tIFwicGhvZW5peF9saXZlX3ZpZXdcIlxuaW1wb3J0IFByaXNtIGZyb20gJy4uL3ZlbmRvci9wcmlzbS5qcyc7XG4vLyBVbmNvbW1lbnQgd2hlbiB3ZSBzdGFydCB1c2luZyBtZXJtYWlkXG4vLyBpbXBvcnQgbWVybWFpZCBmcm9tIFwibWVybWFpZFwiXG4vLyBtZXJtYWlkLmluaXRpYWxpemUoe3N0YXJ0T25Mb2FkOmZhbHNlfSk7XG5cbndpbmRvdy50b2dnbGVOb2RlID0gKGEpID0+IHtcbiAgYS5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJy5tZW51LWxpc3QnKS5jbGFzc0xpc3QudG9nZ2xlKCdpcy1oaWRkZW4nKVxuICBjb25zdCBpID0gYS5xdWVyeVNlbGVjdG9yKCdzcGFuLmljb24gPiBpJylcbiAgaS5jbGFzc0xpc3QudG9nZ2xlKCdmYS1mb2xkZXItb3BlbicpXG4gIGkuY2xhc3NMaXN0LnRvZ2dsZSgnZmEtZm9sZGVyJylcbn1cblxubGV0IEhvb2tzID0ge31cblxuSG9va3MuRXZlbnRMb2cgPSB7XG4gIHVwZGF0ZWQoKXtcbiAgICBjb25zdCBldmVudExvZyA9IHRoaXMuZWwucGFyZW50Tm9kZVxuICAgIGV2ZW50TG9nLnNjcm9sbFRvcCA9IGV2ZW50TG9nLnNjcm9sbEhlaWdodFxuICB9XG59XG5cbndpbmRvdy5oYW5kbGVFbmFibGVMYXRlbmN5U2ltQ2xpY2sgPSBmdW5jdGlvbihjaGVja2JveCkge1xuICBsZXQgc29ja2V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwbGF5Z3JvdW5kLWlmcmFtZVwiKS5jb250ZW50V2luZG93LmxpdmVTb2NrZXRcbiAgbGV0IHZhbHVlSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlYnVnX3Byb2ZpbGVfbGF0ZW5jeV9zaW1fdmFsdWVcIilcblxuICBpZiAoY2hlY2tib3guY2hlY2tlZCkge1xuICAgIHZhbHVlSW5wdXQuZGlzYWJsZWQgPSBmYWxzZVxuICAgIGxldCB2YWx1ZSA9IHZhbHVlSW5wdXQudmFsdWUgfHwgMTAwXG4gICAgdmFsdWVJbnB1dC52YWx1ZSA9IHZhbHVlXG4gICAgc29ja2V0LmVuYWJsZUxhdGVuY3lTaW0odmFsdWUpXG4gIH0gZWxzZSB7XG4gICAgc29ja2V0LmRpc2FibGVMYXRlbmN5U2ltKClcbiAgICB2YWx1ZUlucHV0LmRpc2FibGVkID0gdHJ1ZVxuICB9XG5cbiAgdXBkYXRlUGxheWdyb3VuZFRhYkxhYmVsKClcbn1cblxud2luZG93LmhhbmRsZUVuYWJsZURlYnVnQ2xpY2sgPSBmdW5jdGlvbihjaGVja2JveCkge1xuICBsZXQgc29ja2V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwbGF5Z3JvdW5kLWlmcmFtZVwiKS5jb250ZW50V2luZG93LmxpdmVTb2NrZXRcblxuICBpZiAoY2hlY2tib3guY2hlY2tlZCkge1xuICAgIHNvY2tldC5lbmFibGVEZWJ1ZygpXG4gIH0gZWxzZSB7XG4gICAgc29ja2V0LmRpc2FibGVEZWJ1ZygpXG4gIH1cbn1cblxud2luZG93LmhhbmRsZUVuYWJsZVByb2ZpbGVDbGljayA9IGZ1bmN0aW9uKGNoZWNrYm94KSB7XG4gIGxldCBzb2NrZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBsYXlncm91bmQtaWZyYW1lXCIpLmNvbnRlbnRXaW5kb3cubGl2ZVNvY2tldFxuXG4gIGlmIChjaGVja2JveC5jaGVja2VkKSB7XG4gICAgc29ja2V0LmVuYWJsZVByb2ZpbGluZygpXG4gIH0gZWxzZSB7XG4gICAgc29ja2V0LmRpc2FibGVQcm9maWxpbmcoKVxuICB9XG59XG5cbndpbmRvdy5oYW5kbGVMYXRlbmN5U2ltVmFsdWVCbHVyID0gZnVuY3Rpb24oaW5wdXQpIHtcbiAgY29uc3Qgc29ja2V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwbGF5Z3JvdW5kLWlmcmFtZVwiKS5jb250ZW50V2luZG93LmxpdmVTb2NrZXRcbiAgY29uc3Qgb2xkVmFsdWUgPSBzb2NrZXQuZ2V0TGF0ZW5jeVNpbSgpXG5cbiAgaWYgKGlucHV0LnZhbHVlICE9IG9sZFZhbHVlKSB7XG4gICAgY29uc3QgdmFsdWUgPSBpbnB1dC52YWx1ZSB8fCAxMDAwXG4gICAgaW5wdXQudmFsdWUgPSB2YWx1ZVxuICAgIHNvY2tldC5lbmFibGVMYXRlbmN5U2ltKHZhbHVlKVxuICB9XG59XG5cbmZ1bmN0aW9uIGluaXREZWJ1Z1Byb2ZpbGUoc29ja2V0KSB7XG4gIGNvbnN0IGRlYnVnUHJvZmlsZURpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGxheWdyb3VuZC10b29scy1kZWJ1Zy1wcm9maWxlXCIpXG4gIGNvbnN0IGRlYnVnUHJvZmlsZURpc2FibGVkRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwbGF5Z3JvdW5kLXRvb2xzLWRlYnVnLXByb2ZpbGUtZGlzYWJsZWRcIilcblxuICBpZiAoIXNvY2tldCkge1xuICAgIGRlYnVnUHJvZmlsZURpdi5oaWRkZW4gPSB0cnVlXG4gICAgZGVidWdQcm9maWxlRGlzYWJsZWREaXYuaGlkZGVuID0gZmFsc2VcbiAgICByZXR1cm5cbiAgfVxuXG4gIGRlYnVnUHJvZmlsZURpdi5oaWRkZW4gPSBmYWxzZVxuICBkZWJ1Z1Byb2ZpbGVEaXNhYmxlZERpdi5oaWRkZW4gPSB0cnVlXG5cbiAgY29uc3QgZGVidWdDaGVja2JveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVidWdfcHJvZmlsZV9lbmFibGVfZGVidWdcIilcbiAgZGVidWdDaGVja2JveC5jaGVja2VkID0gc29ja2V0LmlzRGVidWdFbmFibGVkKClcblxuICBjb25zdCBwcm9maWxlQ2hlY2tib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlYnVnX3Byb2ZpbGVfZW5hYmxlX3Byb2ZpbGVcIilcbiAgcHJvZmlsZUNoZWNrYm94LmNoZWNrZWQgPSBzb2NrZXQuaXNQcm9maWxlRW5hYmxlZCgpXG5cbiAgY29uc3QgbGF0ZW5jeVNpbUNoZWNrYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZWJ1Z19wcm9maWxlX2VuYWJsZV9sYXRlbmN5X3NpbVwiKVxuICBjb25zdCBsYXRlbmN5U2ltSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlYnVnX3Byb2ZpbGVfbGF0ZW5jeV9zaW1fdmFsdWVcIilcbiAgY29uc3QgbGF0ZW5jeVNpbVZhbHVlID0gc29ja2V0LmdldExhdGVuY3lTaW0oKVxuXG4gIGlmIChsYXRlbmN5U2ltVmFsdWUpIHtcbiAgICBsYXRlbmN5U2ltQ2hlY2tib3guY2hlY2tlZCA9IHRydWVcbiAgICBsYXRlbmN5U2ltSW5wdXQudmFsdWUgPSBsYXRlbmN5U2ltVmFsdWVcbiAgfVxuICB1cGRhdGVQbGF5Z3JvdW5kVGFiTGFiZWwoKVxufVxuXG5mdW5jdGlvbiB1cGRhdGVQbGF5Z3JvdW5kVGFiTGFiZWwoKSB7XG4gIGNvbnN0IHNvY2tldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGxheWdyb3VuZC1pZnJhbWVcIikuY29udGVudFdpbmRvdy5saXZlU29ja2V0XG4gIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwbGF5Z3JvdW5kLXRhYi1sYWJlbFwiKVxuXG4gIGlmIChzb2NrZXQuZ2V0TGF0ZW5jeVNpbSgpKSB7XG4gICAgbGFiZWwuaW5uZXJIVE1MID0gJ1BsYXlncm91bmQgPHNwYW4gY2xhc3M9XCJpcy1zaXplLTZcIiB0aXRsZT1cIkxhdGVuY3kgc2ltdWxhdG9yIGlzIGVuYWJsZWRcIj5cdTI2QTBcdUZFMEY8L3NwYW4+J1xuICB9IGVsc2Uge1xuICAgIGxhYmVsLmlubmVyVGV4dCA9IFwiUGxheWdyb3VuZFwiXG4gIH1cbn1cblxuZnVuY3Rpb24gbWF5YmVQYXRjaFNvY2tldChzb2NrZXQpIHtcbiAgaWYgKCFzb2NrZXQpIHtcbiAgICBjb25zb2xlLmxvZyhcIltDYXRhbG9ndWVdIHdpbmRvdy5saXZlU29ja2V0IGhhcyBub3QgYmVlbiBzZXQuIERlYnVnL1Byb2ZpbGUgdGFiIHdpbGwgYmUgZGlzYWJsZWQuXCIpXG4gICAgcmV0dXJuXG4gIH1cblxuICBpZiAoc29ja2V0LnBhdGNoZWQpXG4gICAgcmV0dXJuXG5cbiAgY29uc3QgcGF0aCA9IHNvY2tldC5jdXJyZW50TG9jYXRpb24ucGF0aG5hbWVcbiAgY29uc3QgUEhYX0xWX0RFQlVHID0gYHBoeDpsaXZlLXNvY2tldDpkZWJ1Zzoke3BhdGh9YFxuICBjb25zdCBQSFhfTFZfUFJPRklMRSA9IGBwaHg6bGl2ZS1zb2NrZXQ6cHJvZmlsaW5nOiR7cGF0aH1gXG4gIGNvbnN0IFBIWF9MVl9MQVRFTkNZX1NJTSA9IGBwaHg6bGl2ZS1zb2NrZXQ6bGF0ZW5jeS1zaW06JHtwYXRofWBcblxuICAvLyBMYXRlbmN5IFNpbXVsYXRpb25cblxuICBzb2NrZXQuZW5hYmxlTGF0ZW5jeVNpbSA9IGZ1bmN0aW9uKHVwcGVyQm91bmRNcyl7XG4gICAgY29uc29sZS5sb2coYGxhdGVuY3kgc2ltdWxhdG9yIGVuYWJsZWQgYXMgJHt1cHBlckJvdW5kTXN9bXMgZm9yIHRoZSBkdXJhdGlvbiBvZiB0aGlzIGJyb3dzZXIgc2Vzc2lvbi5gKVxuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oUEhYX0xWX0xBVEVOQ1lfU0lNLCB1cHBlckJvdW5kTXMpXG4gIH1cblxuICBzb2NrZXQuZGlzYWJsZUxhdGVuY3lTaW0gPSBmdW5jdGlvbigpeyBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKFBIWF9MVl9MQVRFTkNZX1NJTSl9XG5cbiAgc29ja2V0LmdldExhdGVuY3lTaW0gPSBmdW5jdGlvbigpIHtcbiAgICBsZXQgc3RyID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShQSFhfTFZfTEFURU5DWV9TSU0pXG4gICAgcmV0dXJuIHN0ciA/IHBhcnNlSW50KHN0cikgOiBudWxsXG4gIH1cblxuICAvLyBEZWJ1Z1xuXG4gIHNvY2tldC5pc0RlYnVnRW5hYmxlZCA9IGZ1bmN0aW9uKCl7IHJldHVybiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFBIWF9MVl9ERUJVRykgPT09IFwidHJ1ZVwiIH1cblxuICBzb2NrZXQuZW5hYmxlRGVidWcgPSBmdW5jdGlvbigpeyBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFBIWF9MVl9ERUJVRywgXCJ0cnVlXCIpIH1cblxuICBzb2NrZXQuZGlzYWJsZURlYnVnID0gZnVuY3Rpb24oKXsgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShQSFhfTFZfREVCVUcpIH1cblxuICAvLyBQcm9maWxlXG5cbiAgc29ja2V0LmlzUHJvZmlsZUVuYWJsZWQgPSBmdW5jdGlvbigpeyByZXR1cm4gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShQSFhfTFZfUFJPRklMRSkgPT09IFwidHJ1ZVwiIH1cblxuICBzb2NrZXQuZW5hYmxlUHJvZmlsaW5nID0gZnVuY3Rpb24oKXsgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShQSFhfTFZfUFJPRklMRSwgXCJ0cnVlXCIpIH1cblxuICBzb2NrZXQuZGlzYWJsZVByb2ZpbGluZyA9IGZ1bmN0aW9uKCl7IHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oUEhYX0xWX1BST0ZJTEUpIH1cblxuICBzb2NrZXQucGF0Y2hlZCA9IHRydWVcbn1cblxuY29uc3QgZGVidWcgPSAodmlldywga2luZCwgbXNnLCBvYmopID0+IHtcbiAgaWYgKHdpbmRvdy5saXZlU29ja2V0LmlzRGVidWdFbmFibGVkKCkpIHtcbiAgICBjb25zb2xlLmxvZyhgJHt2aWV3LmlkfSAke2tpbmR9OiAke21zZ30gLSBgLCBvYmopXG4gIH0gZWxzZSBpZiAodmlldy5pZCA9PSBcInBsYXlncm91bmRcIikge1xuICAgIG1heWJlUGF0Y2hTb2NrZXQodmlldy5saXZlU29ja2V0KVxuICAgIGlmICh2aWV3LmxpdmVTb2NrZXQuaXNEZWJ1Z0VuYWJsZWQoKSlcbiAgICAgIGNvbnNvbGUubG9nKGAke3ZpZXcuaWR9ICR7a2luZH06ICR7bXNnfSAtIGAsIG9iailcbiAgfVxufVxuXG5Ib29rcy5JZnJhbWVCb2R5ID0ge1xuICBtb3VudGVkKCl7XG4gICAgY29uc3QgaWZyYW1lID0gdGhpcy5lbFxuICAgIGlmcmFtZS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBlID0+IHtcbiAgICAgIGlmIChpZnJhbWUuaWQgPT0gXCJwbGF5Z3JvdW5kLWlmcmFtZVwiKSB7XG4gICAgICAgIGNvbnN0IHNvY2tldCA9IGlmcmFtZS5jb250ZW50V2luZG93LmxpdmVTb2NrZXRcbiAgICAgICAgbWF5YmVQYXRjaFNvY2tldChzb2NrZXQpXG4gICAgICAgIGluaXREZWJ1Z1Byb2ZpbGUoc29ja2V0KVxuICAgICAgfVxuICAgIH0pO1xuICAgIGxldCBzZW5kUmVzaXplO1xuICAgIGlmcmFtZS5jb250ZW50V2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgZSA9PiB7XG4gICAgICBpZiAoaWZyYW1lLmlkID09IFwicGxheWdyb3VuZC1pZnJhbWVcIikge1xuICAgICAgICBpZiAoaWZyYW1lLm9mZnNldFdpZHRoID4gaWZyYW1lLnBhcmVudEVsZW1lbnQub2Zmc2V0V2lkdGgpXG4gICAgICAgICAgaWZyYW1lLnN0eWxlLndpZHRoID0gXCIxMDAlXCJcblxuICAgICAgICBjb25zdCBzZWxmID0gdGhpc1xuICAgICAgICBjbGVhclRpbWVvdXQoc2VuZFJlc2l6ZSlcbiAgICAgICAgc2VuZFJlc2l6ZSA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2VsZi5wdXNoRXZlbnQoXCJwbGF5Z3JvdW5kX3Jlc2l6ZVwiLCB7aGVpZ2h0OiBpZnJhbWUuc3R5bGUuaGVpZ2h0LCB3aWR0aDogaWZyYW1lLnN0eWxlLndpZHRofSlcbiAgICAgICAgfSwgMzAwKVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59O1xuXG5Ib29rc1tcIkhpZ2hsaWdodFwiXSA9IHtcbiAgbW91bnRlZCgpIHtcbiAgICBQcmlzbS5oaWdobGlnaHRFbGVtZW50KHRoaXMuZWwpXG5cbiAgICAvLyBDYWxsIGl0IGFnYWluIHRvIGZpeCBtaXNwbGFjZWQgc2VsZWN0ZWQgbGluZXMgb24gcGFnZSByZWxvYWRcbiAgICBQcmlzbS5oaWdobGlnaHRFbGVtZW50KHRoaXMuZWwpXG4gIH0sXG4gIHVwZGF0ZWQoKSB7XG4gICAgUHJpc20uaGlnaGxpZ2h0RWxlbWVudCh0aGlzLmVsKTtcbiAgfVxufVxuXG5Ib29rc1tcIk1lcm1haWRcIl0gPSB7XG4gIG1vdW50ZWQoKSB7XG4gICAgbWVybWFpZC5pbml0KHVuZGVmaW5lZCwgYCMke3RoaXMuZWwuaWR9YCk7XG4gIH1cbn1cblxuSG9va3NbXCJTZWN0aW9uSGVhZGluZ1wiXSA9IHtcbiAgbW91bnRlZCgpIHtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbiAgICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSBgPGEgaHJlZj1cIiMke3RoaXMuZWwuaWR9XCIgY2xhc3M9XCJob3Zlci1saW5rXCI+XG4gICAgICA8c3BhbiBjbGFzcz1cImljb24tbGlua1wiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPlxuICAgICAgICA8c3ZnIHZpZXdCb3g9XCIwIDAgMTYgMTZcIiB2ZXJzaW9uPVwiMS4xXCIgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PHBhdGggZmlsbC1ydWxlPVwiZXZlbm9kZFwiIGQ9XCJNNy43NzUgMy4yNzVhLjc1Ljc1IDAgMDAxLjA2IDEuMDZsMS4yNS0xLjI1YTIgMiAwIDExMi44MyAyLjgzbC0yLjUgMi41YTIgMiAwIDAxLTIuODMgMCAuNzUuNzUgMCAwMC0xLjA2IDEuMDYgMy41IDMuNSAwIDAwNC45NSAwbDIuNS0yLjVhMy41IDMuNSAwIDAwLTQuOTUtNC45NWwtMS4yNSAxLjI1em0tNC42OSA5LjY0YTIgMiAwIDAxMC0yLjgzbDIuNS0yLjVhMiAyIDAgMDEyLjgzIDAgLjc1Ljc1IDAgMDAxLjA2LTEuMDYgMy41IDMuNSAwIDAwLTQuOTUgMGwtMi41IDIuNWEzLjUgMy41IDAgMDA0Ljk1IDQuOTVsMS4yNS0xLjI1YS43NS43NSAwIDAwLTEuMDYtMS4wNmwtMS4yNSAxLjI1YTIgMiAwIDAxLTIuODMgMHpcIj48L3BhdGg+PC9zdmc+XG4gICAgICA8L3NwYW4+XG4gICAgPC9hPmBcbiAgICB0aGlzLmVsLmluc2VydEJlZm9yZSh0ZW1wbGF0ZS5maXJzdENoaWxkLCB0aGlzLmVsLmZpcnN0Q2hpbGQpXG4gIH1cbn1cblxubGV0IGNzcmZUb2tlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJtZXRhW25hbWU9J2NzcmYtdG9rZW4nXVwiKS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50XCIpXG5sZXQgbGl2ZVNvY2tldCA9IG5ldyBMaXZlU29ja2V0KFwiL2xpdmVcIiwgU29ja2V0LCB7cGFyYW1zOiB7X2NzcmZfdG9rZW46IGNzcmZUb2tlbn0sIGhvb2tzOiBIb29rcywgdmlld0xvZ2dlcjogZGVidWd9KVxuXG4vLyBjb25uZWN0IGlmIHRoZXJlIGFyZSBhbnkgTGl2ZVZpZXdzIG9uIHRoZSBwYWdlXG5saXZlU29ja2V0LmNvbm5lY3QoKVxuXG4vLyBleHBvc2UgbGl2ZVNvY2tldCBvbiB3aW5kb3cgZm9yIHdlYiBjb25zb2xlIGRlYnVnIGxvZ3MgYW5kIGxhdGVuY3kgc2ltdWxhdGlvblxud2luZG93LmxpdmVTb2NrZXQgPSBsaXZlU29ja2V0XG5cbiJdLAogICJtYXBwaW5ncyI6ICJzNEJBQUEsb0JBRUEsR0FBSSxJQUFNLEFBQWEsTUFBTyxTQUFwQixZQUEyQixPQUFPLEFBQWEsTUFBTyxvQkFBcEIsYUFBdUMsZUFBZ0IsbUJBQWtCLEtBQUssR0FBRyxFQUFNLFNBQVMsRUFBRSxDQUFDLEdBQUksR0FBRSw4QkFBOEIsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLE9BQU8sNEJBQTRCLEVBQUUsT0FBTyxFQUFFLE1BQU0sNEJBQTRCLEtBQUssQ0FBQyxPQUFPLFdBQVcsRUFBRSxDQUFDLE1BQU8sYUFBYSxHQUFFLEdBQUksR0FBRSxFQUFFLEtBQUssRUFBRSxFQUFFLFNBQVMsRUFBRSxPQUFPLE1BQU0sUUFBUSxHQUFHLEVBQUUsSUFBSSxHQUFHLEVBQUUsUUFBUSxLQUFLLFNBQVMsUUFBUSxLQUFLLFFBQVEsUUFBUSxVQUFVLE1BQU0sS0FBSyxTQUFTLEVBQUUsQ0FBQyxNQUFPLFFBQU8sVUFBVSxTQUFTLEtBQUssR0FBRyxNQUFNLEVBQUUsS0FBSyxNQUFNLFNBQVMsRUFBRSxDQUFDLE1BQU8sR0FBRSxNQUFNLE9BQU8sZUFBZSxFQUFFLE9BQU8sQ0FBQyxNQUFNLEVBQUUsSUFBSSxFQUFFLE1BQU0sTUFBTSxXQUFXLEVBQUUsRUFBRSxDQUFDLEdBQUksR0FBRSxFQUFFLE9BQU8sRUFBRSxHQUFHLEdBQUcsRUFBRSxLQUFLLEtBQUssUUFBUSxTQUFTLEdBQUcsRUFBRSxFQUFFLEtBQUssTUFBTSxHQUFHLEVBQUUsR0FBRyxNQUFPLEdBQUUsR0FBRyxPQUFRLEtBQUssR0FBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxlQUFlLElBQUssR0FBRSxHQUFHLEVBQUUs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QUFLLEVBQUUsS0FBSyxlQUFlLFVBQVcsR0FBRSxFQUFFLFVBQVUsRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLGVBQWdCLEdBQUUsRUFBRSxLQUFLLE9BQU8sRUFBRSxRQUFRLFVBQVUsU0FBUyxFQUFFLEVBQUUsRUFBRSxDQUFDLEdBQUksR0FBRSxDQUFDLEtBQUssRUFBRSxRQUFRLEVBQUUsU0FBUyxHQUFHLE1BQU8sR0FBRSxNQUFNLElBQUksa0JBQWtCLEdBQUcsRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsTUFBTSxJQUFJLGlCQUFpQixHQUFHLEVBQUUsVUFBVSxFQUFFLEtBQUssT0FBTyxFQUFFLFFBQVEsRUFBRSxXQUFXLFNBQVMsU0FBUyxFQUFFLEVBQUUsQ0FBQyxHQUFJLEdBQUUsRUFBRSxLQUFLLEdBQUcsRUFBRSxDQUFDLE9BQVEsS0FBSyxHQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsTUFBTyxHQUFFLEtBQUssR0FBSSxHQUFFLEdBQUksR0FBRSxNQUFPLEdBQUUsRUFBRSxFQUFFLEtBQUssR0FBRyxXQUFXLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsT0FBUSxLQUFLLEdBQUUsR0FBRyxFQUFFLGVBQWUsSUFBSSxFQUFFLEdBQUcsQ0FBQyxHQUFJLEdBQUUsRUFBRSxHQUFHLEVBQUUsTUFBTSxRQUFRLEdBQUcsRUFBRSxDQUFDLEdBQUcsT0FBUSxHQUFFLEVBQUUsRUFBRSxFQUFFLE9BQU8sRUFBRSxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxPQUFPLEdBQUksR0FBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUMsRUFBRSxXQUFXLEVBQUUsQ0FBQyxDQUFDLEVBQUUsT0FBTyxFQUFFLEVBQUUsTUFBTSxHQUFHLEdBQUcsQ0FBQyxFQUFFLFFBQVEsT0FBTyxDQUFDLEdBQUksR0FBRSxFQUFFLFFBQVEsV0FBVyxNQUFNLGFBQWEsR0FBRyxFQUFFLFFBQVEsT0FBTyxFQUFFLFFBQVEsT0FBTyxFQUFFLEtBQUssT0FBUSxHQUFFLEVBQUUsU0FBUyxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsTUFBTSxDQUFFLElBQUcsR0FBRyxFQUFFLE9BQU8sR0FBRyxFQUFFLE1BQU0sT0FBTyxFQUFFLEVBQUUsS0FBSyxDQUFDLEdBQUksR0FBRSxFQUFFLE1BQU0sR0FBRyxFQUFFLE9BQU8sRUFBRSxPQUFPLE9BQU8sR0FBRyxDQUFFLGFBQWEsSUFBRyxDQUFDLEdBQUksR0FBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFFLEdBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLE1BQU0sR0FBSSxJQUFFLEVBQUUsTUFBTSxHQUFFLEVBQUUsTUFBTSxFQUFFLEdBQUcsT0FBTyxFQUFFLEVBQUUsSUFBSSxHQUFHLEVBQUUsTUFBTSxPQUFPLEdBQUcsSUFBRyxFQUFFLEVBQUUsS0FBSyxHQUFHLEVBQUUsTUFBTSxPQUFPLEdBQUcsR0FBRyxFQUFFLE1BQU0sT0FBTyxFQUFFLEVBQUUsRUFBRSxnQkFBaUIsR0FBRSxTQUFTLE9BQVEsSUFBRSxFQUFFLEtBQUksRUFBRSxNQUFPLEdBQUUsSUFBRyxBQUFVLE1BQU8sSUFBRSxPQUFuQixVQUEwQixHQUFFLEdBQUUsS0FBSyxJQUFJLEdBQUcsR0FBRSxNQUFNLE9BQU8sSUFBSSxFQUFFLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxPQUFPLFVBQVUsQ0FBRSxHQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxTQUFTLEdBQUksSUFBRSxFQUFFLE1BQU0sR0FBRSxFQUFFLEdBQUcsR0FBRSxFQUFFLE1BQU0sRUFBRSxJQUFHLEdBQUUsRUFBRSxNQUFNLEdBQUUsR0FBRSxRQUFRLEdBQUUsRUFBRSxFQUFFLE9BQU8sR0FBRyxHQUFFLEVBQUUsT0FBUSxHQUFFLE1BQU0sSUFBRyxHQUFJLElBQUUsRUFBRSxLQUFLLElBQUksSUFBRSxFQUFFLEVBQUUsR0FBRSxJQUFHLEdBQUcsR0FBRSxRQUFRLEVBQUUsRUFBRSxHQUFFLEdBQUcsR0FBSSxJQUFFLEdBQUksR0FBRSxFQUFFLEVBQUUsRUFBRSxTQUFTLEdBQUUsR0FBRyxHQUFFLEVBQUUsSUFBRyxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUUsSUFBRyxJQUFHLEVBQUUsRUFBRSxFQUFFLElBQUcsRUFBRSxFQUFFLENBQUMsR0FBSSxJQUFFLENBQUMsTUFBTSxFQUFFLElBQUksRUFBRSxNQUFNLElBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxJQUFHLEdBQUcsR0FBRSxNQUFNLEVBQUUsT0FBUSxHQUFFLE1BQU0sR0FBRSxhQUFhLEVBQUUsRUFBRSxFQUFFLEVBQUUsS0FBSyxHQUFHLFNBQVMsRUFBRSxDQUF3QixPQUFuQixHQUFFLEdBQUcsRUFBRSxFQUFFLEtBQUssS0FBVSxJQUFJLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsRUFBRSxLQUFLLE1BQU8sSUFBRyxJQUFJLE1BQU0sQ0FBQyxJQUFJLEdBQUcsSUFBSSxTQUFTLEVBQUUsRUFBRSxDQUFDLEdBQUksR0FBRSxFQUFFLE1BQU0sSUFBSSxFQUFFLEdBQUcsRUFBRSxJQUFJLEdBQUcsRUFBRSxHQUFHLEtBQUssSUFBSSxJQUFJLFNBQVMsRUFBRSxFQUFFLENBQUMsR0FBSSxHQUFFLEVBQUUsTUFBTSxJQUFJLEdBQUcsR0FBRyxHQUFHLEVBQUUsT0FBTyxPQUFRLEdBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxNQUFNLEVBQUUsS0FBSyxNQUFNLEdBQUcsV0FBVyxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsS0FBSyxLQUFLLEVBQUUsS0FBSyxRQUFRLEVBQUUsS0FBSyxNQUFNLEVBQUUsS0FBSyxPQUFPLEVBQUcsSUFBRyxJQUFJLE9BQU8sV0FBVyxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxVQUFVLEVBQUUsR0FBSSxHQUFFLEVBQUUsS0FBSyxHQUFHLEdBQUcsR0FBRyxHQUFHLEVBQUUsR0FBRyxDQUFDLEdBQUksR0FBRSxFQUFFLEdBQUcsT0FBTyxFQUFFLE9BQU8sRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLE1BQU0sR0FBRyxNQUFPLEdBQUUsWUFBWSxDQUFDLEdBQUksR0FBRSxDQUFDLE1BQU0sS0FBSyxLQUFLLEtBQUssS0FBSyxNQUFNLEVBQUUsQ0FBQyxNQUFNLEtBQUssS0FBSyxFQUFFLEtBQUssTUFBTSxFQUFFLEtBQUssRUFBRSxLQUFLLEtBQUssRUFBRSxLQUFLLEtBQUssRUFBRSxLQUFLLE9BQU8sRUFBRSxXQUFXLEVBQUUsRUFBRSxFQUFFLENBQUMsR0FBSSxHQUFFLEVBQUUsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxLQUFLLEdBQUcsTUFBTyxHQUFFLEtBQUssRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsRUFBRSxFQUFFLENBQUMsT0FBUSxHQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxHQUFHLElBQUksRUFBRSxLQUFLLElBQUksRUFBRSxFQUFFLEtBQUssQUFBQyxHQUFFLEtBQUssR0FBRyxLQUFLLEVBQUUsRUFBRSxRQUFRLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRSxFQUFFLFVBQVUsV0FBVyxFQUFFLEVBQUUsQ0FBQyxHQUFHLEFBQVUsTUFBTyxJQUFqQixTQUFtQixNQUFPLEdBQUUsR0FBRyxNQUFNLFFBQVEsR0FBRyxDQUFDLEdBQUksR0FBRSxHQUFHLE1BQU8sR0FBRSxRQUFRLFNBQVMsRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFLEtBQUssRUFBRSxHQUFJLEdBQUUsQ0FBQyxLQUFLLEVBQUUsS0FBSyxRQUFRLEVBQUUsRUFBRSxRQUFRLEdBQUcsSUFBSSxPQUFPLFFBQVEsQ0FBQyxRQUFRLEVBQUUsTUFBTSxXQUFXLEdBQUcsU0FBUyxHQUFHLEVBQUUsRUFBRSxNQUFNLEdBQUksT0FBTSxRQUFRLEdBQUcsTUFBTSxVQUFVLEtBQUssTUFBTSxFQUFFLFFBQVEsR0FBRyxFQUFFLFFBQVEsS0FBSyxJQUFJLEVBQUUsTUFBTSxJQUFJLE9BQU8sR0FB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RyxHQUFJLEdBQUUsRUFBTSxRQUFRLFlBQVksRUFBRSxFQUFFLFNBQVMsRUFBRSxRQUFRLFlBQVksQUFBRyxFQUFFLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxFQUFNLE1BQU0sSUFBSSxlQUFlLEdBQVEsR0FBRSxLQUFLLEVBQUUsV0FBVyxFQUFFLE9BQU0sT0FBTyxpQkFBaUIsYUFBYSxHQUFHLE9BQU8saUJBQWlCLFNBQVMsVUFBVSxDQUFDLEVBQUUsT0FBTyxPQUFPLEdBQUcsSUFBSSxTQUFTLEVBQUUsQ0FBQyxNQUFPLEdBQUUsS0FBSyxRQUFRLEtBQUssV0FBVyxFQUFFLEVBQUUsQ0FBQyxNQUFPLE9BQU0sVUFBVSxNQUFNLEtBQU0sSUFBRyxVQUFVLGlCQUFpQixJQUFJLFdBQVcsRUFBRSxFQUFFLENBQUMsTUFBTyxHQUFFLFVBQVUsU0FBUyxHQUFHLFdBQVcsRUFBRSxDQUFDLElBQUksV0FBVyxFQUFFLENBQUMsTUFBTSxDQUFFLEVBQUMsR0FBRyxDQUFDLE9BQU8sS0FBSyxFQUFFLFlBQWEsRUFBQyxDQUFDLEVBQUUsYUFBYSxjQUFjLENBQUUsRUFBQyxFQUFFLElBQUksQ0FBQyxFQUFNLEtBQUssU0FBUyxFQUFFLEtBQUssV0FBVyxFQUFFLEVBQUUsRUFBRSxDQUFDLEdBQUksR0FBRyxHQUFFLEFBQVUsTUFBTyxJQUFqQixTQUFtQixFQUFFLEVBQUUsYUFBYSxjQUFjLElBQUksUUFBUSxPQUFPLElBQUksTUFBTSxLQUFLLE9BQU8sU0FBUyxFQUFFLENBQUMsRUFBRSxhQUFhLHFCQUFxQixFQUFFLEVBQUcsS0FBSSxTQUFTLFlBQVksaUJBQWlCLEdBQUcsWUFBWSxFQUFFLEVBQU0sS0FBSyxTQUFTLEVBQUUsR0FBRyxFQUFFLEVBQUUsY0FBYyxRQUFRLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLEdBQUcsRUFBRSxTQUFTLEVBQUUsRUFBRSxDQUFDLEdBQUksR0FBRSxpQkFBaUIsR0FBRyxFQUFFLGlCQUFpQixHQUFHLFdBQVcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxFQUFFLE9BQU8sRUFBRSxFQUFFLE9BQU8sR0FBRyxNQUFPLEdBQUUsVUFBVSxFQUFFLEVBQUUsZ0JBQWdCLEVBQUUsRUFBRSxZQUFZLEVBQUUsRUFBRSxhQUFhLEVBQUUsR0FBRyxFQUFFLEVBQUUsUUFBUSxTQUFTLEVBQUUsQ0FBQyxHQUFJLEdBQUUsRUFBRSxNQUFNLEtBQUssRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFLGNBQWMsK0JBQStCLEVBQUUsT0FBTyxTQUFTLGNBQWMsT0FBTyxHQUFHLEVBQUUsS0FBSyxVQUFVLENBQUMsRUFBRSxhQUFhLGNBQWMsUUFBUSxFQUFFLGFBQWEsYUFBYSxHQUFHLEVBQUUsVUFBVyxJQUFHLElBQUksb0JBQW9CLEdBQUcsRUFBTSxRQUFRLFlBQVksQ0FBQyxHQUFJLEdBQUUsRUFBTSxRQUFRLFlBQVksUUFBUSxFQUFFLEdBQUcsRUFBRSxFQUFNLFFBQVEsWUFBWSxRQUFRLEVBQUUsR0FBRyxHQUFHLEVBQUUsQ0FBQyxHQUFJLEdBQUUsRUFBRSxVQUFVLEVBQUUsS0FBSyxFQUFFLEtBQUssVUFBVSxDQUFDLEVBQUUsTUFBTSxJQUFJLElBQUksR0FBRyxFQUFFLENBQUMsR0FBSSxHQUFFLEVBQUUsVUFBVSxFQUFFLFVBQVUsRUFBRSxhQUFhLEtBQUssRUFBRSxLQUFLLFVBQVUsQ0FBQyxFQUFFLE1BQU0sT0FBTyxTQUFVLEdBQUUsS0FBSyxVQUFVLENBQUMsRUFBRSxhQUFhLGFBQWEsT0FBTyxJQUFJLEVBQUUsR0FBRyxFQUFFLGFBQWEsV0FBVyxPQUFPLElBQUksRUFBRSxNQUFNLElBQUssR0FBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEtBQUssRUFBRSxZQUFZLEdBQUksT0FBTSxFQUFFLEVBQUUsR0FBRyxLQUFLO0FBQUEsS0FBUyxFQUFFLEtBQUssVUFBVSxDQUFDLEVBQUUsWUFBWSxPQUFPLEdBQUksR0FBRSxFQUFFLEdBQUcsR0FBRyxHQUFHLEVBQU0sS0FBSyxTQUFTLEVBQUUsSUFBSSxF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LEVBQUUsUUFBUSxFQUFFLFNBQVMsR0FBRyxFQUFFLFFBQVEsWUFBWSxLQUFLLFdBQVcsRUFBRSxDQUFDLEdBQUcsQUFBSSxHQUFFLEVBQUUsT0FBTyxTQUFTLEVBQUUsQ0FBQyxHQUFJLEdBQUUsRUFBRSxHQUFHLGVBQWUsTUFBTSxBQUFhLEtBQWIsWUFBZ0IsQUFBYSxJQUFiLGNBQWtCLFFBQTdGLEVBQW9HLENBQUMsR0FBSSxHQUFFLEVBQUUsSUFBSSxTQUFTLEVBQUUsQ0FBQyxHQUFJLEdBQUUsRUFBRSxjQUFjLFFBQVEsRUFBRSxFQUFFLGNBQWMsc0JBQXNCLEdBQUcsR0FBRyxFQUFFLENBQUMsR0FBSSxHQUFFLEVBQUUsY0FBYyx1QkFBdUIsRUFBRSxFQUFFLFlBQVksTUFBTSxHQUFHLEdBQUssSUFBRSxTQUFTLGNBQWMsU0FBUyxVQUFVLHFCQUFxQixFQUFFLFlBQVksSUFBSSxFQUFFLFVBQVUsSUFBSSxFQUFFLE1BQU0sUUFBUSxRQUFRLEdBQUksR0FBRSxFQUFFLHdCQUF3QixPQUFPLE1BQU8sR0FBRSxVQUFVLEdBQUcsQ0FBQyxRQUFRLEVBQUUsTUFBTSxFQUFFLFlBQVksR0FBRyxlQUFlLEVBQUUsTUFBTSxNQUFNLE9BQU8sU0FBUyxFQUFFLFFBQVEsU0FBUyxFQUFFLENBQUMsR0FBSSxHQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsWUFBWSxFQUFFLEVBQUUsZUFBZSxFQUFFLEVBQUUsT0FBTyxHQUFHLE9BQU8sRUFBRSxRQUFRLFNBQVMsRUFBRSxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsRUFBRSxPQUFPLENBQUMsR0FBSSxHQUFFLEVBQUUsWUFBWSxTQUFTLGNBQWMsU0FBUyxFQUFFLE1BQU0sUUFBUSxRQUFRLEVBQUUsWUFBWSxNQUFPLEdBQUUsR0FBRyxNQUFNLEVBQUUsUUFBUSxTQUFTLEVBQUUsQ0FBQyxPQUFRLEdBQUUsRUFBRSxNQUFNLEVBQUUsRUFBRSxZQUFZLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLE9BQU8sSUFBSSxBQUFTLEVB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
